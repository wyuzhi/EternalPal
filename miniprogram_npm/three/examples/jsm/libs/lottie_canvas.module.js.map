{"version":3,"file":"node_modules/three/examples/jsm/libs/lottie_canvas.module.js","names":["lottie","document","svgNS","locationHref","_useWebWorker","initialDefaultFrame","setWebWorker","flag","getWebWorker","setLocationHref","value","getLocationHref","createTag","type","createElement","extendPrototype","sources","destination","i","sourcePrototype","len","length","attr","prototype","Object","hasOwnProperty","call","getDescriptor","object","prop","getOwnPropertyDescriptor","createProxyFunction","ProxyFunction","audioControllerFactory","AudioController","audioFactory","this","audios","_volume","_isMuted","addAudio","audio","push","pause","resume","setRate","rateValue","createAudio","assetPath","window","Howl","src","isPlaying","play","seek","playing","rate","setVolume","setAudioFactory","_updateVolume","mute","unmute","getVolume","volume","createTypedArray","createRegularArray","arr","Uint8ClampedArray","Float32Array","Int16Array","createSizedArray","Array","apply","subframeEnabled","expressionsPlugin","idPrefix$1","isSafari","test","navigator","userAgent","_shouldRoundValues","bmPow","Math","pow","bmSqrt","sqrt","bmFloor","floor","bmMax","max","bmMin","min","BMMath","ProjectInterface$1","propertyNames","random","abs","val","absArr","defaultCurveSegments","degToRads","PI","roundCorner","roundValues","bmRnd","round","styleDiv","element","style","position","top","left","display","transformOrigin","webkitTransformOrigin","backfaceVisibility","webkitBackfaceVisibility","transformStyle","webkitTransformStyle","mozTransformStyle","BMEnterFrameEvent","currentTime","totalTime","frameMultiplier","direction","BMCompleteEvent","BMCompleteLoopEvent","totalLoops","currentLoop","BMSegmentStartEvent","firstFrame","totalFrames","BMDestroyEvent","target","BMRenderFrameErrorEvent","nativeError","BMConfigErrorEvent","BMAnimationConfigErrorEvent","createElementID","_count","HSVtoRGB","h","s","v","r","g","b","f","p","q","t","RGBtoHSV","d","addSaturationToRGB","color","offset","hsv","addBrightnessToRGB","addHueToRGB","rgbToHex","hex","colorMap","toString","setSubframeEnabled","getSubframeEnabled","setExpressionsPlugin","getExpressionsPlugin","setDefaultCurveSegments","getDefaultCurveSegments","setIdPrefix","getIdPrefix","createNS","createElementNS","dataManager","workerFn","workerInstance","_counterId","processes","workerProxy","onmessage","postMessage","path","data","_workerSelf","setupWorker","fn","Worker","Blob","blob","url","URL","createObjectURL","createWorker","e","completeLayers","layers","comps","layerData","j","jLen","k","kLen","completed","tt","td","hasMask","maskProps","masksProperties","pt","convertPathsToAbsoluteValues","ty","findCompLayers","refId","completeShapes","shapes","completeText","id","comp","findComp","__used","JSON","parse","stringify","ks","it","o","checkVersion","minimum","animVersionString","animVersion","split","minimumVersion","checkText","iterateLayers","textLayer","documentData","animationData","assets","checkChars","chars","charData","ip","op","st","sr","a","sk","sa","checkPathProperties","pathData","checkColors","iterateShapes","c","checkShapes","completeClosingShapes","closed","cl","moduleOb","__complete","completeChars","dataFunctionManager","assetLoader","formatResponse","xhr","contentTypeHeader","getResponseHeader","responseType","indexOf","response","responseText","load","fullPath","callback","errorCallback","XMLHttpRequest","err","onreadystatechange","readyState","status","open","error","send","completeData","payload","animation","event","process","onComplete","onError","createProcess","loadAnimation","processId","location","origin","pathname","loadData","completeAnimation","anim","ImagePreloader","proxyImage","canvas","width","height","ctx","getContext","fillStyle","fillRect","imageLoaded","loadedAssets","totalImages","loadedFootagesCount","totalFootages","imagesLoadedCb","footageLoaded","getAssetsPath","assetData","assetsPath","originalPath","imagePath","u","testImageLoaded","img","intervalId","setInterval","getBBox","_imageLoaded","clearInterval","bind","createFootageData","ob","footageData","_footageLoaded","ImagePreloaderFactory","images","loadAssets","cb","_createImageData","setAssetsPath","setPath","loadedImages","loadedFootages","destroy","getAsset","createImgData","crossOrigin","addEventListener","createImageData","setAttributeNS","_elementHelper","append","appendChild","setCacheType","elementHelper","BaseEvent","triggerEvent","eventName","args","_cbs","callbacks","removeEventListener","splice","markerParser","parsePayloadLines","line","lines","keys","keysCount","trim","Error","_markers","markers","_marker","markerData","time","tm","duration","dr","cm","_","__","name","ProjectInterface","registerComposition","compositions","_thisProjectFunction","nm","prepareFrame","xt","currentFrame","compInterface","renderers","registerRenderer","key","getRenderer","AnimationItem","isLoaded","currentRawFrame","frameRate","frameMult","playSpeed","playDirection","playCount","isPaused","autoplay","loop","renderer","animationID","timeCompleted","segmentPos","isSubframeEnabled","segments","_idle","_completedLoop","projectInterface","imagePreloader","audioController","configAnimation","onSetupError","onSegmentComplete","drawnFrameEvent","setParams","params","wrapper","container","animType","RendererClass","rendererSettings","globalData","defs","setProjectInterface","undefined","parseInt","autoloadSegments","initialSegment","setupAnimation","lastIndexOf","substr","fileName","trigger","setData","wrapperAttributes","attributes","getNamedItem","prerender","includeLayers","newLayers","fonts","fontManager","addChars","addFonts","initExpressions","loadNextSegment","segment","shift","segmentPath","loadSegments","imagesLoaded","checkLoaded","preloadImages","animData","fr","searchExtraCompositions","updaFrameModifier","waitForFontsLoaded","triggerConfigError","setTimeout","rendererType","initItems","gotoFrame","resize","updateContainerSize","setSubframe","renderFrame","triggerRenderFrameError","togglePause","stop","setCurrentRawFrameValue","getMarkerData","markerName","marker","goToAndStop","isFrame","numValue","Number","isNaN","frameModifier","goToAndPlay","playSegments","advanceTime","nextValue","_isComplete","checkSegments","adjustSegment","setSpeed","setDirection","setSegment","init","end","pendingFrame","forceFlag","resetSegments","onEnterFrame","onLoopComplete","onSegmentStart","onDestroy","getPath","getAssetData","hide","show","getDuration","updateDocumentData","index","getElementByPath","animationManager","registeredAnimations","initTime","playingAnimationsNum","_stopped","_isFrozen","removeElement","ev","animItem","subtractPlayingCount","registerAnimation","elem","addPlayingCount","activate","nowTime","elapsedTime","requestAnimationFrame","first","searchAnimations","standalone","animElements","concat","slice","getElementsByClassName","lenAnims","setAttribute","body","getElementsByTagName","innerText","div","freeze","unfreeze","getRegisteredAnimations","animations","BezierFactory","str","replace","beziers","bezEasing","BezierEasing","kSplineTableSize","kSampleStepSize","float32ArraySupported","A","aA1","aA2","B","C","calcBezier","aT","getSlope","points","_p","_mSampleValues","_precomputed","get","x","mX1","mY1","mX2","mY2","_precompute","_getTForX","_calcSampleValues","aX","mSampleValues","intervalStart","currentSample","lastSample","guessForT","initialSlope","aGuessT","currentSlope","newtonRaphsonIterate","aA","aB","currentX","currentT","binarySubdivide","pooling","double","poolFactory","initialLength","_create","_release","_length","_maxLength","pool","newElement","release","bezierLengthPool","addedLength","percents","lengths","segmentsLengthPool","totalLength","bezFunction","math","pointOnLine2D","x1","y1","x2","y2","x3","y3","det1","getBezierLength","pt1","pt2","pt3","pt4","ptCoord","perc","ptDistance","curveSegments","point","lastPoint","lengthData","BezierData","segmentLength","PointData","partial","partialLength","storedData","buildBezierData","bezierName","bezierData","getDistancePerc","initPos","lengthPos","lPerc","dir","bezierSegmentPoints","getSegmentsLength","shapeData","segmentsLength","pathV","pathO","pathI","getNewSegment","startPerc","endPerc","t0","t1","u0","u1","u0u0u0","t0u0u0_3","t0t0u0_3","t0t0t0","u0u0u1","t0u0u1_3","t0t0u1_3","t0t0t1","u0u1u1","t0u1u1_3","t0t1u1_3","t0t1t1","u1u1u1","t1u1u1_3","t1t1u1_3","t1t1t1","getPointInSegment","percent","pointOnLine3D","z1","z2","z3","diffDist","dist1","dist2","dist3","bez","PropertyFactory","initFrame","mathAbs","interpolateValue","frameNum","caching","newValue","offsetTime","propType","pv","keyData","nextKeyData","keyframeMetadata","fnc","iterationIndex","lastIndex","keyframes","keyframesMetadata","endValue","out","quat","qx","qy","qz","qw","heading","attitude","bank","nextKeyTime","keyTime","to","ti","ind","__fnct","getBezierEasing","y","n","segmentPerc","distanceInLine","lastFrame","_lastKeyframeIndex","_lastAddedLength","_lastPoint","outX","outY","inX","inY","keyValue","sh","quatStart","createQuaternion","quatEnd","omega","cosom","sinom","scale0","scale1","ax","ay","az","aw","bx","by","bz","bw","acos","sin","slerp","atan2","asin","constructor","values","c1","cos","c2","c3","s1","s2","s3","getValueAtCurrentTime","renderedFrame","endTime","_caching","renderResult","setVValue","multipliedValue","mult","_mdf","processEffectsSequence","frameId","effectsSequence","lock","_isFirstFrame","finalValue","kf","addEffect","effectFunction","addDynamicProperty","ValueProperty","vel","getValue","MultiDimensionalProperty","KeyframedValueProperty","KeyframedMultidimensionalProperty","arrLen","getProp","DynamicPropertyContainer","dynamicProperties","_isAnimated","iterateDynamicProperties","initDynamicPropertyContainer","pointPool","ShapePath","setPathData","setLength","doubleArrayLength","setXYAt","pos","setTripleAt","vX","vY","oX","oY","iX","iY","reverse","newPath","vertices","outPoints","inPoints","cnt","shapePool","factory","shapePath","clone","shape","cloned","ShapeCollection","addShape","releaseShapes","shapeCollectionPool","newShapeCollection","shapeCollection","ShapePropertyFactory","interpolateShape","previousValue","keyPropS","keyPropE","isHold","vertexValue","interpolateShapeCurrentTime","resetShape","paths","localShapeCollection","shape1","shape2","shapesEqual","ShapeProperty","reset","KeyframedShapeProperty","EllShapeProperty","cPoint","EllShapePropertyFactory","convertEllToPath","p0","p1","s0","_cw","_v","StarShapeProperty","StarShapePropertyFactory","sy","ir","is","convertToPath","convertStarToPath","convertPolygonToPath","or","os","rad","roundness","perimSegment","numPts","angle","longFlag","longRad","shortRad","longRound","shortRound","longPerimSegment","shortPerimSegment","currentAng","ox","oy","RectShapeProperty","RectShapePropertyFactory","convertRectToPath","v0","v1","Matrix","_cos","_sin","_tan","tan","_rnd","props","rotate","mCos","mSin","_t","rotateX","rotateY","rotateZ","shear","sx","skew","skewFromAxis","scale","sz","setTransform","l","m","translate","tx","tz","transform","a2","b2","d2","e2","f2","g2","h2","i2","j2","k2","l2","m2","n2","o2","p2","_identityCalculated","a1","b1","d1","e1","f1","g1","h1","i1","j1","k1","l1","m1","n1","o1","isIdentity","_identity","equals","matr","cloneFromProps","applyToPoint","z","applyToX","applyToY","applyToZ","getInverseMatrix","determinant","inverseMatrix","inversePoint","applyToPointArray","inversePoints","pts","retPts","applyToTriplePoints","p4","p5","p12","p13","applyToPointStringified","toCSS","cssValue","roundMatrixProperty","to2dCSS","setLocation","href","setSubframeRendering","setPrefix","prefix","setQuality","inBrowser","installPlugin","plugin","getFactory","checkReady","readyStateCheckInterval","getQueryVariable","variable","vars","queryString","pair","decodeURIComponent","useWebWorker","setIDPrefix","__getFactory","version","scripts","myScript","exports","module","define","amd","bodymovin","ShapeModifiers","modifiers","registerModifier","getModifier","ShapeModifier","TrimModifier","PuckerAndBloatModifier","initModifierProperties","addShapeToModifier","setAsAnimated","processKeys","sValue","eValue","pathsData","calculateShapeEdges","shapeLength","totalModifierLength","segmentOb","shapeSegments","shapeS","shapeE","releasePathsData","processShapes","shapePaths","_s","totalShapeLength","edges","newShapesData","addShapes","lastShape","pop","addPaths","newPaths","addSegment","newShape","addSegmentFromArray","shapeSegment","currentLengthData","segmentCount","amount","processPath","centerPoint","pathLength","clonedPath","TransformPropertyFactory","defaultVector","TransformProperty","pre","appliedTransformations","px","py","pz","rx","ry","rz","_isDirty","applyToMatrix","mat","forceRender","precalculateMatrix","autoOriented","v2","getValueAtTime","autoOrient","_addDynamicProperty","getTransformProperty","RepeaterModifier","RoundCornersModifier","getFontProperties","fontData","styles","fStyle","fWeight","toLowerCase","weight","tr","so","eo","pMatrix","rMatrix","sMatrix","tMatrix","matrix","applyTransforms","inv","scaleX","scaleY","elemsData","_currentCopies","_elements","_groups","unshift","resetElements","elements","_processed","cloneElements","newElements","changeGroupRender","renderFlag","_render","items","itemsTransform","cont","hasReloaded","copies","ceil","group","ix","reloadShapes","elems","transformData","offsetModulo","roundOffset","pProps","rProps","sProps","iteration","mProps","rd","currentV","currentI","currentO","closerV","distance","newPosPerc","FontManager","emptyChar","w","size","combinedCharacters","surrogateModifiers","zeroWidthJoiner","setUpNode","font","family","parentNode","fontFamily","node","fontSize","fontVariant","fontStyle","fontWeight","letterSpacing","offsetWidth","familyArray","enabledFamilies","join","trimFontOptions","parent","createHelper","def","helper","engine","fontProps","tHelper","fFamily","textContent","fClass","tCanvasHelper","OffscreenCanvas","measureText","text","getComputedTextLength","Font","typekitLoaded","_warned","Date","now","setIsLoadedBinded","setIsLoaded","checkLoadedFontsBinded","checkLoadedFonts","isModifier","firstCharCode","secondCharCode","sum","isZeroWidthJoiner","isCombinedCharacter","char","fontPrototype","found","ch","list","forEach","cache","fontArr","_pendingFonts","loadedSelector","shouldLoadFont","loaded","monoCase","sansCase","fPath","fOrigin","querySelectorAll","rel","sc","getCharData","charCodeAt","console","warn","getFontByName","fName","fontName","doubleSize","singleSize","loadedCount","removeChild","RenderableElement","initRenderable","isInRange","hidden","isTransparent","renderableComponents","addRenderableComponent","component","removeRenderableComponent","prepareRenderableFrame","num","checkLayerLimits","checkTransparency","finalTransform","mProp","renderConfig","hideOnTransparent","renderRenderable","sourceRectAtTime","getLayerSize","textData","MaskManagerInterface","MaskInterface","mask","_mask","_data","defineProperty","maskManager","_masksInterfaces","viewData","ExpressionPropertyInterface","defaultUnidimensionalValue","defaultMultidimensionalValue","completeProperty","expressionValue","property","getVelocityAtTime","numKeys","valueProp","assign","valueAtTime","speedAtTime","getSpeedAtTime","velocityAtTime","propertyGroup","defaultGetter","UnidimensionalPropertyInterface","arrValue","MultidimensionalPropertyInterface","TransformExpressionInterface","_thisFunction","rotation","xRotation","yRotation","xPosition","yPosition","zPosition","anchorPoint","opacity","_px","_py","_pz","_transformFactory","LayerExpressionInterface","getMatrix","toWorldMat","_elem","toWorldVec","applyPoint","toWorld","fromWorldVec","invertPoint","fromWorld","hierarchy","fromComp","sampleImage","transformInterface","_thisLayerFunction","shapeInterface","effect","textInterface","toComp","anchorPointDescriptor","defineProperties","hasParent","layerInterface","anchor_point","active","startTime","source","inPoint","outPoint","_name","registerMaskInterface","registerEffectsInterface","effects","propertyGroupFactory","interfaceFunction","parentPropertyGroup","PropertyInterface","propertyName","EffectsExpressionInterface","createGroupInterface","groupInterface","ef","mn","effectElements","_propertyGroup","createValueInterface","numProperties","np","enabled","en","expressionProperty","setGroupProperty","createEffectsInterface","effectsManager","effectsData","CompExpressionInterface","layer","pixelAspect","compSize","frameDuration","displayStartTime","numLayers","ShapePathInterface","view","propertyIndex","ShapeExpressionInterface","iterateElements","groupInterfaceFactory","fillInterfaceFactory","strokeInterfaceFactory","trimInterfaceFactory","ellipseInterfaceFactory","starInterfaceFactory","rectInterfaceFactory","roundedInterfaceFactory","repeaterInterfaceFactory","gradientFillInterfaceFactory","defaultInterfaceFactory","content","interfaces","transformInterfaceFactory","cix","contentsInterfaceFactory","startPoint","endPoint","_dashPropertyGroup","dashOb","addPropertyToDashOb","dataProps","strokeWidth","dash","start","skewAxis","outerRadius","outerRoundness","innerRoundness","innerRadius","radius","_interfaceFunction","TextExpressionInterface","_prevValue","_sourceText","sourceText","textProperty","stringValue","currentData","String","getBlendMode","blendModeEnums","mode","SliderEffect","AngleEffect","ColorEffect","PointEffect","LayerIndexEffect","MaskIndexEffect","CheckboxEffect","NoValueEffect","EffectsManager","effectItem","GroupEffect","BaseElement","FrameElement","eff","checkMasks","effectsInterface","shapesData","itemsData","setBlendMode","blendModeValue","bm","baseElement","layerElement","initBaseData","layerId","getType","prepareProperties","isVisible","_isParent","FootageInterface","dataInterfaceFactory","outlineInterface","currentPropertyName","currentProperty","getFootageData","searchProperty","propertyNameIndex","outlineInterfaceFactory","dataInterface","FootageElement","imageLoader","AudioElement","_isPlaying","_canPlay","_currentTime","_volumeMultiplier","_previousVolume","_placeholder","lv","au","BaseRenderer","TransformElement","MaskElement","maskElement","solidPath","rect","expansor","feMorph","properties","count","currentMasks","maskType","maskRef","getShapeProp","lastPath","filterID","expan","lastOperator","filterId","lastRadius","createLayerSolidPath","invRect","drawPath","maskedElement","getBaseElement","timeRemapped","totalVolume","volumeValue","checkLayers","buildItem","checkPendingElements","createItem","createImage","createComp","createSolid","createNull","createShape","createText","createCamera","createFootage","buildAllItems","pInterface","progressiveLoad","buildElementParenting","parentName","setAsParent","setHierarchy","addPendingElement","pendingElements","pathValue","setupGlobalData","fontsContainer","animationItem","initTransform","_matMdf","_opMdf","ao","renderTransform","finalMat","globalToLocal","transforms","ptNew","mHelper","getMaskProperty","isFirstFrame","getMaskelement","pathNodes","pathString","pathShapeValue","filtersFactory","createFilter","filId","skipCoordinates","fil","createAlphaToLuminanceFilter","feColorMatrix","featureSupport","registeredEffects","idPrefix","SVGEffects","filterManager","filters","Effect","countsAsEffect","registerEffect","SVGBaseElement","HierarchyElement","RenderableDOMElement","IImageElement","initElement","sourceRect","ProcessedElement","IShapeElement","initRendererElement","createContainerElements","matteElement","transformedElement","_sizeChanged","gg","layerElementParent","masker","maskGroup","maskGrouper","feCTr","feFunc","alphaRect","ln","hd","cp","clipId","cpGroup","renderElement","destroyBaseElement","createRenderableComponents","renderableEffectsManager","setMatte","initHierarchy","checkParenting","createContent","renderInnerContent","innerElem","pr","imagePreserveAspectRatio","addShapeToModifiers","shapeModifiers","isShapeInAnimatedModifiers","isAnimatedWithShape","renderModifiers","searchProcessedElement","processedElements","addProcessedElement","lineCapEnum","lineJoinEnum","SVGShapeData","transformers","level","caches","lStr","lvl","SVGStyleData","pElem","msElem","DashProperty","dashStr","dashArray","dashoffset","SVGStrokeStyleData","styleOb","SVGFillStyleData","SVGNoStyleData","GradientProperty","cLength","_cmdf","_omdf","_collapsable","checkCollapsable","_hasOpacity","SVGGradientFillStyleData","initGradientData","SVGGradientStrokeStyleData","ShapeGroupData","prevViewData","gr","SVGTransformData","comparePoints","stops","setGradientData","setGradientOpacity","pathElement","gradientId","gfill","gf","cst","opacityId","maskId","opFill","lc","lj","ml","of","ms","ost","buildShapeString","_o","_i","shapeString","SVGElementsRenderer","_identityMatrix","_matrixHelper","renderContentTransform","styleData","itemData","renderNoop","renderPath","pathStringTransformed","redraw","iterations","lLen","renderFill","styleElem","renderGradientStroke","renderGradient","renderStroke","hasOpacity","attr1","attr2","cValues","oValues","ang","dist","createRenderFunction","SVGShapeElement","stylesList","animatedContents","LetterProps","sw","fc","TextProperty","_frameId","keysIndex","canResize","minimumFontSize","ascent","boxWidth","defaultBoxWidth","justifyOffset","lh","lineWidths","ls","ps","fillColorAnim","strokeColorAnim","strokeWidthAnim","yOffset","finalSize","finalText","finalLineHeight","copyData","completeTextData","initSecondaryElement","identityMatrix","buildExpressionInterface","searchShapes","filterUniqueShapes","tempShapes","areAnimated","setShapesAsAnimated","createStyleElement","elementData","addToAnimatedContents","createGroupElement","createTransformElement","transformProperty","createShapeElement","ownTransformers","setElementStyles","render","currentTransform","modifier","processedPos","ownStyles","ownModifiers","renderShape","animatedContent","update","updated","obj","setCurrentData","searchKeyframes","getKeyframeValue","_finalValue","currentValue","currentIndex","textKeys","buildFinalText","charCode","charactersArray","shouldCombine","charAt","newLineFlag","letters","anchorGrouping","currentSize","currentPos","currentLine","lineWidth","maxLineWidth","trackingOffset","currentHeight","boxHeight","lastSpaceIndex","currentChar","uncollapsedSpaces","an","add","anIndexes","animatorJustifyOffset","extra","animatorData","letterData","based","animators","indexes","fh","fs","fb","rn","totalChars","newInd","currentInd","newData","dData","recalculate","canResizeFont","_canResize","setMinimumFontSize","_fontValue","TextSelectorProp","TextSelectorPropFactory","_currentTextLength","finalS","finalE","xe","ne","sm","getMult","easer","tot","smoothness","threshold","newCharsFlag","divisor","getTextSelectorProp","TextAnimatorDataProperty","animatorProps","defaultData","textAnimatorAnimatables","TextAnimatorProperty","renderType","_hasMaskedPath","_textData","_renderType","_animatorsData","_pathData","_moreOptions","alignment","renderedLetters","lettersChangedFlag","ITextElement","searchProperties","getMeasures","xPos","yPos","pathInfo","currentLength","currentPoint","pointInd","segmentInd","prevPoint","tanAngle","matrixHelper","renderedLettersCount","tLength","pi","letterValue","yOff","firstLine","offf","xPathPos","yPathPos","elemOpacity","letterSw","letterSc","letterFc","letterO","initPathPos","initSegmentInd","initPointInd","letterM","letterP","defaultPropsArray","animatorFirstCharOffset","justifyOffsetMult","isNewLine","animatorOffset","rot","atan","textAnimator","buildNewText","createPathShape","shapeStr","_fontSize","applyTextPropertiesToMatrix","lineNumber","buildColor","colorData","emptyProp","emptyShapeData","SVGTextLottieElement","textSpans","ISolidElement","NullElement","SVGRendererBase","ICompElement","SVGCompElement","supports3d","SVGRenderer","config","svgElement","ariaLabel","title","titleElement","titleId","description","descElement","descId","preserveAspectRatio","contentVisibility","viewBoxOnly","viewBoxSize","className","focusable","filterSize","destroyed","CVContextData","saved","cArrPos","cTr","cO","savedOp","ShapeTransformManager","sequences","sequenceList","transform_key_count","CVEffects","CVMaskElement","hasMasks","CVBaseElement","CVShapeData","transformsManager","styledShapes","styledShape","addTransformSequence","trNodes","CVShapeElement","CVTextElement","stroke","fill","currentRender","sWidth","fValue","CVImageElement","CVSolidElement","CanvasRendererBase","clearCanvas","context","dpr","devicePixelRatio","currentGlobalAlpha","contextData","transformMat","CVCompElement","CanvasRenderer","singleShape","textContainer","buildTextContents","textArray","textContents","currentTextContent","fromCharCode","buildShapeData","shapeItem","tSpan","usesGlyphs","cachedSpansLength","span","childSpan","glyph","glyphElement","_debug","tElement","justify","textBox","bbox","renderedLetter","textSpan","appendElementInPos","nextElement","insertBefore","setElements","getElements","destroyElements","duplicate","newLength","currentSavedOp","set","sequence","processSequence","processSequences","getNewKey","canvasContext","beginPath","moveTo","lineTo","bezierCurveTo","save","clip","createElements","blendMode","globalCompositeOperation","hideElement","showElement","forceRealStack","ctxTransform","ctxOpacity","restore","transformHelper","dashResetter","preTransforms","co","wi","da","do","addTransformToStyleList","removeTransformFromStyleList","closeStyles","shouldRender","ownTransforms","_shouldRender","renderShapeTransform","parentTransform","groupTransform","drawLayer","nodes","currentStyle","coOp","strokeStyle","grd","lineCap","lineJoin","miterLimit","setLineDash","lineDashOffset","closePath","isMain","renderGradientFill","renderStyledShape","shapeNodes","groupTransformMat","createLinearGradient","createRadialGradient","addColorStop","hasFill","hasStroke","commands","pathArr","commandsCounter","lastFill","lastStroke","lastStrokeW","widthCrop","heightCrop","imgW","imgH","imgRel","canvasRel","par","drawImage","cProps","trProps","globalAlpha","actionFlag","popped","containerStyle","mozTransformOrigin","transformCanvas","isDashed","elementWidth","elementHeight","elementRel","animationRel","offsetHeight","fillType","clearRect","Expressions","stackCount","registers","pushExpression","popExpression","releaseInstances","registerExpressionProperty","expression","seedRandom","nodecrypto","global","rngname","startdenom","significance","overflow","ARC4","keylen","me","S","copy","flatten","depth","result","typ","mixkey","seed","smear","stringseed","tostring","options","shortseed","entropy","randomBytes","Uint8Array","crypto","msCrypto","getRandomValues","browser","plugins","screen","autoseed","arc4","prng","int32","quick","pass","is_math_call","state","initialize$2","propTypes","SHAPE","ExpressionManager","fetch","frames","$bm_isInstanceOfArray","isNumerable","tOfV","$bm_neg","tOfA","lenA","retArr","easeInBez","easeOutBez","easeInOutBez","tOfB","lenB","sub","mul","mod","$bm_sum","$bm_sub","$bm_mul","$bm_div","$bm_mod","clamp","mm","radiansToDegrees","radians_to_degrees","degreesToRadians","degrees_to_radians","helperLengthArray","arr1","arr2","normalize","vec","rgbToHsl","hue2rgb","hslToRgb","linear","tMin","tMax","value1","value2","_tMin","rnd","createPath","inTangents","outTangents","inVertexPoint","outVertexPoint","arrPlaceholder","initiateExpression","needsVelocity","_needsRandom","elemType","$bm_transform","thisProperty","loopIn","loop_in","loopOut","loop_out","smooth","fromCompToSurface","thisLayer","thisComp","scoped_bm_rt","expression_function","eval","wiggle","freq","amp","iWiggle","lenWiggle","addedAmps","periods","loopInDuration","loopOutDuration","velocity","textIndex","textTotal","selectorValue","lookAt","elem1","elem2","fVec","pitch","easeOut","val1","val2","applyEase","easeIn","ease","iKey","lenKey","nearestKey","obKey","framesToTime","fps","timeToFrames","seedrandom","randSeed","substring","posterizeTime","framesPerSecond","executeExpression","_value","frameExpressionId","__preventDeadCodeRemoval","expressionHelpers","searchExpressions","speed","delta","_cachingAtTime","getStaticValueAtTime","addPropertyDecorator","durationFlag","cycleDuration","firstKeyFrame","ret","lastKeyFrame","initV","endV","current","repeats","lastValue","nextLastValue","firstValue","nextFirstValue","samples","sampleValue","sampleFrequency","getTransformValueAtTime","_transformCachingAtTime","anchor","rotationZ","rotationY","rotationX","orientation","positionX","positionY","positionZ","getTransformStaticValueAtTime","propertyGetProp","ShapePropertyConstructorFunction","getConstructorFunction","KeyframedShapePropertyConstructorFunction","getKeyframedConstructorFunction","ShapeExpressions","isClosed","pointOnPath","_segmentsLength","accumulatedLength","initIndex","endIndex","vectorOnPath","vectorType","xLength","yLength","magnitude","tangentOnPath","normalOnPath","shapeValue","lastTime","propertyGetShapeProp","trims","initialize$1","addDecorator","getExpressionValue","calculateExpression","isKeyframed","hasExpressions","initialize"],"sources":["node_modules/three/examples/jsm/libs/lottie_canvas.module.js"],"sourcesContent":["const lottie = {};\n\nif (typeof document !== 'undefined') {\n\nconst svgNS = 'http://www.w3.org/2000/svg';\n\nlet locationHref = '';\nlet _useWebWorker = false;\n\nconst initialDefaultFrame = -999999;\n\nconst setWebWorker = (flag) => { _useWebWorker = !!flag; };\nconst getWebWorker = () => _useWebWorker;\n\nconst setLocationHref = (value) => { locationHref = value; };\nconst getLocationHref = () => locationHref;\n\nfunction createTag(type) {\n  // return {appendChild:function(){},setAttribute:function(){},style:{}}\n  return document.createElement(type);\n}\n\nfunction extendPrototype(sources, destination) {\n  var i;\n  var len = sources.length;\n  var sourcePrototype;\n  for (i = 0; i < len; i += 1) {\n    sourcePrototype = sources[i].prototype;\n    for (var attr in sourcePrototype) {\n      if (Object.prototype.hasOwnProperty.call(sourcePrototype, attr)) destination.prototype[attr] = sourcePrototype[attr];\n    }\n  }\n}\n\nfunction getDescriptor(object, prop) {\n  return Object.getOwnPropertyDescriptor(object, prop);\n}\n\nfunction createProxyFunction(prototype) {\n  function ProxyFunction() {}\n  ProxyFunction.prototype = prototype;\n  return ProxyFunction;\n}\n\n// import Howl from '../../3rd_party/howler';\n\nconst audioControllerFactory = (function () {\n  function AudioController(audioFactory) {\n    this.audios = [];\n    this.audioFactory = audioFactory;\n    this._volume = 1;\n    this._isMuted = false;\n  }\n\n  AudioController.prototype = {\n    addAudio: function (audio) {\n      this.audios.push(audio);\n    },\n    pause: function () {\n      var i;\n      var len = this.audios.length;\n      for (i = 0; i < len; i += 1) {\n        this.audios[i].pause();\n      }\n    },\n    resume: function () {\n      var i;\n      var len = this.audios.length;\n      for (i = 0; i < len; i += 1) {\n        this.audios[i].resume();\n      }\n    },\n    setRate: function (rateValue) {\n      var i;\n      var len = this.audios.length;\n      for (i = 0; i < len; i += 1) {\n        this.audios[i].setRate(rateValue);\n      }\n    },\n    createAudio: function (assetPath) {\n      if (this.audioFactory) {\n        return this.audioFactory(assetPath);\n      } if (window.Howl) {\n        return new window.Howl({\n          src: [assetPath],\n        });\n      }\n      return {\n        isPlaying: false,\n        play: function () { this.isPlaying = true; },\n        seek: function () { this.isPlaying = false; },\n        playing: function () {},\n        rate: function () {},\n        setVolume: function () {},\n      };\n    },\n    setAudioFactory: function (audioFactory) {\n      this.audioFactory = audioFactory;\n    },\n    setVolume: function (value) {\n      this._volume = value;\n      this._updateVolume();\n    },\n    mute: function () {\n      this._isMuted = true;\n      this._updateVolume();\n    },\n    unmute: function () {\n      this._isMuted = false;\n      this._updateVolume();\n    },\n    getVolume: function () {\n      return this._volume;\n    },\n    _updateVolume: function () {\n      var i;\n      var len = this.audios.length;\n      for (i = 0; i < len; i += 1) {\n        this.audios[i].volume(this._volume * (this._isMuted ? 0 : 1));\n      }\n    },\n  };\n\n  return function () {\n    return new AudioController();\n  };\n}());\n\nconst createTypedArray = (function () {\n  function createRegularArray(type, len) {\n    var i = 0;\n    var arr = [];\n    var value;\n    switch (type) {\n      case 'int16':\n      case 'uint8c':\n        value = 1;\n        break;\n      default:\n        value = 1.1;\n        break;\n    }\n    for (i = 0; i < len; i += 1) {\n      arr.push(value);\n    }\n    return arr;\n  }\n  function createTypedArrayFactory(type, len) {\n    if (type === 'float32') {\n      return new Float32Array(len);\n    } if (type === 'int16') {\n      return new Int16Array(len);\n    } if (type === 'uint8c') {\n      return new Uint8ClampedArray(len);\n    }\n    return createRegularArray(type, len);\n  }\n  if (typeof Uint8ClampedArray === 'function' && typeof Float32Array === 'function') {\n    return createTypedArrayFactory;\n  }\n  return createRegularArray;\n}());\n\nfunction createSizedArray(len) {\n  return Array.apply(null, { length: len });\n}\n\nlet subframeEnabled = true;\nlet expressionsPlugin = null;\nlet idPrefix$1 = '';\nconst isSafari = /^((?!chrome|android).)*safari/i.test(navigator.userAgent);\nlet _shouldRoundValues = false;\nconst bmPow = Math.pow;\nconst bmSqrt = Math.sqrt;\nconst bmFloor = Math.floor;\nconst bmMax = Math.max;\nconst bmMin = Math.min;\n\nconst BMMath = {};\n(function () {\n  var propertyNames = ['abs', 'acos', 'acosh', 'asin', 'asinh', 'atan', 'atanh', 'atan2', 'ceil', 'cbrt', 'expm1', 'clz32', 'cos', 'cosh', 'exp', 'floor', 'fround', 'hypot', 'imul', 'log', 'log1p', 'log2', 'log10', 'max', 'min', 'pow', 'random', 'round', 'sign', 'sin', 'sinh', 'sqrt', 'tan', 'tanh', 'trunc', 'E', 'LN10', 'LN2', 'LOG10E', 'LOG2E', 'PI', 'SQRT1_2', 'SQRT2'];\n  var i;\n  var len = propertyNames.length;\n  for (i = 0; i < len; i += 1) {\n    BMMath[propertyNames[i]] = Math[propertyNames[i]];\n  }\n}());\n\nfunction ProjectInterface$1() { return {}; }\nBMMath.random = Math.random;\nBMMath.abs = function (val) {\n  var tOfVal = typeof val;\n  if (tOfVal === 'object' && val.length) {\n    var absArr = createSizedArray(val.length);\n    var i;\n    var len = val.length;\n    for (i = 0; i < len; i += 1) {\n      absArr[i] = Math.abs(val[i]);\n    }\n    return absArr;\n  }\n  return Math.abs(val);\n};\nlet defaultCurveSegments = 150;\nconst degToRads = Math.PI / 180;\nconst roundCorner = 0.5519;\n\nfunction roundValues(flag) {\n  _shouldRoundValues = !!flag;\n}\n\nfunction bmRnd(value) {\n  if (_shouldRoundValues) {\n    return Math.round(value);\n  }\n  return value;\n}\n\nfunction styleDiv(element) {\n  element.style.position = 'absolute';\n  element.style.top = 0;\n  element.style.left = 0;\n  element.style.display = 'block';\n  element.style.transformOrigin = '0 0';\n  element.style.webkitTransformOrigin = '0 0';\n  element.style.backfaceVisibility = 'visible';\n  element.style.webkitBackfaceVisibility = 'visible';\n  element.style.transformStyle = 'preserve-3d';\n  element.style.webkitTransformStyle = 'preserve-3d';\n  element.style.mozTransformStyle = 'preserve-3d';\n}\n\nfunction BMEnterFrameEvent(type, currentTime, totalTime, frameMultiplier) {\n  this.type = type;\n  this.currentTime = currentTime;\n  this.totalTime = totalTime;\n  this.direction = frameMultiplier < 0 ? -1 : 1;\n}\n\nfunction BMCompleteEvent(type, frameMultiplier) {\n  this.type = type;\n  this.direction = frameMultiplier < 0 ? -1 : 1;\n}\n\nfunction BMCompleteLoopEvent(type, totalLoops, currentLoop, frameMultiplier) {\n  this.type = type;\n  this.currentLoop = currentLoop;\n  this.totalLoops = totalLoops;\n  this.direction = frameMultiplier < 0 ? -1 : 1;\n}\n\nfunction BMSegmentStartEvent(type, firstFrame, totalFrames) {\n  this.type = type;\n  this.firstFrame = firstFrame;\n  this.totalFrames = totalFrames;\n}\n\nfunction BMDestroyEvent(type, target) {\n  this.type = type;\n  this.target = target;\n}\n\nfunction BMRenderFrameErrorEvent(nativeError, currentTime) {\n  this.type = 'renderFrameError';\n  this.nativeError = nativeError;\n  this.currentTime = currentTime;\n}\n\nfunction BMConfigErrorEvent(nativeError) {\n  this.type = 'configError';\n  this.nativeError = nativeError;\n}\n\nfunction BMAnimationConfigErrorEvent(type, nativeError) {\n  this.type = type;\n  this.nativeError = nativeError;\n}\n\nconst createElementID = (function () {\n  var _count = 0;\n  return function createID() {\n    _count += 1;\n    return idPrefix$1 + '__lottie_element_' + _count;\n  };\n}());\n\nfunction HSVtoRGB(h, s, v) {\n  var r;\n  var g;\n  var b;\n  var i;\n  var f;\n  var p;\n  var q;\n  var t;\n  i = Math.floor(h * 6);\n  f = h * 6 - i;\n  p = v * (1 - s);\n  q = v * (1 - f * s);\n  t = v * (1 - (1 - f) * s);\n  switch (i % 6) {\n    case 0: r = v; g = t; b = p; break;\n    case 1: r = q; g = v; b = p; break;\n    case 2: r = p; g = v; b = t; break;\n    case 3: r = p; g = q; b = v; break;\n    case 4: r = t; g = p; b = v; break;\n    case 5: r = v; g = p; b = q; break;\n    default: break;\n  }\n  return [r,\n    g,\n    b];\n}\n\nfunction RGBtoHSV(r, g, b) {\n  var max = Math.max(r, g, b);\n  var min = Math.min(r, g, b);\n  var d = max - min;\n  var h;\n  var s = (max === 0 ? 0 : d / max);\n  var v = max / 255;\n\n  switch (max) {\n    case min: h = 0; break;\n    case r: h = (g - b) + d * (g < b ? 6 : 0); h /= 6 * d; break;\n    case g: h = (b - r) + d * 2; h /= 6 * d; break;\n    case b: h = (r - g) + d * 4; h /= 6 * d; break;\n    default: break;\n  }\n\n  return [\n    h,\n    s,\n    v,\n  ];\n}\n\nfunction addSaturationToRGB(color, offset) {\n  var hsv = RGBtoHSV(color[0] * 255, color[1] * 255, color[2] * 255);\n  hsv[1] += offset;\n  if (hsv[1] > 1) {\n    hsv[1] = 1;\n  } else if (hsv[1] <= 0) {\n    hsv[1] = 0;\n  }\n  return HSVtoRGB(hsv[0], hsv[1], hsv[2]);\n}\n\nfunction addBrightnessToRGB(color, offset) {\n  var hsv = RGBtoHSV(color[0] * 255, color[1] * 255, color[2] * 255);\n  hsv[2] += offset;\n  if (hsv[2] > 1) {\n    hsv[2] = 1;\n  } else if (hsv[2] < 0) {\n    hsv[2] = 0;\n  }\n  return HSVtoRGB(hsv[0], hsv[1], hsv[2]);\n}\n\nfunction addHueToRGB(color, offset) {\n  var hsv = RGBtoHSV(color[0] * 255, color[1] * 255, color[2] * 255);\n  hsv[0] += offset / 360;\n  if (hsv[0] > 1) {\n    hsv[0] -= 1;\n  } else if (hsv[0] < 0) {\n    hsv[0] += 1;\n  }\n  return HSVtoRGB(hsv[0], hsv[1], hsv[2]);\n}\n\nconst rgbToHex = (function () {\n  var colorMap = [];\n  var i;\n  var hex;\n  for (i = 0; i < 256; i += 1) {\n    hex = i.toString(16);\n    colorMap[i] = hex.length === 1 ? '0' + hex : hex;\n  }\n\n  return function (r, g, b) {\n    if (r < 0) {\n      r = 0;\n    }\n    if (g < 0) {\n      g = 0;\n    }\n    if (b < 0) {\n      b = 0;\n    }\n    return '#' + colorMap[r] + colorMap[g] + colorMap[b];\n  };\n}());\n\nconst setSubframeEnabled = (flag) => { subframeEnabled = !!flag; };\nconst getSubframeEnabled = () => subframeEnabled;\nconst setExpressionsPlugin = (value) => { expressionsPlugin = value; };\nconst getExpressionsPlugin = () => expressionsPlugin;\nconst setDefaultCurveSegments = (value) => { defaultCurveSegments = value; };\nconst getDefaultCurveSegments = () => defaultCurveSegments;\nconst setIdPrefix = (value) => { idPrefix$1 = value; };\nconst getIdPrefix = () => idPrefix$1;\n\nfunction createNS(type) {\n  // return {appendChild:function(){},setAttribute:function(){},style:{}}\n  return document.createElementNS(svgNS, type);\n}\n\nconst dataManager = (function () {\n  var _counterId = 1;\n  var processes = [];\n  var workerFn;\n  var workerInstance;\n  var workerProxy = {\n    onmessage: function () {\n\n    },\n    postMessage: function (path) {\n      workerFn({\n        data: path,\n      });\n    },\n  };\n  var _workerSelf = {\n    postMessage: function (data) {\n      workerProxy.onmessage({\n        data: data,\n      });\n    },\n  };\n  function createWorker(fn) {\n    if (window.Worker && window.Blob && getWebWorker()) {\n      var blob = new Blob(['var _workerSelf = self; self.onmessage = ', fn.toString()], { type: 'text/javascript' });\n      // var blob = new Blob(['self.onmessage = ', fn.toString()], { type: 'text/javascript' });\n      var url = URL.createObjectURL(blob);\n      return new Worker(url);\n    }\n    workerFn = fn;\n    return workerProxy;\n  }\n\n  function setupWorker() {\n    if (!workerInstance) {\n      workerInstance = createWorker(function workerStart(e) {\n        function dataFunctionManager() {\n          function completeLayers(layers, comps) {\n            var layerData;\n            var i;\n            var len = layers.length;\n            var j;\n            var jLen;\n            var k;\n            var kLen;\n            for (i = 0; i < len; i += 1) {\n              layerData = layers[i];\n              if (('ks' in layerData) && !layerData.completed) {\n                layerData.completed = true;\n                if (layerData.tt) {\n                  layers[i - 1].td = layerData.tt;\n                }\n                if (layerData.hasMask) {\n                  var maskProps = layerData.masksProperties;\n                  jLen = maskProps.length;\n                  for (j = 0; j < jLen; j += 1) {\n                    if (maskProps[j].pt.k.i) {\n                      convertPathsToAbsoluteValues(maskProps[j].pt.k);\n                    } else {\n                      kLen = maskProps[j].pt.k.length;\n                      for (k = 0; k < kLen; k += 1) {\n                        if (maskProps[j].pt.k[k].s) {\n                          convertPathsToAbsoluteValues(maskProps[j].pt.k[k].s[0]);\n                        }\n                        if (maskProps[j].pt.k[k].e) {\n                          convertPathsToAbsoluteValues(maskProps[j].pt.k[k].e[0]);\n                        }\n                      }\n                    }\n                  }\n                }\n                if (layerData.ty === 0) {\n                  layerData.layers = findCompLayers(layerData.refId, comps);\n                  completeLayers(layerData.layers, comps);\n                } else if (layerData.ty === 4) {\n                  completeShapes(layerData.shapes);\n                } else if (layerData.ty === 5) {\n                  completeText(layerData);\n                }\n              }\n            }\n          }\n\n          function completeChars(chars, assets) {\n            if (chars) {\n              var i = 0;\n              var len = chars.length;\n              for (i = 0; i < len; i += 1) {\n                if (chars[i].t === 1) {\n                  // var compData = findComp(chars[i].data.refId, assets);\n                  chars[i].data.layers = findCompLayers(chars[i].data.refId, assets);\n                  // chars[i].data.ip = 0;\n                  // chars[i].data.op = 99999;\n                  // chars[i].data.st = 0;\n                  // chars[i].data.sr = 1;\n                  // chars[i].w = compData.w;\n                  // chars[i].data.ks = {\n                  //   a: { k: [0, 0, 0], a: 0 },\n                  //   p: { k: [0, -compData.h, 0], a: 0 },\n                  //   r: { k: 0, a: 0 },\n                  //   s: { k: [100, 100], a: 0 },\n                  //   o: { k: 100, a: 0 },\n                  // };\n                  completeLayers(chars[i].data.layers, assets);\n                }\n              }\n            }\n          }\n\n          function findComp(id, comps) {\n            var i = 0;\n            var len = comps.length;\n            while (i < len) {\n              if (comps[i].id === id) {\n                return comps[i];\n              }\n              i += 1;\n            }\n            return null;\n          }\n\n          function findCompLayers(id, comps) {\n            var comp = findComp(id, comps);\n            if (comp) {\n              if (!comp.layers.__used) {\n                comp.layers.__used = true;\n                return comp.layers;\n              }\n              return JSON.parse(JSON.stringify(comp.layers));\n            }\n            return null;\n          }\n\n          function completeShapes(arr) {\n            var i;\n            var len = arr.length;\n            var j;\n            var jLen;\n            for (i = len - 1; i >= 0; i -= 1) {\n              if (arr[i].ty === 'sh') {\n                if (arr[i].ks.k.i) {\n                  convertPathsToAbsoluteValues(arr[i].ks.k);\n                } else {\n                  jLen = arr[i].ks.k.length;\n                  for (j = 0; j < jLen; j += 1) {\n                    if (arr[i].ks.k[j].s) {\n                      convertPathsToAbsoluteValues(arr[i].ks.k[j].s[0]);\n                    }\n                    if (arr[i].ks.k[j].e) {\n                      convertPathsToAbsoluteValues(arr[i].ks.k[j].e[0]);\n                    }\n                  }\n                }\n              } else if (arr[i].ty === 'gr') {\n                completeShapes(arr[i].it);\n              }\n            }\n          }\n\n          function convertPathsToAbsoluteValues(path) {\n            var i;\n            var len = path.i.length;\n            for (i = 0; i < len; i += 1) {\n              path.i[i][0] += path.v[i][0];\n              path.i[i][1] += path.v[i][1];\n              path.o[i][0] += path.v[i][0];\n              path.o[i][1] += path.v[i][1];\n            }\n          }\n\n          function checkVersion(minimum, animVersionString) {\n            var animVersion = animVersionString ? animVersionString.split('.') : [100, 100, 100];\n            if (minimum[0] > animVersion[0]) {\n              return true;\n            } if (animVersion[0] > minimum[0]) {\n              return false;\n            }\n            if (minimum[1] > animVersion[1]) {\n              return true;\n            } if (animVersion[1] > minimum[1]) {\n              return false;\n            }\n            if (minimum[2] > animVersion[2]) {\n              return true;\n            } if (animVersion[2] > minimum[2]) {\n              return false;\n            }\n            return null;\n          }\n\n          var checkText = (function () {\n            var minimumVersion = [4, 4, 14];\n\n            function updateTextLayer(textLayer) {\n              var documentData = textLayer.t.d;\n              textLayer.t.d = {\n                k: [\n                  {\n                    s: documentData,\n                    t: 0,\n                  },\n                ],\n              };\n            }\n\n            function iterateLayers(layers) {\n              var i;\n              var len = layers.length;\n              for (i = 0; i < len; i += 1) {\n                if (layers[i].ty === 5) {\n                  updateTextLayer(layers[i]);\n                }\n              }\n            }\n\n            return function (animationData) {\n              if (checkVersion(minimumVersion, animationData.v)) {\n                iterateLayers(animationData.layers);\n                if (animationData.assets) {\n                  var i;\n                  var len = animationData.assets.length;\n                  for (i = 0; i < len; i += 1) {\n                    if (animationData.assets[i].layers) {\n                      iterateLayers(animationData.assets[i].layers);\n                    }\n                  }\n                }\n              }\n            };\n          }());\n\n          var checkChars = (function () {\n            var minimumVersion = [4, 7, 99];\n            return function (animationData) {\n              if (animationData.chars && !checkVersion(minimumVersion, animationData.v)) {\n                var i;\n                var len = animationData.chars.length;\n                for (i = 0; i < len; i += 1) {\n                  var charData = animationData.chars[i];\n                  if (charData.data && charData.data.shapes) {\n                    completeShapes(charData.data.shapes);\n                    charData.data.ip = 0;\n                    charData.data.op = 99999;\n                    charData.data.st = 0;\n                    charData.data.sr = 1;\n                    charData.data.ks = {\n                      p: { k: [0, 0], a: 0 },\n                      s: { k: [100, 100], a: 0 },\n                      a: { k: [0, 0], a: 0 },\n                      r: { k: 0, a: 0 },\n                      o: { k: 100, a: 0 },\n                    };\n                    if (!animationData.chars[i].t) {\n                      charData.data.shapes.push(\n                        {\n                          ty: 'no',\n                        }\n                      );\n                      charData.data.shapes[0].it.push(\n                        {\n                          p: { k: [0, 0], a: 0 },\n                          s: { k: [100, 100], a: 0 },\n                          a: { k: [0, 0], a: 0 },\n                          r: { k: 0, a: 0 },\n                          o: { k: 100, a: 0 },\n                          sk: { k: 0, a: 0 },\n                          sa: { k: 0, a: 0 },\n                          ty: 'tr',\n                        }\n                      );\n                    }\n                  }\n                }\n              }\n            };\n          }());\n\n          var checkPathProperties = (function () {\n            var minimumVersion = [5, 7, 15];\n\n            function updateTextLayer(textLayer) {\n              var pathData = textLayer.t.p;\n              if (typeof pathData.a === 'number') {\n                pathData.a = {\n                  a: 0,\n                  k: pathData.a,\n                };\n              }\n              if (typeof pathData.p === 'number') {\n                pathData.p = {\n                  a: 0,\n                  k: pathData.p,\n                };\n              }\n              if (typeof pathData.r === 'number') {\n                pathData.r = {\n                  a: 0,\n                  k: pathData.r,\n                };\n              }\n            }\n\n            function iterateLayers(layers) {\n              var i;\n              var len = layers.length;\n              for (i = 0; i < len; i += 1) {\n                if (layers[i].ty === 5) {\n                  updateTextLayer(layers[i]);\n                }\n              }\n            }\n\n            return function (animationData) {\n              if (checkVersion(minimumVersion, animationData.v)) {\n                iterateLayers(animationData.layers);\n                if (animationData.assets) {\n                  var i;\n                  var len = animationData.assets.length;\n                  for (i = 0; i < len; i += 1) {\n                    if (animationData.assets[i].layers) {\n                      iterateLayers(animationData.assets[i].layers);\n                    }\n                  }\n                }\n              }\n            };\n          }());\n\n          var checkColors = (function () {\n            var minimumVersion = [4, 1, 9];\n\n            function iterateShapes(shapes) {\n              var i;\n              var len = shapes.length;\n              var j;\n              var jLen;\n              for (i = 0; i < len; i += 1) {\n                if (shapes[i].ty === 'gr') {\n                  iterateShapes(shapes[i].it);\n                } else if (shapes[i].ty === 'fl' || shapes[i].ty === 'st') {\n                  if (shapes[i].c.k && shapes[i].c.k[0].i) {\n                    jLen = shapes[i].c.k.length;\n                    for (j = 0; j < jLen; j += 1) {\n                      if (shapes[i].c.k[j].s) {\n                        shapes[i].c.k[j].s[0] /= 255;\n                        shapes[i].c.k[j].s[1] /= 255;\n                        shapes[i].c.k[j].s[2] /= 255;\n                        shapes[i].c.k[j].s[3] /= 255;\n                      }\n                      if (shapes[i].c.k[j].e) {\n                        shapes[i].c.k[j].e[0] /= 255;\n                        shapes[i].c.k[j].e[1] /= 255;\n                        shapes[i].c.k[j].e[2] /= 255;\n                        shapes[i].c.k[j].e[3] /= 255;\n                      }\n                    }\n                  } else {\n                    shapes[i].c.k[0] /= 255;\n                    shapes[i].c.k[1] /= 255;\n                    shapes[i].c.k[2] /= 255;\n                    shapes[i].c.k[3] /= 255;\n                  }\n                }\n              }\n            }\n\n            function iterateLayers(layers) {\n              var i;\n              var len = layers.length;\n              for (i = 0; i < len; i += 1) {\n                if (layers[i].ty === 4) {\n                  iterateShapes(layers[i].shapes);\n                }\n              }\n            }\n\n            return function (animationData) {\n              if (checkVersion(minimumVersion, animationData.v)) {\n                iterateLayers(animationData.layers);\n                if (animationData.assets) {\n                  var i;\n                  var len = animationData.assets.length;\n                  for (i = 0; i < len; i += 1) {\n                    if (animationData.assets[i].layers) {\n                      iterateLayers(animationData.assets[i].layers);\n                    }\n                  }\n                }\n              }\n            };\n          }());\n\n          var checkShapes = (function () {\n            var minimumVersion = [4, 4, 18];\n\n            function completeClosingShapes(arr) {\n              var i;\n              var len = arr.length;\n              var j;\n              var jLen;\n              for (i = len - 1; i >= 0; i -= 1) {\n                if (arr[i].ty === 'sh') {\n                  if (arr[i].ks.k.i) {\n                    arr[i].ks.k.c = arr[i].closed;\n                  } else {\n                    jLen = arr[i].ks.k.length;\n                    for (j = 0; j < jLen; j += 1) {\n                      if (arr[i].ks.k[j].s) {\n                        arr[i].ks.k[j].s[0].c = arr[i].closed;\n                      }\n                      if (arr[i].ks.k[j].e) {\n                        arr[i].ks.k[j].e[0].c = arr[i].closed;\n                      }\n                    }\n                  }\n                } else if (arr[i].ty === 'gr') {\n                  completeClosingShapes(arr[i].it);\n                }\n              }\n            }\n\n            function iterateLayers(layers) {\n              var layerData;\n              var i;\n              var len = layers.length;\n              var j;\n              var jLen;\n              var k;\n              var kLen;\n              for (i = 0; i < len; i += 1) {\n                layerData = layers[i];\n                if (layerData.hasMask) {\n                  var maskProps = layerData.masksProperties;\n                  jLen = maskProps.length;\n                  for (j = 0; j < jLen; j += 1) {\n                    if (maskProps[j].pt.k.i) {\n                      maskProps[j].pt.k.c = maskProps[j].cl;\n                    } else {\n                      kLen = maskProps[j].pt.k.length;\n                      for (k = 0; k < kLen; k += 1) {\n                        if (maskProps[j].pt.k[k].s) {\n                          maskProps[j].pt.k[k].s[0].c = maskProps[j].cl;\n                        }\n                        if (maskProps[j].pt.k[k].e) {\n                          maskProps[j].pt.k[k].e[0].c = maskProps[j].cl;\n                        }\n                      }\n                    }\n                  }\n                }\n                if (layerData.ty === 4) {\n                  completeClosingShapes(layerData.shapes);\n                }\n              }\n            }\n\n            return function (animationData) {\n              if (checkVersion(minimumVersion, animationData.v)) {\n                iterateLayers(animationData.layers);\n                if (animationData.assets) {\n                  var i;\n                  var len = animationData.assets.length;\n                  for (i = 0; i < len; i += 1) {\n                    if (animationData.assets[i].layers) {\n                      iterateLayers(animationData.assets[i].layers);\n                    }\n                  }\n                }\n              }\n            };\n          }());\n\n          function completeData(animationData) {\n            if (animationData.__complete) {\n              return;\n            }\n            checkColors(animationData);\n            checkText(animationData);\n            checkChars(animationData);\n            checkPathProperties(animationData);\n            checkShapes(animationData);\n            completeLayers(animationData.layers, animationData.assets);\n            completeChars(animationData.chars, animationData.assets);\n            animationData.__complete = true;\n          }\n\n          function completeText(data) {\n            if (data.t.a.length === 0 && !('m' in data.t.p)) {\n              // data.singleShape = true;\n            }\n          }\n\n          var moduleOb = {};\n          moduleOb.completeData = completeData;\n          moduleOb.checkColors = checkColors;\n          moduleOb.checkChars = checkChars;\n          moduleOb.checkPathProperties = checkPathProperties;\n          moduleOb.checkShapes = checkShapes;\n          moduleOb.completeLayers = completeLayers;\n\n          return moduleOb;\n        }\n        if (!_workerSelf.dataManager) {\n          _workerSelf.dataManager = dataFunctionManager();\n        }\n\n        if (!_workerSelf.assetLoader) {\n          _workerSelf.assetLoader = (function () {\n            function formatResponse(xhr) {\n              // using typeof doubles the time of execution of this method,\n              // so if available, it's better to use the header to validate the type\n              var contentTypeHeader = xhr.getResponseHeader('content-type');\n              if (contentTypeHeader && xhr.responseType === 'json' && contentTypeHeader.indexOf('json') !== -1) {\n                return xhr.response;\n              }\n              if (xhr.response && typeof xhr.response === 'object') {\n                return xhr.response;\n              } if (xhr.response && typeof xhr.response === 'string') {\n                return JSON.parse(xhr.response);\n              } if (xhr.responseText) {\n                return JSON.parse(xhr.responseText);\n              }\n              return null;\n            }\n\n            function loadAsset(path, fullPath, callback, errorCallback) {\n              var response;\n              var xhr = new XMLHttpRequest();\n              // set responseType after calling open or IE will break.\n              try {\n                // This crashes on Android WebView prior to KitKat\n                xhr.responseType = 'json';\n              } catch (err) {} // eslint-disable-line no-empty\n              xhr.onreadystatechange = function () {\n                if (xhr.readyState === 4) {\n                  if (xhr.status === 200) {\n                    response = formatResponse(xhr);\n                    callback(response);\n                  } else {\n                    try {\n                      response = formatResponse(xhr);\n                      callback(response);\n                    } catch (err) {\n                      if (errorCallback) {\n                        errorCallback(err);\n                      }\n                    }\n                  }\n                }\n              };\n              try {\n                xhr.open('GET', path, true);\n              } catch (error) {\n                xhr.open('GET', fullPath + '/' + path, true);\n              }\n              xhr.send();\n            }\n            return {\n              load: loadAsset,\n            };\n          }());\n        }\n\n        if (e.data.type === 'loadAnimation') {\n          _workerSelf.assetLoader.load(\n            e.data.path,\n            e.data.fullPath,\n            function (data) {\n              _workerSelf.dataManager.completeData(data);\n              _workerSelf.postMessage({\n                id: e.data.id,\n                payload: data,\n                status: 'success',\n              });\n            },\n            function () {\n              _workerSelf.postMessage({\n                id: e.data.id,\n                status: 'error',\n              });\n            }\n          );\n        } else if (e.data.type === 'complete') {\n          var animation = e.data.animation;\n          _workerSelf.dataManager.completeData(animation);\n          _workerSelf.postMessage({\n            id: e.data.id,\n            payload: animation,\n            status: 'success',\n          });\n        } else if (e.data.type === 'loadData') {\n          _workerSelf.assetLoader.load(\n            e.data.path,\n            e.data.fullPath,\n            function (data) {\n              _workerSelf.postMessage({\n                id: e.data.id,\n                payload: data,\n                status: 'success',\n              });\n            },\n            function () {\n              _workerSelf.postMessage({\n                id: e.data.id,\n                status: 'error',\n              });\n            }\n          );\n        }\n      });\n\n      workerInstance.onmessage = function (event) {\n        var data = event.data;\n        var id = data.id;\n        var process = processes[id];\n        processes[id] = null;\n        if (data.status === 'success') {\n          process.onComplete(data.payload);\n        } else if (process.onError) {\n          process.onError();\n        }\n      };\n    }\n  }\n\n  function createProcess(onComplete, onError) {\n    _counterId += 1;\n    var id = 'processId_' + _counterId;\n    processes[id] = {\n      onComplete: onComplete,\n      onError: onError,\n    };\n    return id;\n  }\n\n  function loadAnimation(path, onComplete, onError) {\n    setupWorker();\n    var processId = createProcess(onComplete, onError);\n    workerInstance.postMessage({\n      type: 'loadAnimation',\n      path: path,\n      fullPath: window.location.origin + window.location.pathname,\n      id: processId,\n    });\n  }\n\n  function loadData(path, onComplete, onError) {\n    setupWorker();\n    var processId = createProcess(onComplete, onError);\n    workerInstance.postMessage({\n      type: 'loadData',\n      path: path,\n      fullPath: window.location.origin + window.location.pathname,\n      id: processId,\n    });\n  }\n\n  function completeAnimation(anim, onComplete, onError) {\n    setupWorker();\n    var processId = createProcess(onComplete, onError);\n    workerInstance.postMessage({\n      type: 'complete',\n      animation: anim,\n      id: processId,\n    });\n  }\n\n  return {\n    loadAnimation: loadAnimation,\n    loadData: loadData,\n    completeAnimation: completeAnimation,\n  };\n}());\n\nconst ImagePreloader = (function () {\n  var proxyImage = (function () {\n    var canvas = createTag('canvas');\n    canvas.width = 1;\n    canvas.height = 1;\n    var ctx = canvas.getContext('2d');\n    ctx.fillStyle = 'rgba(0,0,0,0)';\n    ctx.fillRect(0, 0, 1, 1);\n    return canvas;\n  }());\n\n  function imageLoaded() {\n    this.loadedAssets += 1;\n    if (this.loadedAssets === this.totalImages && this.loadedFootagesCount === this.totalFootages) {\n      if (this.imagesLoadedCb) {\n        this.imagesLoadedCb(null);\n      }\n    }\n  }\n  function footageLoaded() {\n    this.loadedFootagesCount += 1;\n    if (this.loadedAssets === this.totalImages && this.loadedFootagesCount === this.totalFootages) {\n      if (this.imagesLoadedCb) {\n        this.imagesLoadedCb(null);\n      }\n    }\n  }\n\n  function getAssetsPath(assetData, assetsPath, originalPath) {\n    var path = '';\n    if (assetData.e) {\n      path = assetData.p;\n    } else if (assetsPath) {\n      var imagePath = assetData.p;\n      if (imagePath.indexOf('images/') !== -1) {\n        imagePath = imagePath.split('/')[1];\n      }\n      path = assetsPath + imagePath;\n    } else {\n      path = originalPath;\n      path += assetData.u ? assetData.u : '';\n      path += assetData.p;\n    }\n    return path;\n  }\n\n  function testImageLoaded(img) {\n    var _count = 0;\n    var intervalId = setInterval(function () {\n      var box = img.getBBox();\n      if (box.width || _count > 500) {\n        this._imageLoaded();\n        clearInterval(intervalId);\n      }\n      _count += 1;\n    }.bind(this), 50);\n  }\n\n  function createImageData(assetData) {\n    var path = getAssetsPath(assetData, this.assetsPath, this.path);\n    var img = createNS('image');\n    if (isSafari) {\n      this.testImageLoaded(img);\n    } else {\n      img.addEventListener('load', this._imageLoaded, false);\n    }\n    img.addEventListener('error', function () {\n      ob.img = proxyImage;\n      this._imageLoaded();\n    }.bind(this), false);\n    img.setAttributeNS('http://www.w3.org/1999/xlink', 'href', path);\n    if (this._elementHelper.append) {\n      this._elementHelper.append(img);\n    } else {\n      this._elementHelper.appendChild(img);\n    }\n    var ob = {\n      img: img,\n      assetData: assetData,\n    };\n    return ob;\n  }\n\n  function createImgData(assetData) {\n    var path = getAssetsPath(assetData, this.assetsPath, this.path);\n    var img = createTag('img');\n    img.crossOrigin = 'anonymous';\n    img.addEventListener('load', this._imageLoaded, false);\n    img.addEventListener('error', function () {\n      ob.img = proxyImage;\n      this._imageLoaded();\n    }.bind(this), false);\n    img.src = path;\n    var ob = {\n      img: img,\n      assetData: assetData,\n    };\n    return ob;\n  }\n\n  function createFootageData(data) {\n    var ob = {\n      assetData: data,\n    };\n    var path = getAssetsPath(data, this.assetsPath, this.path);\n    dataManager.loadData(path, function (footageData) {\n      ob.img = footageData;\n      this._footageLoaded();\n    }.bind(this), function () {\n      ob.img = {};\n      this._footageLoaded();\n    }.bind(this));\n    return ob;\n  }\n\n  function loadAssets(assets, cb) {\n    this.imagesLoadedCb = cb;\n    var i;\n    var len = assets.length;\n    for (i = 0; i < len; i += 1) {\n      if (!assets[i].layers) {\n        if (!assets[i].t || assets[i].t === 'seq') {\n          this.totalImages += 1;\n          this.images.push(this._createImageData(assets[i]));\n        } else if (assets[i].t === 3) {\n          this.totalFootages += 1;\n          this.images.push(this.createFootageData(assets[i]));\n        }\n      }\n    }\n  }\n\n  function setPath(path) {\n    this.path = path || '';\n  }\n\n  function setAssetsPath(path) {\n    this.assetsPath = path || '';\n  }\n\n  function getAsset(assetData) {\n    var i = 0;\n    var len = this.images.length;\n    while (i < len) {\n      if (this.images[i].assetData === assetData) {\n        return this.images[i].img;\n      }\n      i += 1;\n    }\n    return null;\n  }\n\n  function destroy() {\n    this.imagesLoadedCb = null;\n    this.images.length = 0;\n  }\n\n  function loadedImages() {\n    return this.totalImages === this.loadedAssets;\n  }\n\n  function loadedFootages() {\n    return this.totalFootages === this.loadedFootagesCount;\n  }\n\n  function setCacheType(type, elementHelper) {\n    if (type === 'svg') {\n      this._elementHelper = elementHelper;\n      this._createImageData = this.createImageData.bind(this);\n    } else {\n      this._createImageData = this.createImgData.bind(this);\n    }\n  }\n\n  function ImagePreloaderFactory() {\n    this._imageLoaded = imageLoaded.bind(this);\n    this._footageLoaded = footageLoaded.bind(this);\n    this.testImageLoaded = testImageLoaded.bind(this);\n    this.createFootageData = createFootageData.bind(this);\n    this.assetsPath = '';\n    this.path = '';\n    this.totalImages = 0;\n    this.totalFootages = 0;\n    this.loadedAssets = 0;\n    this.loadedFootagesCount = 0;\n    this.imagesLoadedCb = null;\n    this.images = [];\n  }\n\n  ImagePreloaderFactory.prototype = {\n    loadAssets: loadAssets,\n    setAssetsPath: setAssetsPath,\n    setPath: setPath,\n    loadedImages: loadedImages,\n    loadedFootages: loadedFootages,\n    destroy: destroy,\n    getAsset: getAsset,\n    createImgData: createImgData,\n    createImageData: createImageData,\n    imageLoaded: imageLoaded,\n    footageLoaded: footageLoaded,\n    setCacheType: setCacheType,\n  };\n\n  return ImagePreloaderFactory;\n}());\n\nfunction BaseEvent() {}\nBaseEvent.prototype = {\n  triggerEvent: function (eventName, args) {\n    if (this._cbs[eventName]) {\n      var callbacks = this._cbs[eventName];\n      for (var i = 0; i < callbacks.length; i += 1) {\n        callbacks[i](args);\n      }\n    }\n  },\n  addEventListener: function (eventName, callback) {\n    if (!this._cbs[eventName]) {\n      this._cbs[eventName] = [];\n    }\n    this._cbs[eventName].push(callback);\n\n    return function () {\n      this.removeEventListener(eventName, callback);\n    }.bind(this);\n  },\n  removeEventListener: function (eventName, callback) {\n    if (!callback) {\n      this._cbs[eventName] = null;\n    } else if (this._cbs[eventName]) {\n      var i = 0;\n      var len = this._cbs[eventName].length;\n      while (i < len) {\n        if (this._cbs[eventName][i] === callback) {\n          this._cbs[eventName].splice(i, 1);\n          i -= 1;\n          len -= 1;\n        }\n        i += 1;\n      }\n      if (!this._cbs[eventName].length) {\n        this._cbs[eventName] = null;\n      }\n    }\n  },\n};\n\nconst markerParser = (\n\n  function () {\n    function parsePayloadLines(payload) {\n      var lines = payload.split('\\r\\n');\n      var keys = {};\n      var line;\n      var keysCount = 0;\n      for (var i = 0; i < lines.length; i += 1) {\n        line = lines[i].split(':');\n        if (line.length === 2) {\n          keys[line[0]] = line[1].trim();\n          keysCount += 1;\n        }\n      }\n      if (keysCount === 0) {\n        throw new Error();\n      }\n      return keys;\n    }\n\n    return function (_markers) {\n      var markers = [];\n      for (var i = 0; i < _markers.length; i += 1) {\n        var _marker = _markers[i];\n        var markerData = {\n          time: _marker.tm,\n          duration: _marker.dr,\n        };\n        try {\n          markerData.payload = JSON.parse(_markers[i].cm);\n        } catch (_) {\n          try {\n            markerData.payload = parsePayloadLines(_markers[i].cm);\n          } catch (__) {\n            markerData.payload = {\n              name: _markers[i].cm,\n            };\n          }\n        }\n        markers.push(markerData);\n      }\n      return markers;\n    };\n  }());\n\nconst ProjectInterface = (function () {\n  function registerComposition(comp) {\n    this.compositions.push(comp);\n  }\n\n  return function () {\n    function _thisProjectFunction(name) {\n      var i = 0;\n      var len = this.compositions.length;\n      while (i < len) {\n        if (this.compositions[i].data && this.compositions[i].data.nm === name) {\n          if (this.compositions[i].prepareFrame && this.compositions[i].data.xt) {\n            this.compositions[i].prepareFrame(this.currentFrame);\n          }\n          return this.compositions[i].compInterface;\n        }\n        i += 1;\n      }\n      return null;\n    }\n\n    _thisProjectFunction.compositions = [];\n    _thisProjectFunction.currentFrame = 0;\n\n    _thisProjectFunction.registerComposition = registerComposition;\n\n    return _thisProjectFunction;\n  };\n}());\n\nconst renderers = {};\n\nconst registerRenderer = (key, value) => {\n  renderers[key] = value;\n};\n\nfunction getRenderer(key) {\n  return renderers[key];\n}\n\nconst AnimationItem = function () {\n  this._cbs = [];\n  this.name = '';\n  this.path = '';\n  this.isLoaded = false;\n  this.currentFrame = 0;\n  this.currentRawFrame = 0;\n  this.firstFrame = 0;\n  this.totalFrames = 0;\n  this.frameRate = 0;\n  this.frameMult = 0;\n  this.playSpeed = 1;\n  this.playDirection = 1;\n  this.playCount = 0;\n  this.animationData = {};\n  this.assets = [];\n  this.isPaused = true;\n  this.autoplay = false;\n  this.loop = true;\n  this.renderer = null;\n  this.animationID = createElementID();\n  this.assetsPath = '';\n  this.timeCompleted = 0;\n  this.segmentPos = 0;\n  this.isSubframeEnabled = getSubframeEnabled();\n  this.segments = [];\n  this._idle = true;\n  this._completedLoop = false;\n  this.projectInterface = ProjectInterface();\n  this.imagePreloader = new ImagePreloader();\n  this.audioController = audioControllerFactory();\n  this.markers = [];\n  this.configAnimation = this.configAnimation.bind(this);\n  this.onSetupError = this.onSetupError.bind(this);\n  this.onSegmentComplete = this.onSegmentComplete.bind(this);\n  this.drawnFrameEvent = new BMEnterFrameEvent('drawnFrame', 0, 0, 0);\n};\n\nextendPrototype([BaseEvent], AnimationItem);\n\nAnimationItem.prototype.setParams = function (params) {\n  if (params.wrapper || params.container) {\n    this.wrapper = params.wrapper || params.container;\n  }\n  var animType = 'svg';\n  if (params.animType) {\n    animType = params.animType;\n  } else if (params.renderer) {\n    animType = params.renderer;\n  }\n  const RendererClass = getRenderer(animType);\n  this.renderer = new RendererClass(this, params.rendererSettings);\n  this.imagePreloader.setCacheType(animType, this.renderer.globalData.defs);\n  this.renderer.setProjectInterface(this.projectInterface);\n  this.animType = animType;\n  if (params.loop === ''\n        || params.loop === null\n        || params.loop === undefined\n        || params.loop === true) {\n    this.loop = true;\n  } else if (params.loop === false) {\n    this.loop = false;\n  } else {\n    this.loop = parseInt(params.loop, 10);\n  }\n  this.autoplay = 'autoplay' in params ? params.autoplay : true;\n  this.name = params.name ? params.name : '';\n  this.autoloadSegments = Object.prototype.hasOwnProperty.call(params, 'autoloadSegments') ? params.autoloadSegments : true;\n  this.assetsPath = params.assetsPath;\n  this.initialSegment = params.initialSegment;\n  if (params.audioFactory) {\n    this.audioController.setAudioFactory(params.audioFactory);\n  }\n  if (params.animationData) {\n    this.setupAnimation(params.animationData);\n  } else if (params.path) {\n    if (params.path.lastIndexOf('\\\\') !== -1) {\n      this.path = params.path.substr(0, params.path.lastIndexOf('\\\\') + 1);\n    } else {\n      this.path = params.path.substr(0, params.path.lastIndexOf('/') + 1);\n    }\n    this.fileName = params.path.substr(params.path.lastIndexOf('/') + 1);\n    this.fileName = this.fileName.substr(0, this.fileName.lastIndexOf('.json'));\n    dataManager.loadAnimation(\n      params.path,\n      this.configAnimation,\n      this.onSetupError\n    );\n  }\n};\n\nAnimationItem.prototype.onSetupError = function () {\n  this.trigger('data_failed');\n};\n\nAnimationItem.prototype.setupAnimation = function (data) {\n  dataManager.completeAnimation(\n    data,\n    this.configAnimation\n  );\n};\n\nAnimationItem.prototype.setData = function (wrapper, animationData) {\n  if (animationData) {\n    if (typeof animationData !== 'object') {\n      animationData = JSON.parse(animationData);\n    }\n  }\n  var params = {\n    wrapper: wrapper,\n    animationData: animationData,\n  };\n  var wrapperAttributes = wrapper.attributes;\n\n  params.path = wrapperAttributes.getNamedItem('data-animation-path') // eslint-disable-line no-nested-ternary\n    ? wrapperAttributes.getNamedItem('data-animation-path').value\n    : wrapperAttributes.getNamedItem('data-bm-path') // eslint-disable-line no-nested-ternary\n      ? wrapperAttributes.getNamedItem('data-bm-path').value\n      : wrapperAttributes.getNamedItem('bm-path')\n        ? wrapperAttributes.getNamedItem('bm-path').value\n        : '';\n  params.animType = wrapperAttributes.getNamedItem('data-anim-type') // eslint-disable-line no-nested-ternary\n    ? wrapperAttributes.getNamedItem('data-anim-type').value\n    : wrapperAttributes.getNamedItem('data-bm-type') // eslint-disable-line no-nested-ternary\n      ? wrapperAttributes.getNamedItem('data-bm-type').value\n      : wrapperAttributes.getNamedItem('bm-type') // eslint-disable-line no-nested-ternary\n        ? wrapperAttributes.getNamedItem('bm-type').value\n        : wrapperAttributes.getNamedItem('data-bm-renderer') // eslint-disable-line no-nested-ternary\n          ? wrapperAttributes.getNamedItem('data-bm-renderer').value\n          : wrapperAttributes.getNamedItem('bm-renderer')\n            ? wrapperAttributes.getNamedItem('bm-renderer').value\n            : 'canvas';\n\n  var loop = wrapperAttributes.getNamedItem('data-anim-loop') // eslint-disable-line no-nested-ternary\n    ? wrapperAttributes.getNamedItem('data-anim-loop').value\n    : wrapperAttributes.getNamedItem('data-bm-loop') // eslint-disable-line no-nested-ternary\n      ? wrapperAttributes.getNamedItem('data-bm-loop').value\n      : wrapperAttributes.getNamedItem('bm-loop')\n        ? wrapperAttributes.getNamedItem('bm-loop').value\n        : '';\n  if (loop === 'false') {\n    params.loop = false;\n  } else if (loop === 'true') {\n    params.loop = true;\n  } else if (loop !== '') {\n    params.loop = parseInt(loop, 10);\n  }\n  var autoplay = wrapperAttributes.getNamedItem('data-anim-autoplay') // eslint-disable-line no-nested-ternary\n    ? wrapperAttributes.getNamedItem('data-anim-autoplay').value\n    : wrapperAttributes.getNamedItem('data-bm-autoplay') // eslint-disable-line no-nested-ternary\n      ? wrapperAttributes.getNamedItem('data-bm-autoplay').value\n      : wrapperAttributes.getNamedItem('bm-autoplay')\n        ? wrapperAttributes.getNamedItem('bm-autoplay').value\n        : true;\n  params.autoplay = autoplay !== 'false';\n\n  params.name = wrapperAttributes.getNamedItem('data-name') // eslint-disable-line no-nested-ternary\n    ? wrapperAttributes.getNamedItem('data-name').value\n    : wrapperAttributes.getNamedItem('data-bm-name') // eslint-disable-line no-nested-ternary\n      ? wrapperAttributes.getNamedItem('data-bm-name').value\n      : wrapperAttributes.getNamedItem('bm-name')\n        ? wrapperAttributes.getNamedItem('bm-name').value\n        : '';\n  var prerender = wrapperAttributes.getNamedItem('data-anim-prerender') // eslint-disable-line no-nested-ternary\n    ? wrapperAttributes.getNamedItem('data-anim-prerender').value\n    : wrapperAttributes.getNamedItem('data-bm-prerender') // eslint-disable-line no-nested-ternary\n      ? wrapperAttributes.getNamedItem('data-bm-prerender').value\n      : wrapperAttributes.getNamedItem('bm-prerender')\n        ? wrapperAttributes.getNamedItem('bm-prerender').value\n        : '';\n\n  if (prerender === 'false') {\n    params.prerender = false;\n  }\n  this.setParams(params);\n};\n\nAnimationItem.prototype.includeLayers = function (data) {\n  if (data.op > this.animationData.op) {\n    this.animationData.op = data.op;\n    this.totalFrames = Math.floor(data.op - this.animationData.ip);\n  }\n  var layers = this.animationData.layers;\n  var i;\n  var len = layers.length;\n  var newLayers = data.layers;\n  var j;\n  var jLen = newLayers.length;\n  for (j = 0; j < jLen; j += 1) {\n    i = 0;\n    while (i < len) {\n      if (layers[i].id === newLayers[j].id) {\n        layers[i] = newLayers[j];\n        break;\n      }\n      i += 1;\n    }\n  }\n  if (data.chars || data.fonts) {\n    this.renderer.globalData.fontManager.addChars(data.chars);\n    this.renderer.globalData.fontManager.addFonts(data.fonts, this.renderer.globalData.defs);\n  }\n  if (data.assets) {\n    len = data.assets.length;\n    for (i = 0; i < len; i += 1) {\n      this.animationData.assets.push(data.assets[i]);\n    }\n  }\n  this.animationData.__complete = false;\n  dataManager.completeAnimation(\n    this.animationData,\n    this.onSegmentComplete\n  );\n};\n\nAnimationItem.prototype.onSegmentComplete = function (data) {\n  this.animationData = data;\n  var expressionsPlugin = getExpressionsPlugin();\n  if (expressionsPlugin) {\n    expressionsPlugin.initExpressions(this);\n  }\n  this.loadNextSegment();\n};\n\nAnimationItem.prototype.loadNextSegment = function () {\n  var segments = this.animationData.segments;\n  if (!segments || segments.length === 0 || !this.autoloadSegments) {\n    this.trigger('data_ready');\n    this.timeCompleted = this.totalFrames;\n    return;\n  }\n  var segment = segments.shift();\n  this.timeCompleted = segment.time * this.frameRate;\n  var segmentPath = this.path + this.fileName + '_' + this.segmentPos + '.json';\n  this.segmentPos += 1;\n  dataManager.loadData(segmentPath, this.includeLayers.bind(this), function () {\n    this.trigger('data_failed');\n  }.bind(this));\n};\n\nAnimationItem.prototype.loadSegments = function () {\n  var segments = this.animationData.segments;\n  if (!segments) {\n    this.timeCompleted = this.totalFrames;\n  }\n  this.loadNextSegment();\n};\n\nAnimationItem.prototype.imagesLoaded = function () {\n  this.trigger('loaded_images');\n  this.checkLoaded();\n};\n\nAnimationItem.prototype.preloadImages = function () {\n  this.imagePreloader.setAssetsPath(this.assetsPath);\n  this.imagePreloader.setPath(this.path);\n  this.imagePreloader.loadAssets(this.animationData.assets, this.imagesLoaded.bind(this));\n};\n\nAnimationItem.prototype.configAnimation = function (animData) {\n  if (!this.renderer) {\n    return;\n  }\n  try {\n    this.animationData = animData;\n    if (this.initialSegment) {\n      this.totalFrames = Math.floor(this.initialSegment[1] - this.initialSegment[0]);\n      this.firstFrame = Math.round(this.initialSegment[0]);\n    } else {\n      this.totalFrames = Math.floor(this.animationData.op - this.animationData.ip);\n      this.firstFrame = Math.round(this.animationData.ip);\n    }\n    this.renderer.configAnimation(animData);\n    if (!animData.assets) {\n      animData.assets = [];\n    }\n\n    this.assets = this.animationData.assets;\n    this.frameRate = this.animationData.fr;\n    this.frameMult = this.animationData.fr / 1000;\n    this.renderer.searchExtraCompositions(animData.assets);\n    this.markers = markerParser(animData.markers || []);\n    this.trigger('config_ready');\n    this.preloadImages();\n    this.loadSegments();\n    this.updaFrameModifier();\n    this.waitForFontsLoaded();\n    if (this.isPaused) {\n      this.audioController.pause();\n    }\n  } catch (error) {\n    this.triggerConfigError(error);\n  }\n};\n\nAnimationItem.prototype.waitForFontsLoaded = function () {\n  if (!this.renderer) {\n    return;\n  }\n  if (this.renderer.globalData.fontManager.isLoaded) {\n    this.checkLoaded();\n  } else {\n    setTimeout(this.waitForFontsLoaded.bind(this), 20);\n  }\n};\n\nAnimationItem.prototype.checkLoaded = function () {\n  if (!this.isLoaded\n        && this.renderer.globalData.fontManager.isLoaded\n        && (this.imagePreloader.loadedImages() || this.renderer.rendererType !== 'canvas')\n        && (this.imagePreloader.loadedFootages())\n  ) {\n    this.isLoaded = true;\n    var expressionsPlugin = getExpressionsPlugin();\n    if (expressionsPlugin) {\n      expressionsPlugin.initExpressions(this);\n    }\n    this.renderer.initItems();\n    setTimeout(function () {\n      this.trigger('DOMLoaded');\n    }.bind(this), 0);\n    this.gotoFrame();\n    if (this.autoplay) {\n      this.play();\n    }\n  }\n};\n\nAnimationItem.prototype.resize = function () {\n  this.renderer.updateContainerSize();\n};\n\nAnimationItem.prototype.setSubframe = function (flag) {\n  this.isSubframeEnabled = !!flag;\n};\n\nAnimationItem.prototype.gotoFrame = function () {\n  this.currentFrame = this.isSubframeEnabled ? this.currentRawFrame : ~~this.currentRawFrame; // eslint-disable-line no-bitwise\n\n  if (this.timeCompleted !== this.totalFrames && this.currentFrame > this.timeCompleted) {\n    this.currentFrame = this.timeCompleted;\n  }\n  this.trigger('enterFrame');\n  this.renderFrame();\n  this.trigger('drawnFrame');\n};\n\nAnimationItem.prototype.renderFrame = function () {\n  if (this.isLoaded === false || !this.renderer) {\n    return;\n  }\n  try {\n    this.renderer.renderFrame(this.currentFrame + this.firstFrame);\n  } catch (error) {\n    this.triggerRenderFrameError(error);\n  }\n};\n\nAnimationItem.prototype.play = function (name) {\n  if (name && this.name !== name) {\n    return;\n  }\n  if (this.isPaused === true) {\n    this.isPaused = false;\n    this.trigger('_pause');\n    this.audioController.resume();\n    if (this._idle) {\n      this._idle = false;\n      this.trigger('_active');\n    }\n  }\n};\n\nAnimationItem.prototype.pause = function (name) {\n  if (name && this.name !== name) {\n    return;\n  }\n  if (this.isPaused === false) {\n    this.isPaused = true;\n    this.trigger('_play');\n    this._idle = true;\n    this.trigger('_idle');\n    this.audioController.pause();\n  }\n};\n\nAnimationItem.prototype.togglePause = function (name) {\n  if (name && this.name !== name) {\n    return;\n  }\n  if (this.isPaused === true) {\n    this.play();\n  } else {\n    this.pause();\n  }\n};\n\nAnimationItem.prototype.stop = function (name) {\n  if (name && this.name !== name) {\n    return;\n  }\n  this.pause();\n  this.playCount = 0;\n  this._completedLoop = false;\n  this.setCurrentRawFrameValue(0);\n};\n\nAnimationItem.prototype.getMarkerData = function (markerName) {\n  var marker;\n  for (var i = 0; i < this.markers.length; i += 1) {\n    marker = this.markers[i];\n    if (marker.payload && marker.payload.name === markerName) {\n      return marker;\n    }\n  }\n  return null;\n};\n\nAnimationItem.prototype.goToAndStop = function (value, isFrame, name) {\n  if (name && this.name !== name) {\n    return;\n  }\n  var numValue = Number(value);\n  if (isNaN(numValue)) {\n    var marker = this.getMarkerData(value);\n    if (marker) {\n      this.goToAndStop(marker.time, true);\n    }\n  } else if (isFrame) {\n    this.setCurrentRawFrameValue(value);\n  } else {\n    this.setCurrentRawFrameValue(value * this.frameModifier);\n  }\n  this.pause();\n};\n\nAnimationItem.prototype.goToAndPlay = function (value, isFrame, name) {\n  if (name && this.name !== name) {\n    return;\n  }\n  var numValue = Number(value);\n  if (isNaN(numValue)) {\n    var marker = this.getMarkerData(value);\n    if (marker) {\n      if (!marker.duration) {\n        this.goToAndStop(marker.time, true);\n      } else {\n        this.playSegments([marker.time, marker.time + marker.duration], true);\n      }\n    }\n  } else {\n    this.goToAndStop(numValue, isFrame, name);\n  }\n  this.play();\n};\n\nAnimationItem.prototype.advanceTime = function (value) {\n  if (this.isPaused === true || this.isLoaded === false) {\n    return;\n  }\n  var nextValue = this.currentRawFrame + value * this.frameModifier;\n  var _isComplete = false;\n  // Checking if nextValue > totalFrames - 1 for addressing non looping and looping animations.\n  // If animation won't loop, it should stop at totalFrames - 1. If it will loop it should complete the last frame and then loop.\n  if (nextValue >= this.totalFrames - 1 && this.frameModifier > 0) {\n    if (!this.loop || this.playCount === this.loop) {\n      if (!this.checkSegments(nextValue > this.totalFrames ? nextValue % this.totalFrames : 0)) {\n        _isComplete = true;\n        nextValue = this.totalFrames - 1;\n      }\n    } else if (nextValue >= this.totalFrames) {\n      this.playCount += 1;\n      if (!this.checkSegments(nextValue % this.totalFrames)) {\n        this.setCurrentRawFrameValue(nextValue % this.totalFrames);\n        this._completedLoop = true;\n        this.trigger('loopComplete');\n      }\n    } else {\n      this.setCurrentRawFrameValue(nextValue);\n    }\n  } else if (nextValue < 0) {\n    if (!this.checkSegments(nextValue % this.totalFrames)) {\n      if (this.loop && !(this.playCount-- <= 0 && this.loop !== true)) { // eslint-disable-line no-plusplus\n        this.setCurrentRawFrameValue(this.totalFrames + (nextValue % this.totalFrames));\n        if (!this._completedLoop) {\n          this._completedLoop = true;\n        } else {\n          this.trigger('loopComplete');\n        }\n      } else {\n        _isComplete = true;\n        nextValue = 0;\n      }\n    }\n  } else {\n    this.setCurrentRawFrameValue(nextValue);\n  }\n  if (_isComplete) {\n    this.setCurrentRawFrameValue(nextValue);\n    this.pause();\n    this.trigger('complete');\n  }\n};\n\nAnimationItem.prototype.adjustSegment = function (arr, offset) {\n  this.playCount = 0;\n  if (arr[1] < arr[0]) {\n    if (this.frameModifier > 0) {\n      if (this.playSpeed < 0) {\n        this.setSpeed(-this.playSpeed);\n      } else {\n        this.setDirection(-1);\n      }\n    }\n    this.totalFrames = arr[0] - arr[1];\n    this.timeCompleted = this.totalFrames;\n    this.firstFrame = arr[1];\n    this.setCurrentRawFrameValue(this.totalFrames - 0.001 - offset);\n  } else if (arr[1] > arr[0]) {\n    if (this.frameModifier < 0) {\n      if (this.playSpeed < 0) {\n        this.setSpeed(-this.playSpeed);\n      } else {\n        this.setDirection(1);\n      }\n    }\n    this.totalFrames = arr[1] - arr[0];\n    this.timeCompleted = this.totalFrames;\n    this.firstFrame = arr[0];\n    this.setCurrentRawFrameValue(0.001 + offset);\n  }\n  this.trigger('segmentStart');\n};\nAnimationItem.prototype.setSegment = function (init, end) {\n  var pendingFrame = -1;\n  if (this.isPaused) {\n    if (this.currentRawFrame + this.firstFrame < init) {\n      pendingFrame = init;\n    } else if (this.currentRawFrame + this.firstFrame > end) {\n      pendingFrame = end - init;\n    }\n  }\n\n  this.firstFrame = init;\n  this.totalFrames = end - init;\n  this.timeCompleted = this.totalFrames;\n  if (pendingFrame !== -1) {\n    this.goToAndStop(pendingFrame, true);\n  }\n};\n\nAnimationItem.prototype.playSegments = function (arr, forceFlag) {\n  if (forceFlag) {\n    this.segments.length = 0;\n  }\n  if (typeof arr[0] === 'object') {\n    var i;\n    var len = arr.length;\n    for (i = 0; i < len; i += 1) {\n      this.segments.push(arr[i]);\n    }\n  } else {\n    this.segments.push(arr);\n  }\n  if (this.segments.length && forceFlag) {\n    this.adjustSegment(this.segments.shift(), 0);\n  }\n  if (this.isPaused) {\n    this.play();\n  }\n};\n\nAnimationItem.prototype.resetSegments = function (forceFlag) {\n  this.segments.length = 0;\n  this.segments.push([this.animationData.ip, this.animationData.op]);\n  if (forceFlag) {\n    this.checkSegments(0);\n  }\n};\nAnimationItem.prototype.checkSegments = function (offset) {\n  if (this.segments.length) {\n    this.adjustSegment(this.segments.shift(), offset);\n    return true;\n  }\n  return false;\n};\n\nAnimationItem.prototype.destroy = function (name) {\n  if ((name && this.name !== name) || !this.renderer) {\n    return;\n  }\n  this.renderer.destroy();\n  this.imagePreloader.destroy();\n  this.trigger('destroy');\n  this._cbs = null;\n  this.onEnterFrame = null;\n  this.onLoopComplete = null;\n  this.onComplete = null;\n  this.onSegmentStart = null;\n  this.onDestroy = null;\n  this.renderer = null;\n  this.renderer = null;\n  this.imagePreloader = null;\n  this.projectInterface = null;\n};\n\nAnimationItem.prototype.setCurrentRawFrameValue = function (value) {\n  this.currentRawFrame = value;\n  this.gotoFrame();\n};\n\nAnimationItem.prototype.setSpeed = function (val) {\n  this.playSpeed = val;\n  this.updaFrameModifier();\n};\n\nAnimationItem.prototype.setDirection = function (val) {\n  this.playDirection = val < 0 ? -1 : 1;\n  this.updaFrameModifier();\n};\n\nAnimationItem.prototype.setVolume = function (val, name) {\n  if (name && this.name !== name) {\n    return;\n  }\n  this.audioController.setVolume(val);\n};\n\nAnimationItem.prototype.getVolume = function () {\n  return this.audioController.getVolume();\n};\n\nAnimationItem.prototype.mute = function (name) {\n  if (name && this.name !== name) {\n    return;\n  }\n  this.audioController.mute();\n};\n\nAnimationItem.prototype.unmute = function (name) {\n  if (name && this.name !== name) {\n    return;\n  }\n  this.audioController.unmute();\n};\n\nAnimationItem.prototype.updaFrameModifier = function () {\n  this.frameModifier = this.frameMult * this.playSpeed * this.playDirection;\n  this.audioController.setRate(this.playSpeed * this.playDirection);\n};\n\nAnimationItem.prototype.getPath = function () {\n  return this.path;\n};\n\nAnimationItem.prototype.getAssetsPath = function (assetData) {\n  var path = '';\n  if (assetData.e) {\n    path = assetData.p;\n  } else if (this.assetsPath) {\n    var imagePath = assetData.p;\n    if (imagePath.indexOf('images/') !== -1) {\n      imagePath = imagePath.split('/')[1];\n    }\n    path = this.assetsPath + imagePath;\n  } else {\n    path = this.path;\n    path += assetData.u ? assetData.u : '';\n    path += assetData.p;\n  }\n  return path;\n};\n\nAnimationItem.prototype.getAssetData = function (id) {\n  var i = 0;\n  var len = this.assets.length;\n  while (i < len) {\n    if (id === this.assets[i].id) {\n      return this.assets[i];\n    }\n    i += 1;\n  }\n  return null;\n};\n\nAnimationItem.prototype.hide = function () {\n  this.renderer.hide();\n};\n\nAnimationItem.prototype.show = function () {\n  this.renderer.show();\n};\n\nAnimationItem.prototype.getDuration = function (isFrame) {\n  return isFrame ? this.totalFrames : this.totalFrames / this.frameRate;\n};\n\nAnimationItem.prototype.updateDocumentData = function (path, documentData, index) {\n  try {\n    var element = this.renderer.getElementByPath(path);\n    element.updateDocumentData(documentData, index);\n  } catch (error) {\n    // TODO: decide how to handle catch case\n  }\n};\n\nAnimationItem.prototype.trigger = function (name) {\n  if (this._cbs && this._cbs[name]) {\n    switch (name) {\n      case 'enterFrame':\n        this.triggerEvent(name, new BMEnterFrameEvent(name, this.currentFrame, this.totalFrames, this.frameModifier));\n        break;\n      case 'drawnFrame':\n        this.drawnFrameEvent.currentTime = this.currentFrame;\n        this.drawnFrameEvent.totalTime = this.totalFrames;\n        this.drawnFrameEvent.direction = this.frameModifier;\n        this.triggerEvent(name, this.drawnFrameEvent);\n        break;\n      case 'loopComplete':\n        this.triggerEvent(name, new BMCompleteLoopEvent(name, this.loop, this.playCount, this.frameMult));\n        break;\n      case 'complete':\n        this.triggerEvent(name, new BMCompleteEvent(name, this.frameMult));\n        break;\n      case 'segmentStart':\n        this.triggerEvent(name, new BMSegmentStartEvent(name, this.firstFrame, this.totalFrames));\n        break;\n      case 'destroy':\n        this.triggerEvent(name, new BMDestroyEvent(name, this));\n        break;\n      default:\n        this.triggerEvent(name);\n    }\n  }\n  if (name === 'enterFrame' && this.onEnterFrame) {\n    this.onEnterFrame.call(this, new BMEnterFrameEvent(name, this.currentFrame, this.totalFrames, this.frameMult));\n  }\n  if (name === 'loopComplete' && this.onLoopComplete) {\n    this.onLoopComplete.call(this, new BMCompleteLoopEvent(name, this.loop, this.playCount, this.frameMult));\n  }\n  if (name === 'complete' && this.onComplete) {\n    this.onComplete.call(this, new BMCompleteEvent(name, this.frameMult));\n  }\n  if (name === 'segmentStart' && this.onSegmentStart) {\n    this.onSegmentStart.call(this, new BMSegmentStartEvent(name, this.firstFrame, this.totalFrames));\n  }\n  if (name === 'destroy' && this.onDestroy) {\n    this.onDestroy.call(this, new BMDestroyEvent(name, this));\n  }\n};\n\nAnimationItem.prototype.triggerRenderFrameError = function (nativeError) {\n  var error = new BMRenderFrameErrorEvent(nativeError, this.currentFrame);\n  this.triggerEvent('error', error);\n\n  if (this.onError) {\n    this.onError.call(this, error);\n  }\n};\n\nAnimationItem.prototype.triggerConfigError = function (nativeError) {\n  var error = new BMConfigErrorEvent(nativeError, this.currentFrame);\n  this.triggerEvent('error', error);\n\n  if (this.onError) {\n    this.onError.call(this, error);\n  }\n};\n\nconst animationManager = (function () {\n  var moduleOb = {};\n  var registeredAnimations = [];\n  var initTime = 0;\n  var len = 0;\n  var playingAnimationsNum = 0;\n  var _stopped = true;\n  var _isFrozen = false;\n\n  function removeElement(ev) {\n    var i = 0;\n    var animItem = ev.target;\n    while (i < len) {\n      if (registeredAnimations[i].animation === animItem) {\n        registeredAnimations.splice(i, 1);\n        i -= 1;\n        len -= 1;\n        if (!animItem.isPaused) {\n          subtractPlayingCount();\n        }\n      }\n      i += 1;\n    }\n  }\n\n  function registerAnimation(element, animationData) {\n    if (!element) {\n      return null;\n    }\n    var i = 0;\n    while (i < len) {\n      if (registeredAnimations[i].elem === element && registeredAnimations[i].elem !== null) {\n        return registeredAnimations[i].animation;\n      }\n      i += 1;\n    }\n    var animItem = new AnimationItem();\n    setupAnimation(animItem, element);\n    animItem.setData(element, animationData);\n    return animItem;\n  }\n\n  function getRegisteredAnimations() {\n    var i;\n    var lenAnims = registeredAnimations.length;\n    var animations = [];\n    for (i = 0; i < lenAnims; i += 1) {\n      animations.push(registeredAnimations[i].animation);\n    }\n    return animations;\n  }\n\n  function addPlayingCount() {\n    playingAnimationsNum += 1;\n    activate();\n  }\n\n  function subtractPlayingCount() {\n    playingAnimationsNum -= 1;\n  }\n\n  function setupAnimation(animItem, element) {\n    animItem.addEventListener('destroy', removeElement);\n    animItem.addEventListener('_active', addPlayingCount);\n    animItem.addEventListener('_idle', subtractPlayingCount);\n    registeredAnimations.push({ elem: element, animation: animItem });\n    len += 1;\n  }\n\n  function loadAnimation(params) {\n    var animItem = new AnimationItem();\n    setupAnimation(animItem, null);\n    animItem.setParams(params);\n    return animItem;\n  }\n\n  function setSpeed(val, animation) {\n    var i;\n    for (i = 0; i < len; i += 1) {\n      registeredAnimations[i].animation.setSpeed(val, animation);\n    }\n  }\n\n  function setDirection(val, animation) {\n    var i;\n    for (i = 0; i < len; i += 1) {\n      registeredAnimations[i].animation.setDirection(val, animation);\n    }\n  }\n\n  function play(animation) {\n    var i;\n    for (i = 0; i < len; i += 1) {\n      registeredAnimations[i].animation.play(animation);\n    }\n  }\n  function resume(nowTime) {\n    var elapsedTime = nowTime - initTime;\n    var i;\n    for (i = 0; i < len; i += 1) {\n      registeredAnimations[i].animation.advanceTime(elapsedTime);\n    }\n    initTime = nowTime;\n    if (playingAnimationsNum && !_isFrozen) {\n      window.requestAnimationFrame(resume);\n    } else {\n      _stopped = true;\n    }\n  }\n\n  function first(nowTime) {\n    initTime = nowTime;\n    window.requestAnimationFrame(resume);\n  }\n\n  function pause(animation) {\n    var i;\n    for (i = 0; i < len; i += 1) {\n      registeredAnimations[i].animation.pause(animation);\n    }\n  }\n\n  function goToAndStop(value, isFrame, animation) {\n    var i;\n    for (i = 0; i < len; i += 1) {\n      registeredAnimations[i].animation.goToAndStop(value, isFrame, animation);\n    }\n  }\n\n  function stop(animation) {\n    var i;\n    for (i = 0; i < len; i += 1) {\n      registeredAnimations[i].animation.stop(animation);\n    }\n  }\n\n  function togglePause(animation) {\n    var i;\n    for (i = 0; i < len; i += 1) {\n      registeredAnimations[i].animation.togglePause(animation);\n    }\n  }\n\n  function destroy(animation) {\n    var i;\n    for (i = (len - 1); i >= 0; i -= 1) {\n      registeredAnimations[i].animation.destroy(animation);\n    }\n  }\n\n  function searchAnimations(animationData, standalone, renderer) {\n    var animElements = [].concat([].slice.call(document.getElementsByClassName('lottie')),\n      [].slice.call(document.getElementsByClassName('bodymovin')));\n    var i;\n    var lenAnims = animElements.length;\n    for (i = 0; i < lenAnims; i += 1) {\n      if (renderer) {\n        animElements[i].setAttribute('data-bm-type', renderer);\n      }\n      registerAnimation(animElements[i], animationData);\n    }\n    if (standalone && lenAnims === 0) {\n      if (!renderer) {\n        renderer = 'svg';\n      }\n      var body = document.getElementsByTagName('body')[0];\n      body.innerText = '';\n      var div = createTag('div');\n      div.style.width = '100%';\n      div.style.height = '100%';\n      div.setAttribute('data-bm-type', renderer);\n      body.appendChild(div);\n      registerAnimation(div, animationData);\n    }\n  }\n\n  function resize() {\n    var i;\n    for (i = 0; i < len; i += 1) {\n      registeredAnimations[i].animation.resize();\n    }\n  }\n\n  function activate() {\n    if (!_isFrozen && playingAnimationsNum) {\n      if (_stopped) {\n        window.requestAnimationFrame(first);\n        _stopped = false;\n      }\n    }\n  }\n\n  function freeze() {\n    _isFrozen = true;\n  }\n\n  function unfreeze() {\n    _isFrozen = false;\n    activate();\n  }\n\n  function setVolume(val, animation) {\n    var i;\n    for (i = 0; i < len; i += 1) {\n      registeredAnimations[i].animation.setVolume(val, animation);\n    }\n  }\n\n  function mute(animation) {\n    var i;\n    for (i = 0; i < len; i += 1) {\n      registeredAnimations[i].animation.mute(animation);\n    }\n  }\n\n  function unmute(animation) {\n    var i;\n    for (i = 0; i < len; i += 1) {\n      registeredAnimations[i].animation.unmute(animation);\n    }\n  }\n\n  moduleOb.registerAnimation = registerAnimation;\n  moduleOb.loadAnimation = loadAnimation;\n  moduleOb.setSpeed = setSpeed;\n  moduleOb.setDirection = setDirection;\n  moduleOb.play = play;\n  moduleOb.pause = pause;\n  moduleOb.stop = stop;\n  moduleOb.togglePause = togglePause;\n  moduleOb.searchAnimations = searchAnimations;\n  moduleOb.resize = resize;\n  // moduleOb.start = start;\n  moduleOb.goToAndStop = goToAndStop;\n  moduleOb.destroy = destroy;\n  moduleOb.freeze = freeze;\n  moduleOb.unfreeze = unfreeze;\n  moduleOb.setVolume = setVolume;\n  moduleOb.mute = mute;\n  moduleOb.unmute = unmute;\n  moduleOb.getRegisteredAnimations = getRegisteredAnimations;\n  return moduleOb;\n}());\n\n/* eslint-disable */\nconst BezierFactory = (function () {\n  /**\n     * BezierEasing - use bezier curve for transition easing function\n     * by Gaëtan Renaudeau 2014 - 2015 – MIT License\n     *\n     * Credits: is based on Firefox's nsSMILKeySpline.cpp\n     * Usage:\n     * var spline = BezierEasing([ 0.25, 0.1, 0.25, 1.0 ])\n     * spline.get(x) => returns the easing value | x must be in [0, 1] range\n     *\n     */\n\n  var ob = {};\n  ob.getBezierEasing = getBezierEasing;\n  var beziers = {};\n\n  function getBezierEasing(a, b, c, d, nm) {\n    var str = nm || ('bez_' + a + '_' + b + '_' + c + '_' + d).replace(/\\./g, 'p');\n    if (beziers[str]) {\n      return beziers[str];\n    }\n    var bezEasing = new BezierEasing([a, b, c, d]);\n    beziers[str] = bezEasing;\n    return bezEasing;\n  }\n\n  // These values are established by empiricism with tests (tradeoff: performance VS precision)\n  var NEWTON_ITERATIONS = 4;\n  var NEWTON_MIN_SLOPE = 0.001;\n  var SUBDIVISION_PRECISION = 0.0000001;\n  var SUBDIVISION_MAX_ITERATIONS = 10;\n\n  var kSplineTableSize = 11;\n  var kSampleStepSize = 1.0 / (kSplineTableSize - 1.0);\n\n  var float32ArraySupported = typeof Float32Array === 'function';\n\n  function A(aA1, aA2) { return 1.0 - 3.0 * aA2 + 3.0 * aA1; }\n  function B(aA1, aA2) { return 3.0 * aA2 - 6.0 * aA1; }\n  function C(aA1) { return 3.0 * aA1; }\n\n  // Returns x(t) given t, x1, and x2, or y(t) given t, y1, and y2.\n  function calcBezier(aT, aA1, aA2) {\n    return ((A(aA1, aA2) * aT + B(aA1, aA2)) * aT + C(aA1)) * aT;\n  }\n\n  // Returns dx/dt given t, x1, and x2, or dy/dt given t, y1, and y2.\n  function getSlope(aT, aA1, aA2) {\n    return 3.0 * A(aA1, aA2) * aT * aT + 2.0 * B(aA1, aA2) * aT + C(aA1);\n  }\n\n  function binarySubdivide(aX, aA, aB, mX1, mX2) {\n    var currentX,\n      currentT,\n      i = 0;\n    do {\n      currentT = aA + (aB - aA) / 2.0;\n      currentX = calcBezier(currentT, mX1, mX2) - aX;\n      if (currentX > 0.0) {\n        aB = currentT;\n      } else {\n        aA = currentT;\n      }\n    } while (Math.abs(currentX) > SUBDIVISION_PRECISION && ++i < SUBDIVISION_MAX_ITERATIONS);\n    return currentT;\n  }\n\n  function newtonRaphsonIterate(aX, aGuessT, mX1, mX2) {\n    for (var i = 0; i < NEWTON_ITERATIONS; ++i) {\n      var currentSlope = getSlope(aGuessT, mX1, mX2);\n      if (currentSlope === 0.0) return aGuessT;\n      var currentX = calcBezier(aGuessT, mX1, mX2) - aX;\n      aGuessT -= currentX / currentSlope;\n    }\n    return aGuessT;\n  }\n\n  /**\n     * points is an array of [ mX1, mY1, mX2, mY2 ]\n     */\n  function BezierEasing(points) {\n    this._p = points;\n    this._mSampleValues = float32ArraySupported ? new Float32Array(kSplineTableSize) : new Array(kSplineTableSize);\n    this._precomputed = false;\n\n    this.get = this.get.bind(this);\n  }\n\n  BezierEasing.prototype = {\n\n    get: function (x) {\n      var mX1 = this._p[0],\n        mY1 = this._p[1],\n        mX2 = this._p[2],\n        mY2 = this._p[3];\n      if (!this._precomputed) this._precompute();\n      if (mX1 === mY1 && mX2 === mY2) return x; // linear\n      // Because JavaScript number are imprecise, we should guarantee the extremes are right.\n      if (x === 0) return 0;\n      if (x === 1) return 1;\n      return calcBezier(this._getTForX(x), mY1, mY2);\n    },\n\n    // Private part\n\n    _precompute: function () {\n      var mX1 = this._p[0],\n        mY1 = this._p[1],\n        mX2 = this._p[2],\n        mY2 = this._p[3];\n      this._precomputed = true;\n      if (mX1 !== mY1 || mX2 !== mY2) { this._calcSampleValues(); }\n    },\n\n    _calcSampleValues: function () {\n      var mX1 = this._p[0],\n        mX2 = this._p[2];\n      for (var i = 0; i < kSplineTableSize; ++i) {\n        this._mSampleValues[i] = calcBezier(i * kSampleStepSize, mX1, mX2);\n      }\n    },\n\n    /**\n         * getTForX chose the fastest heuristic to determine the percentage value precisely from a given X projection.\n         */\n    _getTForX: function (aX) {\n      var mX1 = this._p[0],\n        mX2 = this._p[2],\n        mSampleValues = this._mSampleValues;\n\n      var intervalStart = 0.0;\n      var currentSample = 1;\n      var lastSample = kSplineTableSize - 1;\n\n      for (; currentSample !== lastSample && mSampleValues[currentSample] <= aX; ++currentSample) {\n        intervalStart += kSampleStepSize;\n      }\n      --currentSample;\n\n      // Interpolate to provide an initial guess for t\n      var dist = (aX - mSampleValues[currentSample]) / (mSampleValues[currentSample + 1] - mSampleValues[currentSample]);\n      var guessForT = intervalStart + dist * kSampleStepSize;\n\n      var initialSlope = getSlope(guessForT, mX1, mX2);\n      if (initialSlope >= NEWTON_MIN_SLOPE) {\n        return newtonRaphsonIterate(aX, guessForT, mX1, mX2);\n      } if (initialSlope === 0.0) {\n        return guessForT;\n      }\n      return binarySubdivide(aX, intervalStart, intervalStart + kSampleStepSize, mX1, mX2);\n    },\n  };\n\n  return ob;\n}());\n\nconst pooling = (function () {\n  function double(arr) {\n    return arr.concat(createSizedArray(arr.length));\n  }\n\n  return {\n    double: double,\n  };\n}());\n\nconst poolFactory = (function () {\n  return function (initialLength, _create, _release) {\n    var _length = 0;\n    var _maxLength = initialLength;\n    var pool = createSizedArray(_maxLength);\n\n    var ob = {\n      newElement: newElement,\n      release: release,\n    };\n\n    function newElement() {\n      var element;\n      if (_length) {\n        _length -= 1;\n        element = pool[_length];\n      } else {\n        element = _create();\n      }\n      return element;\n    }\n\n    function release(element) {\n      if (_length === _maxLength) {\n        pool = pooling.double(pool);\n        _maxLength *= 2;\n      }\n      if (_release) {\n        _release(element);\n      }\n      pool[_length] = element;\n      _length += 1;\n    }\n\n    return ob;\n  };\n}());\n\nconst bezierLengthPool = (function () {\n  function create() {\n    return {\n      addedLength: 0,\n      percents: createTypedArray('float32', getDefaultCurveSegments()),\n      lengths: createTypedArray('float32', getDefaultCurveSegments()),\n    };\n  }\n  return poolFactory(8, create);\n}());\n\nconst segmentsLengthPool = (function () {\n  function create() {\n    return {\n      lengths: [],\n      totalLength: 0,\n    };\n  }\n\n  function release(element) {\n    var i;\n    var len = element.lengths.length;\n    for (i = 0; i < len; i += 1) {\n      bezierLengthPool.release(element.lengths[i]);\n    }\n    element.lengths.length = 0;\n  }\n\n  return poolFactory(8, create, release);\n}());\n\nfunction bezFunction() {\n  var math = Math;\n\n  function pointOnLine2D(x1, y1, x2, y2, x3, y3) {\n    var det1 = (x1 * y2) + (y1 * x3) + (x2 * y3) - (x3 * y2) - (y3 * x1) - (x2 * y1);\n    return det1 > -0.001 && det1 < 0.001;\n  }\n\n  function pointOnLine3D(x1, y1, z1, x2, y2, z2, x3, y3, z3) {\n    if (z1 === 0 && z2 === 0 && z3 === 0) {\n      return pointOnLine2D(x1, y1, x2, y2, x3, y3);\n    }\n    var dist1 = math.sqrt(math.pow(x2 - x1, 2) + math.pow(y2 - y1, 2) + math.pow(z2 - z1, 2));\n    var dist2 = math.sqrt(math.pow(x3 - x1, 2) + math.pow(y3 - y1, 2) + math.pow(z3 - z1, 2));\n    var dist3 = math.sqrt(math.pow(x3 - x2, 2) + math.pow(y3 - y2, 2) + math.pow(z3 - z2, 2));\n    var diffDist;\n    if (dist1 > dist2) {\n      if (dist1 > dist3) {\n        diffDist = dist1 - dist2 - dist3;\n      } else {\n        diffDist = dist3 - dist2 - dist1;\n      }\n    } else if (dist3 > dist2) {\n      diffDist = dist3 - dist2 - dist1;\n    } else {\n      diffDist = dist2 - dist1 - dist3;\n    }\n    return diffDist > -0.0001 && diffDist < 0.0001;\n  }\n\n  var getBezierLength = (function () {\n    return function (pt1, pt2, pt3, pt4) {\n      var curveSegments = getDefaultCurveSegments();\n      var k;\n      var i;\n      var len;\n      var ptCoord;\n      var perc;\n      var addedLength = 0;\n      var ptDistance;\n      var point = [];\n      var lastPoint = [];\n      var lengthData = bezierLengthPool.newElement();\n      len = pt3.length;\n      for (k = 0; k < curveSegments; k += 1) {\n        perc = k / (curveSegments - 1);\n        ptDistance = 0;\n        for (i = 0; i < len; i += 1) {\n          ptCoord = bmPow(1 - perc, 3) * pt1[i] + 3 * bmPow(1 - perc, 2) * perc * pt3[i] + 3 * (1 - perc) * bmPow(perc, 2) * pt4[i] + bmPow(perc, 3) * pt2[i];\n          point[i] = ptCoord;\n          if (lastPoint[i] !== null) {\n            ptDistance += bmPow(point[i] - lastPoint[i], 2);\n          }\n          lastPoint[i] = point[i];\n        }\n        if (ptDistance) {\n          ptDistance = bmSqrt(ptDistance);\n          addedLength += ptDistance;\n        }\n        lengthData.percents[k] = perc;\n        lengthData.lengths[k] = addedLength;\n      }\n      lengthData.addedLength = addedLength;\n      return lengthData;\n    };\n  }());\n\n  function getSegmentsLength(shapeData) {\n    var segmentsLength = segmentsLengthPool.newElement();\n    var closed = shapeData.c;\n    var pathV = shapeData.v;\n    var pathO = shapeData.o;\n    var pathI = shapeData.i;\n    var i;\n    var len = shapeData._length;\n    var lengths = segmentsLength.lengths;\n    var totalLength = 0;\n    for (i = 0; i < len - 1; i += 1) {\n      lengths[i] = getBezierLength(pathV[i], pathV[i + 1], pathO[i], pathI[i + 1]);\n      totalLength += lengths[i].addedLength;\n    }\n    if (closed && len) {\n      lengths[i] = getBezierLength(pathV[i], pathV[0], pathO[i], pathI[0]);\n      totalLength += lengths[i].addedLength;\n    }\n    segmentsLength.totalLength = totalLength;\n    return segmentsLength;\n  }\n\n  function BezierData(length) {\n    this.segmentLength = 0;\n    this.points = new Array(length);\n  }\n\n  function PointData(partial, point) {\n    this.partialLength = partial;\n    this.point = point;\n  }\n\n  var buildBezierData = (function () {\n    var storedData = {};\n\n    return function (pt1, pt2, pt3, pt4) {\n      var bezierName = (pt1[0] + '_' + pt1[1] + '_' + pt2[0] + '_' + pt2[1] + '_' + pt3[0] + '_' + pt3[1] + '_' + pt4[0] + '_' + pt4[1]).replace(/\\./g, 'p');\n      if (!storedData[bezierName]) {\n        var curveSegments = getDefaultCurveSegments();\n        var k;\n        var i;\n        var len;\n        var ptCoord;\n        var perc;\n        var addedLength = 0;\n        var ptDistance;\n        var point;\n        var lastPoint = null;\n        if (pt1.length === 2 && (pt1[0] !== pt2[0] || pt1[1] !== pt2[1]) && pointOnLine2D(pt1[0], pt1[1], pt2[0], pt2[1], pt1[0] + pt3[0], pt1[1] + pt3[1]) && pointOnLine2D(pt1[0], pt1[1], pt2[0], pt2[1], pt2[0] + pt4[0], pt2[1] + pt4[1])) {\n          curveSegments = 2;\n        }\n        var bezierData = new BezierData(curveSegments);\n        len = pt3.length;\n        for (k = 0; k < curveSegments; k += 1) {\n          point = createSizedArray(len);\n          perc = k / (curveSegments - 1);\n          ptDistance = 0;\n          for (i = 0; i < len; i += 1) {\n            ptCoord = bmPow(1 - perc, 3) * pt1[i] + 3 * bmPow(1 - perc, 2) * perc * (pt1[i] + pt3[i]) + 3 * (1 - perc) * bmPow(perc, 2) * (pt2[i] + pt4[i]) + bmPow(perc, 3) * pt2[i];\n            point[i] = ptCoord;\n            if (lastPoint !== null) {\n              ptDistance += bmPow(point[i] - lastPoint[i], 2);\n            }\n          }\n          ptDistance = bmSqrt(ptDistance);\n          addedLength += ptDistance;\n          bezierData.points[k] = new PointData(ptDistance, point);\n          lastPoint = point;\n        }\n        bezierData.segmentLength = addedLength;\n        storedData[bezierName] = bezierData;\n      }\n      return storedData[bezierName];\n    };\n  }());\n\n  function getDistancePerc(perc, bezierData) {\n    var percents = bezierData.percents;\n    var lengths = bezierData.lengths;\n    var len = percents.length;\n    var initPos = bmFloor((len - 1) * perc);\n    var lengthPos = perc * bezierData.addedLength;\n    var lPerc = 0;\n    if (initPos === len - 1 || initPos === 0 || lengthPos === lengths[initPos]) {\n      return percents[initPos];\n    }\n    var dir = lengths[initPos] > lengthPos ? -1 : 1;\n    var flag = true;\n    while (flag) {\n      if (lengths[initPos] <= lengthPos && lengths[initPos + 1] > lengthPos) {\n        lPerc = (lengthPos - lengths[initPos]) / (lengths[initPos + 1] - lengths[initPos]);\n        flag = false;\n      } else {\n        initPos += dir;\n      }\n      if (initPos < 0 || initPos >= len - 1) {\n        // FIX for TypedArrays that don't store floating point values with enough accuracy\n        if (initPos === len - 1) {\n          return percents[initPos];\n        }\n        flag = false;\n      }\n    }\n    return percents[initPos] + (percents[initPos + 1] - percents[initPos]) * lPerc;\n  }\n\n  function getPointInSegment(pt1, pt2, pt3, pt4, percent, bezierData) {\n    var t1 = getDistancePerc(percent, bezierData);\n    var u1 = 1 - t1;\n    var ptX = math.round((u1 * u1 * u1 * pt1[0] + (t1 * u1 * u1 + u1 * t1 * u1 + u1 * u1 * t1) * pt3[0] + (t1 * t1 * u1 + u1 * t1 * t1 + t1 * u1 * t1) * pt4[0] + t1 * t1 * t1 * pt2[0]) * 1000) / 1000;\n    var ptY = math.round((u1 * u1 * u1 * pt1[1] + (t1 * u1 * u1 + u1 * t1 * u1 + u1 * u1 * t1) * pt3[1] + (t1 * t1 * u1 + u1 * t1 * t1 + t1 * u1 * t1) * pt4[1] + t1 * t1 * t1 * pt2[1]) * 1000) / 1000;\n    return [ptX, ptY];\n  }\n\n  var bezierSegmentPoints = createTypedArray('float32', 8);\n\n  function getNewSegment(pt1, pt2, pt3, pt4, startPerc, endPerc, bezierData) {\n    if (startPerc < 0) {\n      startPerc = 0;\n    } else if (startPerc > 1) {\n      startPerc = 1;\n    }\n    var t0 = getDistancePerc(startPerc, bezierData);\n    endPerc = endPerc > 1 ? 1 : endPerc;\n    var t1 = getDistancePerc(endPerc, bezierData);\n    var i;\n    var len = pt1.length;\n    var u0 = 1 - t0;\n    var u1 = 1 - t1;\n    var u0u0u0 = u0 * u0 * u0;\n    var t0u0u0_3 = t0 * u0 * u0 * 3; // eslint-disable-line camelcase\n    var t0t0u0_3 = t0 * t0 * u0 * 3; // eslint-disable-line camelcase\n    var t0t0t0 = t0 * t0 * t0;\n    //\n    var u0u0u1 = u0 * u0 * u1;\n    var t0u0u1_3 = t0 * u0 * u1 + u0 * t0 * u1 + u0 * u0 * t1; // eslint-disable-line camelcase\n    var t0t0u1_3 = t0 * t0 * u1 + u0 * t0 * t1 + t0 * u0 * t1; // eslint-disable-line camelcase\n    var t0t0t1 = t0 * t0 * t1;\n    //\n    var u0u1u1 = u0 * u1 * u1;\n    var t0u1u1_3 = t0 * u1 * u1 + u0 * t1 * u1 + u0 * u1 * t1; // eslint-disable-line camelcase\n    var t0t1u1_3 = t0 * t1 * u1 + u0 * t1 * t1 + t0 * u1 * t1; // eslint-disable-line camelcase\n    var t0t1t1 = t0 * t1 * t1;\n    //\n    var u1u1u1 = u1 * u1 * u1;\n    var t1u1u1_3 = t1 * u1 * u1 + u1 * t1 * u1 + u1 * u1 * t1; // eslint-disable-line camelcase\n    var t1t1u1_3 = t1 * t1 * u1 + u1 * t1 * t1 + t1 * u1 * t1; // eslint-disable-line camelcase\n    var t1t1t1 = t1 * t1 * t1;\n    for (i = 0; i < len; i += 1) {\n      bezierSegmentPoints[i * 4] = math.round((u0u0u0 * pt1[i] + t0u0u0_3 * pt3[i] + t0t0u0_3 * pt4[i] + t0t0t0 * pt2[i]) * 1000) / 1000; // eslint-disable-line camelcase\n      bezierSegmentPoints[i * 4 + 1] = math.round((u0u0u1 * pt1[i] + t0u0u1_3 * pt3[i] + t0t0u1_3 * pt4[i] + t0t0t1 * pt2[i]) * 1000) / 1000; // eslint-disable-line camelcase\n      bezierSegmentPoints[i * 4 + 2] = math.round((u0u1u1 * pt1[i] + t0u1u1_3 * pt3[i] + t0t1u1_3 * pt4[i] + t0t1t1 * pt2[i]) * 1000) / 1000; // eslint-disable-line camelcase\n      bezierSegmentPoints[i * 4 + 3] = math.round((u1u1u1 * pt1[i] + t1u1u1_3 * pt3[i] + t1t1u1_3 * pt4[i] + t1t1t1 * pt2[i]) * 1000) / 1000; // eslint-disable-line camelcase\n    }\n\n    return bezierSegmentPoints;\n  }\n\n  return {\n    getSegmentsLength: getSegmentsLength,\n    getNewSegment: getNewSegment,\n    getPointInSegment: getPointInSegment,\n    buildBezierData: buildBezierData,\n    pointOnLine2D: pointOnLine2D,\n    pointOnLine3D: pointOnLine3D,\n  };\n}\n\nconst bez = bezFunction();\n\nconst PropertyFactory = (function () {\n  var initFrame = initialDefaultFrame;\n  var mathAbs = Math.abs;\n\n  function interpolateValue(frameNum, caching) {\n    var offsetTime = this.offsetTime;\n    var newValue;\n    if (this.propType === 'multidimensional') {\n      newValue = createTypedArray('float32', this.pv.length);\n    }\n    var iterationIndex = caching.lastIndex;\n    var i = iterationIndex;\n    var len = this.keyframes.length - 1;\n    var flag = true;\n    var keyData;\n    var nextKeyData;\n    var keyframeMetadata;\n\n    while (flag) {\n      keyData = this.keyframes[i];\n      nextKeyData = this.keyframes[i + 1];\n      if (i === len - 1 && frameNum >= nextKeyData.t - offsetTime) {\n        if (keyData.h) {\n          keyData = nextKeyData;\n        }\n        iterationIndex = 0;\n        break;\n      }\n      if ((nextKeyData.t - offsetTime) > frameNum) {\n        iterationIndex = i;\n        break;\n      }\n      if (i < len - 1) {\n        i += 1;\n      } else {\n        iterationIndex = 0;\n        flag = false;\n      }\n    }\n    keyframeMetadata = this.keyframesMetadata[i] || {};\n\n    var k;\n    var kLen;\n    var perc;\n    var jLen;\n    var j;\n    var fnc;\n    var nextKeyTime = nextKeyData.t - offsetTime;\n    var keyTime = keyData.t - offsetTime;\n    var endValue;\n    if (keyData.to) {\n      if (!keyframeMetadata.bezierData) {\n        keyframeMetadata.bezierData = bez.buildBezierData(keyData.s, nextKeyData.s || keyData.e, keyData.to, keyData.ti);\n      }\n      var bezierData = keyframeMetadata.bezierData;\n      if (frameNum >= nextKeyTime || frameNum < keyTime) {\n        var ind = frameNum >= nextKeyTime ? bezierData.points.length - 1 : 0;\n        kLen = bezierData.points[ind].point.length;\n        for (k = 0; k < kLen; k += 1) {\n          newValue[k] = bezierData.points[ind].point[k];\n        }\n        // caching._lastKeyframeIndex = -1;\n      } else {\n        if (keyframeMetadata.__fnct) {\n          fnc = keyframeMetadata.__fnct;\n        } else {\n          fnc = BezierFactory.getBezierEasing(keyData.o.x, keyData.o.y, keyData.i.x, keyData.i.y, keyData.n).get;\n          keyframeMetadata.__fnct = fnc;\n        }\n        perc = fnc((frameNum - keyTime) / (nextKeyTime - keyTime));\n        var distanceInLine = bezierData.segmentLength * perc;\n\n        var segmentPerc;\n        var addedLength = (caching.lastFrame < frameNum && caching._lastKeyframeIndex === i) ? caching._lastAddedLength : 0;\n        j = (caching.lastFrame < frameNum && caching._lastKeyframeIndex === i) ? caching._lastPoint : 0;\n        flag = true;\n        jLen = bezierData.points.length;\n        while (flag) {\n          addedLength += bezierData.points[j].partialLength;\n          if (distanceInLine === 0 || perc === 0 || j === bezierData.points.length - 1) {\n            kLen = bezierData.points[j].point.length;\n            for (k = 0; k < kLen; k += 1) {\n              newValue[k] = bezierData.points[j].point[k];\n            }\n            break;\n          } else if (distanceInLine >= addedLength && distanceInLine < addedLength + bezierData.points[j + 1].partialLength) {\n            segmentPerc = (distanceInLine - addedLength) / bezierData.points[j + 1].partialLength;\n            kLen = bezierData.points[j].point.length;\n            for (k = 0; k < kLen; k += 1) {\n              newValue[k] = bezierData.points[j].point[k] + (bezierData.points[j + 1].point[k] - bezierData.points[j].point[k]) * segmentPerc;\n            }\n            break;\n          }\n          if (j < jLen - 1) {\n            j += 1;\n          } else {\n            flag = false;\n          }\n        }\n        caching._lastPoint = j;\n        caching._lastAddedLength = addedLength - bezierData.points[j].partialLength;\n        caching._lastKeyframeIndex = i;\n      }\n    } else {\n      var outX;\n      var outY;\n      var inX;\n      var inY;\n      var keyValue;\n      len = keyData.s.length;\n      endValue = nextKeyData.s || keyData.e;\n      if (this.sh && keyData.h !== 1) {\n        if (frameNum >= nextKeyTime) {\n          newValue[0] = endValue[0];\n          newValue[1] = endValue[1];\n          newValue[2] = endValue[2];\n        } else if (frameNum <= keyTime) {\n          newValue[0] = keyData.s[0];\n          newValue[1] = keyData.s[1];\n          newValue[2] = keyData.s[2];\n        } else {\n          var quatStart = createQuaternion(keyData.s);\n          var quatEnd = createQuaternion(endValue);\n          var time = (frameNum - keyTime) / (nextKeyTime - keyTime);\n          quaternionToEuler(newValue, slerp(quatStart, quatEnd, time));\n        }\n      } else {\n        for (i = 0; i < len; i += 1) {\n          if (keyData.h !== 1) {\n            if (frameNum >= nextKeyTime) {\n              perc = 1;\n            } else if (frameNum < keyTime) {\n              perc = 0;\n            } else {\n              if (keyData.o.x.constructor === Array) {\n                if (!keyframeMetadata.__fnct) {\n                  keyframeMetadata.__fnct = [];\n                }\n                if (!keyframeMetadata.__fnct[i]) {\n                  outX = keyData.o.x[i] === undefined ? keyData.o.x[0] : keyData.o.x[i];\n                  outY = keyData.o.y[i] === undefined ? keyData.o.y[0] : keyData.o.y[i];\n                  inX = keyData.i.x[i] === undefined ? keyData.i.x[0] : keyData.i.x[i];\n                  inY = keyData.i.y[i] === undefined ? keyData.i.y[0] : keyData.i.y[i];\n                  fnc = BezierFactory.getBezierEasing(outX, outY, inX, inY).get;\n                  keyframeMetadata.__fnct[i] = fnc;\n                } else {\n                  fnc = keyframeMetadata.__fnct[i];\n                }\n              } else if (!keyframeMetadata.__fnct) {\n                outX = keyData.o.x;\n                outY = keyData.o.y;\n                inX = keyData.i.x;\n                inY = keyData.i.y;\n                fnc = BezierFactory.getBezierEasing(outX, outY, inX, inY).get;\n                keyData.keyframeMetadata = fnc;\n              } else {\n                fnc = keyframeMetadata.__fnct;\n              }\n              perc = fnc((frameNum - keyTime) / (nextKeyTime - keyTime));\n            }\n          }\n\n          endValue = nextKeyData.s || keyData.e;\n          keyValue = keyData.h === 1 ? keyData.s[i] : keyData.s[i] + (endValue[i] - keyData.s[i]) * perc;\n\n          if (this.propType === 'multidimensional') {\n            newValue[i] = keyValue;\n          } else {\n            newValue = keyValue;\n          }\n        }\n      }\n    }\n    caching.lastIndex = iterationIndex;\n    return newValue;\n  }\n\n  // based on @Toji's https://github.com/toji/gl-matrix/\n  function slerp(a, b, t) {\n    var out = [];\n    var ax = a[0];\n    var ay = a[1];\n    var az = a[2];\n    var aw = a[3];\n    var bx = b[0];\n    var by = b[1];\n    var bz = b[2];\n    var bw = b[3];\n\n    var omega;\n    var cosom;\n    var sinom;\n    var scale0;\n    var scale1;\n\n    cosom = ax * bx + ay * by + az * bz + aw * bw;\n    if (cosom < 0.0) {\n      cosom = -cosom;\n      bx = -bx;\n      by = -by;\n      bz = -bz;\n      bw = -bw;\n    }\n    if ((1.0 - cosom) > 0.000001) {\n      omega = Math.acos(cosom);\n      sinom = Math.sin(omega);\n      scale0 = Math.sin((1.0 - t) * omega) / sinom;\n      scale1 = Math.sin(t * omega) / sinom;\n    } else {\n      scale0 = 1.0 - t;\n      scale1 = t;\n    }\n    out[0] = scale0 * ax + scale1 * bx;\n    out[1] = scale0 * ay + scale1 * by;\n    out[2] = scale0 * az + scale1 * bz;\n    out[3] = scale0 * aw + scale1 * bw;\n\n    return out;\n  }\n\n  function quaternionToEuler(out, quat) {\n    var qx = quat[0];\n    var qy = quat[1];\n    var qz = quat[2];\n    var qw = quat[3];\n    var heading = Math.atan2(2 * qy * qw - 2 * qx * qz, 1 - 2 * qy * qy - 2 * qz * qz);\n    var attitude = Math.asin(2 * qx * qy + 2 * qz * qw);\n    var bank = Math.atan2(2 * qx * qw - 2 * qy * qz, 1 - 2 * qx * qx - 2 * qz * qz);\n    out[0] = heading / degToRads;\n    out[1] = attitude / degToRads;\n    out[2] = bank / degToRads;\n  }\n\n  function createQuaternion(values) {\n    var heading = values[0] * degToRads;\n    var attitude = values[1] * degToRads;\n    var bank = values[2] * degToRads;\n    var c1 = Math.cos(heading / 2);\n    var c2 = Math.cos(attitude / 2);\n    var c3 = Math.cos(bank / 2);\n    var s1 = Math.sin(heading / 2);\n    var s2 = Math.sin(attitude / 2);\n    var s3 = Math.sin(bank / 2);\n    var w = c1 * c2 * c3 - s1 * s2 * s3;\n    var x = s1 * s2 * c3 + c1 * c2 * s3;\n    var y = s1 * c2 * c3 + c1 * s2 * s3;\n    var z = c1 * s2 * c3 - s1 * c2 * s3;\n\n    return [x, y, z, w];\n  }\n\n  function getValueAtCurrentTime() {\n    var frameNum = this.comp.renderedFrame - this.offsetTime;\n    var initTime = this.keyframes[0].t - this.offsetTime;\n    var endTime = this.keyframes[this.keyframes.length - 1].t - this.offsetTime;\n    if (!(frameNum === this._caching.lastFrame || (this._caching.lastFrame !== initFrame && ((this._caching.lastFrame >= endTime && frameNum >= endTime) || (this._caching.lastFrame < initTime && frameNum < initTime))))) {\n      if (this._caching.lastFrame >= frameNum) {\n        this._caching._lastKeyframeIndex = -1;\n        this._caching.lastIndex = 0;\n      }\n\n      var renderResult = this.interpolateValue(frameNum, this._caching);\n      this.pv = renderResult;\n    }\n    this._caching.lastFrame = frameNum;\n    return this.pv;\n  }\n\n  function setVValue(val) {\n    var multipliedValue;\n    if (this.propType === 'unidimensional') {\n      multipliedValue = val * this.mult;\n      if (mathAbs(this.v - multipliedValue) > 0.00001) {\n        this.v = multipliedValue;\n        this._mdf = true;\n      }\n    } else {\n      var i = 0;\n      var len = this.v.length;\n      while (i < len) {\n        multipliedValue = val[i] * this.mult;\n        if (mathAbs(this.v[i] - multipliedValue) > 0.00001) {\n          this.v[i] = multipliedValue;\n          this._mdf = true;\n        }\n        i += 1;\n      }\n    }\n  }\n\n  function processEffectsSequence() {\n    if (this.elem.globalData.frameId === this.frameId || !this.effectsSequence.length) {\n      return;\n    }\n    if (this.lock) {\n      this.setVValue(this.pv);\n      return;\n    }\n    this.lock = true;\n    this._mdf = this._isFirstFrame;\n    var i;\n    var len = this.effectsSequence.length;\n    var finalValue = this.kf ? this.pv : this.data.k;\n    for (i = 0; i < len; i += 1) {\n      finalValue = this.effectsSequence[i](finalValue);\n    }\n    this.setVValue(finalValue);\n    this._isFirstFrame = false;\n    this.lock = false;\n    this.frameId = this.elem.globalData.frameId;\n  }\n\n  function addEffect(effectFunction) {\n    this.effectsSequence.push(effectFunction);\n    this.container.addDynamicProperty(this);\n  }\n\n  function ValueProperty(elem, data, mult, container) {\n    this.propType = 'unidimensional';\n    this.mult = mult || 1;\n    this.data = data;\n    this.v = mult ? data.k * mult : data.k;\n    this.pv = data.k;\n    this._mdf = false;\n    this.elem = elem;\n    this.container = container;\n    this.comp = elem.comp;\n    this.k = false;\n    this.kf = false;\n    this.vel = 0;\n    this.effectsSequence = [];\n    this._isFirstFrame = true;\n    this.getValue = processEffectsSequence;\n    this.setVValue = setVValue;\n    this.addEffect = addEffect;\n  }\n\n  function MultiDimensionalProperty(elem, data, mult, container) {\n    this.propType = 'multidimensional';\n    this.mult = mult || 1;\n    this.data = data;\n    this._mdf = false;\n    this.elem = elem;\n    this.container = container;\n    this.comp = elem.comp;\n    this.k = false;\n    this.kf = false;\n    this.frameId = -1;\n    var i;\n    var len = data.k.length;\n    this.v = createTypedArray('float32', len);\n    this.pv = createTypedArray('float32', len);\n    this.vel = createTypedArray('float32', len);\n    for (i = 0; i < len; i += 1) {\n      this.v[i] = data.k[i] * this.mult;\n      this.pv[i] = data.k[i];\n    }\n    this._isFirstFrame = true;\n    this.effectsSequence = [];\n    this.getValue = processEffectsSequence;\n    this.setVValue = setVValue;\n    this.addEffect = addEffect;\n  }\n\n  function KeyframedValueProperty(elem, data, mult, container) {\n    this.propType = 'unidimensional';\n    this.keyframes = data.k;\n    this.keyframesMetadata = [];\n    this.offsetTime = elem.data.st;\n    this.frameId = -1;\n    this._caching = {\n      lastFrame: initFrame, lastIndex: 0, value: 0, _lastKeyframeIndex: -1,\n    };\n    this.k = true;\n    this.kf = true;\n    this.data = data;\n    this.mult = mult || 1;\n    this.elem = elem;\n    this.container = container;\n    this.comp = elem.comp;\n    this.v = initFrame;\n    this.pv = initFrame;\n    this._isFirstFrame = true;\n    this.getValue = processEffectsSequence;\n    this.setVValue = setVValue;\n    this.interpolateValue = interpolateValue;\n    this.effectsSequence = [getValueAtCurrentTime.bind(this)];\n    this.addEffect = addEffect;\n  }\n\n  function KeyframedMultidimensionalProperty(elem, data, mult, container) {\n    this.propType = 'multidimensional';\n    var i;\n    var len = data.k.length;\n    var s;\n    var e;\n    var to;\n    var ti;\n    for (i = 0; i < len - 1; i += 1) {\n      if (data.k[i].to && data.k[i].s && data.k[i + 1] && data.k[i + 1].s) {\n        s = data.k[i].s;\n        e = data.k[i + 1].s;\n        to = data.k[i].to;\n        ti = data.k[i].ti;\n        if ((s.length === 2 && !(s[0] === e[0] && s[1] === e[1]) && bez.pointOnLine2D(s[0], s[1], e[0], e[1], s[0] + to[0], s[1] + to[1]) && bez.pointOnLine2D(s[0], s[1], e[0], e[1], e[0] + ti[0], e[1] + ti[1])) || (s.length === 3 && !(s[0] === e[0] && s[1] === e[1] && s[2] === e[2]) && bez.pointOnLine3D(s[0], s[1], s[2], e[0], e[1], e[2], s[0] + to[0], s[1] + to[1], s[2] + to[2]) && bez.pointOnLine3D(s[0], s[1], s[2], e[0], e[1], e[2], e[0] + ti[0], e[1] + ti[1], e[2] + ti[2]))) {\n          data.k[i].to = null;\n          data.k[i].ti = null;\n        }\n        if (s[0] === e[0] && s[1] === e[1] && to[0] === 0 && to[1] === 0 && ti[0] === 0 && ti[1] === 0) {\n          if (s.length === 2 || (s[2] === e[2] && to[2] === 0 && ti[2] === 0)) {\n            data.k[i].to = null;\n            data.k[i].ti = null;\n          }\n        }\n      }\n    }\n    this.effectsSequence = [getValueAtCurrentTime.bind(this)];\n    this.data = data;\n    this.keyframes = data.k;\n    this.keyframesMetadata = [];\n    this.offsetTime = elem.data.st;\n    this.k = true;\n    this.kf = true;\n    this._isFirstFrame = true;\n    this.mult = mult || 1;\n    this.elem = elem;\n    this.container = container;\n    this.comp = elem.comp;\n    this.getValue = processEffectsSequence;\n    this.setVValue = setVValue;\n    this.interpolateValue = interpolateValue;\n    this.frameId = -1;\n    var arrLen = data.k[0].s.length;\n    this.v = createTypedArray('float32', arrLen);\n    this.pv = createTypedArray('float32', arrLen);\n    for (i = 0; i < arrLen; i += 1) {\n      this.v[i] = initFrame;\n      this.pv[i] = initFrame;\n    }\n    this._caching = { lastFrame: initFrame, lastIndex: 0, value: createTypedArray('float32', arrLen) };\n    this.addEffect = addEffect;\n  }\n\n  function getProp(elem, data, type, mult, container) {\n    var p;\n    if (!data.k.length) {\n      p = new ValueProperty(elem, data, mult, container);\n    } else if (typeof (data.k[0]) === 'number') {\n      p = new MultiDimensionalProperty(elem, data, mult, container);\n    } else {\n      switch (type) {\n        case 0:\n          p = new KeyframedValueProperty(elem, data, mult, container);\n          break;\n        case 1:\n          p = new KeyframedMultidimensionalProperty(elem, data, mult, container);\n          break;\n        default:\n          break;\n      }\n    }\n    if (p.effectsSequence.length) {\n      container.addDynamicProperty(p);\n    }\n    return p;\n  }\n\n  var ob = {\n    getProp: getProp,\n  };\n  return ob;\n}());\n\nfunction DynamicPropertyContainer() {}\nDynamicPropertyContainer.prototype = {\n  addDynamicProperty: function (prop) {\n    if (this.dynamicProperties.indexOf(prop) === -1) {\n      this.dynamicProperties.push(prop);\n      this.container.addDynamicProperty(this);\n      this._isAnimated = true;\n    }\n  },\n  iterateDynamicProperties: function () {\n    this._mdf = false;\n    var i;\n    var len = this.dynamicProperties.length;\n    for (i = 0; i < len; i += 1) {\n      this.dynamicProperties[i].getValue();\n      if (this.dynamicProperties[i]._mdf) {\n        this._mdf = true;\n      }\n    }\n  },\n  initDynamicPropertyContainer: function (container) {\n    this.container = container;\n    this.dynamicProperties = [];\n    this._mdf = false;\n    this._isAnimated = false;\n  },\n};\n\nconst pointPool = (function () {\n  function create() {\n    return createTypedArray('float32', 2);\n  }\n  return poolFactory(8, create);\n}());\n\nfunction ShapePath() {\n  this.c = false;\n  this._length = 0;\n  this._maxLength = 8;\n  this.v = createSizedArray(this._maxLength);\n  this.o = createSizedArray(this._maxLength);\n  this.i = createSizedArray(this._maxLength);\n}\n\nShapePath.prototype.setPathData = function (closed, len) {\n  this.c = closed;\n  this.setLength(len);\n  var i = 0;\n  while (i < len) {\n    this.v[i] = pointPool.newElement();\n    this.o[i] = pointPool.newElement();\n    this.i[i] = pointPool.newElement();\n    i += 1;\n  }\n};\n\nShapePath.prototype.setLength = function (len) {\n  while (this._maxLength < len) {\n    this.doubleArrayLength();\n  }\n  this._length = len;\n};\n\nShapePath.prototype.doubleArrayLength = function () {\n  this.v = this.v.concat(createSizedArray(this._maxLength));\n  this.i = this.i.concat(createSizedArray(this._maxLength));\n  this.o = this.o.concat(createSizedArray(this._maxLength));\n  this._maxLength *= 2;\n};\n\nShapePath.prototype.setXYAt = function (x, y, type, pos, replace) {\n  var arr;\n  this._length = Math.max(this._length, pos + 1);\n  if (this._length >= this._maxLength) {\n    this.doubleArrayLength();\n  }\n  switch (type) {\n    case 'v':\n      arr = this.v;\n      break;\n    case 'i':\n      arr = this.i;\n      break;\n    case 'o':\n      arr = this.o;\n      break;\n    default:\n      arr = [];\n      break;\n  }\n  if (!arr[pos] || (arr[pos] && !replace)) {\n    arr[pos] = pointPool.newElement();\n  }\n  arr[pos][0] = x;\n  arr[pos][1] = y;\n};\n\nShapePath.prototype.setTripleAt = function (vX, vY, oX, oY, iX, iY, pos, replace) {\n  this.setXYAt(vX, vY, 'v', pos, replace);\n  this.setXYAt(oX, oY, 'o', pos, replace);\n  this.setXYAt(iX, iY, 'i', pos, replace);\n};\n\nShapePath.prototype.reverse = function () {\n  var newPath = new ShapePath();\n  newPath.setPathData(this.c, this._length);\n  var vertices = this.v;\n  var outPoints = this.o;\n  var inPoints = this.i;\n  var init = 0;\n  if (this.c) {\n    newPath.setTripleAt(vertices[0][0], vertices[0][1], inPoints[0][0], inPoints[0][1], outPoints[0][0], outPoints[0][1], 0, false);\n    init = 1;\n  }\n  var cnt = this._length - 1;\n  var len = this._length;\n\n  var i;\n  for (i = init; i < len; i += 1) {\n    newPath.setTripleAt(vertices[cnt][0], vertices[cnt][1], inPoints[cnt][0], inPoints[cnt][1], outPoints[cnt][0], outPoints[cnt][1], i, false);\n    cnt -= 1;\n  }\n  return newPath;\n};\n\nconst shapePool = (function () {\n  function create() {\n    return new ShapePath();\n  }\n\n  function release(shapePath) {\n    var len = shapePath._length;\n    var i;\n    for (i = 0; i < len; i += 1) {\n      pointPool.release(shapePath.v[i]);\n      pointPool.release(shapePath.i[i]);\n      pointPool.release(shapePath.o[i]);\n      shapePath.v[i] = null;\n      shapePath.i[i] = null;\n      shapePath.o[i] = null;\n    }\n    shapePath._length = 0;\n    shapePath.c = false;\n  }\n\n  function clone(shape) {\n    var cloned = factory.newElement();\n    var i;\n    var len = shape._length === undefined ? shape.v.length : shape._length;\n    cloned.setLength(len);\n    cloned.c = shape.c;\n\n    for (i = 0; i < len; i += 1) {\n      cloned.setTripleAt(shape.v[i][0], shape.v[i][1], shape.o[i][0], shape.o[i][1], shape.i[i][0], shape.i[i][1], i);\n    }\n    return cloned;\n  }\n\n  var factory = poolFactory(4, create, release);\n  factory.clone = clone;\n\n  return factory;\n}());\n\nfunction ShapeCollection() {\n  this._length = 0;\n  this._maxLength = 4;\n  this.shapes = createSizedArray(this._maxLength);\n}\n\nShapeCollection.prototype.addShape = function (shapeData) {\n  if (this._length === this._maxLength) {\n    this.shapes = this.shapes.concat(createSizedArray(this._maxLength));\n    this._maxLength *= 2;\n  }\n  this.shapes[this._length] = shapeData;\n  this._length += 1;\n};\n\nShapeCollection.prototype.releaseShapes = function () {\n  var i;\n  for (i = 0; i < this._length; i += 1) {\n    shapePool.release(this.shapes[i]);\n  }\n  this._length = 0;\n};\n\nconst shapeCollectionPool = (function () {\n  var ob = {\n    newShapeCollection: newShapeCollection,\n    release: release,\n  };\n\n  var _length = 0;\n  var _maxLength = 4;\n  var pool = createSizedArray(_maxLength);\n\n  function newShapeCollection() {\n    var shapeCollection;\n    if (_length) {\n      _length -= 1;\n      shapeCollection = pool[_length];\n    } else {\n      shapeCollection = new ShapeCollection();\n    }\n    return shapeCollection;\n  }\n\n  function release(shapeCollection) {\n    var i;\n    var len = shapeCollection._length;\n    for (i = 0; i < len; i += 1) {\n      shapePool.release(shapeCollection.shapes[i]);\n    }\n    shapeCollection._length = 0;\n\n    if (_length === _maxLength) {\n      pool = pooling.double(pool);\n      _maxLength *= 2;\n    }\n    pool[_length] = shapeCollection;\n    _length += 1;\n  }\n\n  return ob;\n}());\n\nconst ShapePropertyFactory = (function () {\n  var initFrame = -999999;\n\n  function interpolateShape(frameNum, previousValue, caching) {\n    var iterationIndex = caching.lastIndex;\n    var keyPropS;\n    var keyPropE;\n    var isHold;\n    var j;\n    var k;\n    var jLen;\n    var kLen;\n    var perc;\n    var vertexValue;\n    var kf = this.keyframes;\n    if (frameNum < kf[0].t - this.offsetTime) {\n      keyPropS = kf[0].s[0];\n      isHold = true;\n      iterationIndex = 0;\n    } else if (frameNum >= kf[kf.length - 1].t - this.offsetTime) {\n      keyPropS = kf[kf.length - 1].s ? kf[kf.length - 1].s[0] : kf[kf.length - 2].e[0];\n      /* if(kf[kf.length - 1].s){\n                keyPropS = kf[kf.length - 1].s[0];\n            }else{\n                keyPropS = kf[kf.length - 2].e[0];\n            } */\n      isHold = true;\n    } else {\n      var i = iterationIndex;\n      var len = kf.length - 1;\n      var flag = true;\n      var keyData;\n      var nextKeyData;\n      var keyframeMetadata;\n      while (flag) {\n        keyData = kf[i];\n        nextKeyData = kf[i + 1];\n        if ((nextKeyData.t - this.offsetTime) > frameNum) {\n          break;\n        }\n        if (i < len - 1) {\n          i += 1;\n        } else {\n          flag = false;\n        }\n      }\n      keyframeMetadata = this.keyframesMetadata[i] || {};\n      isHold = keyData.h === 1;\n      iterationIndex = i;\n      if (!isHold) {\n        if (frameNum >= nextKeyData.t - this.offsetTime) {\n          perc = 1;\n        } else if (frameNum < keyData.t - this.offsetTime) {\n          perc = 0;\n        } else {\n          var fnc;\n          if (keyframeMetadata.__fnct) {\n            fnc = keyframeMetadata.__fnct;\n          } else {\n            fnc = BezierFactory.getBezierEasing(keyData.o.x, keyData.o.y, keyData.i.x, keyData.i.y).get;\n            keyframeMetadata.__fnct = fnc;\n          }\n          perc = fnc((frameNum - (keyData.t - this.offsetTime)) / ((nextKeyData.t - this.offsetTime) - (keyData.t - this.offsetTime)));\n        }\n        keyPropE = nextKeyData.s ? nextKeyData.s[0] : keyData.e[0];\n      }\n      keyPropS = keyData.s[0];\n    }\n    jLen = previousValue._length;\n    kLen = keyPropS.i[0].length;\n    caching.lastIndex = iterationIndex;\n\n    for (j = 0; j < jLen; j += 1) {\n      for (k = 0; k < kLen; k += 1) {\n        vertexValue = isHold ? keyPropS.i[j][k] : keyPropS.i[j][k] + (keyPropE.i[j][k] - keyPropS.i[j][k]) * perc;\n        previousValue.i[j][k] = vertexValue;\n        vertexValue = isHold ? keyPropS.o[j][k] : keyPropS.o[j][k] + (keyPropE.o[j][k] - keyPropS.o[j][k]) * perc;\n        previousValue.o[j][k] = vertexValue;\n        vertexValue = isHold ? keyPropS.v[j][k] : keyPropS.v[j][k] + (keyPropE.v[j][k] - keyPropS.v[j][k]) * perc;\n        previousValue.v[j][k] = vertexValue;\n      }\n    }\n  }\n\n  function interpolateShapeCurrentTime() {\n    var frameNum = this.comp.renderedFrame - this.offsetTime;\n    var initTime = this.keyframes[0].t - this.offsetTime;\n    var endTime = this.keyframes[this.keyframes.length - 1].t - this.offsetTime;\n    var lastFrame = this._caching.lastFrame;\n    if (!(lastFrame !== initFrame && ((lastFrame < initTime && frameNum < initTime) || (lastFrame > endTime && frameNum > endTime)))) {\n      /// /\n      this._caching.lastIndex = lastFrame < frameNum ? this._caching.lastIndex : 0;\n      this.interpolateShape(frameNum, this.pv, this._caching);\n      /// /\n    }\n    this._caching.lastFrame = frameNum;\n    return this.pv;\n  }\n\n  function resetShape() {\n    this.paths = this.localShapeCollection;\n  }\n\n  function shapesEqual(shape1, shape2) {\n    if (shape1._length !== shape2._length || shape1.c !== shape2.c) {\n      return false;\n    }\n    var i;\n    var len = shape1._length;\n    for (i = 0; i < len; i += 1) {\n      if (shape1.v[i][0] !== shape2.v[i][0]\n            || shape1.v[i][1] !== shape2.v[i][1]\n            || shape1.o[i][0] !== shape2.o[i][0]\n            || shape1.o[i][1] !== shape2.o[i][1]\n            || shape1.i[i][0] !== shape2.i[i][0]\n            || shape1.i[i][1] !== shape2.i[i][1]) {\n        return false;\n      }\n    }\n    return true;\n  }\n\n  function setVValue(newPath) {\n    if (!shapesEqual(this.v, newPath)) {\n      this.v = shapePool.clone(newPath);\n      this.localShapeCollection.releaseShapes();\n      this.localShapeCollection.addShape(this.v);\n      this._mdf = true;\n      this.paths = this.localShapeCollection;\n    }\n  }\n\n  function processEffectsSequence() {\n    if (this.elem.globalData.frameId === this.frameId) {\n      return;\n    } if (!this.effectsSequence.length) {\n      this._mdf = false;\n      return;\n    }\n    if (this.lock) {\n      this.setVValue(this.pv);\n      return;\n    }\n    this.lock = true;\n    this._mdf = false;\n    var finalValue;\n    if (this.kf) {\n      finalValue = this.pv;\n    } else if (this.data.ks) {\n      finalValue = this.data.ks.k;\n    } else {\n      finalValue = this.data.pt.k;\n    }\n    var i;\n    var len = this.effectsSequence.length;\n    for (i = 0; i < len; i += 1) {\n      finalValue = this.effectsSequence[i](finalValue);\n    }\n    this.setVValue(finalValue);\n    this.lock = false;\n    this.frameId = this.elem.globalData.frameId;\n  }\n\n  function ShapeProperty(elem, data, type) {\n    this.propType = 'shape';\n    this.comp = elem.comp;\n    this.container = elem;\n    this.elem = elem;\n    this.data = data;\n    this.k = false;\n    this.kf = false;\n    this._mdf = false;\n    var pathData = type === 3 ? data.pt.k : data.ks.k;\n    this.v = shapePool.clone(pathData);\n    this.pv = shapePool.clone(this.v);\n    this.localShapeCollection = shapeCollectionPool.newShapeCollection();\n    this.paths = this.localShapeCollection;\n    this.paths.addShape(this.v);\n    this.reset = resetShape;\n    this.effectsSequence = [];\n  }\n\n  function addEffect(effectFunction) {\n    this.effectsSequence.push(effectFunction);\n    this.container.addDynamicProperty(this);\n  }\n\n  ShapeProperty.prototype.interpolateShape = interpolateShape;\n  ShapeProperty.prototype.getValue = processEffectsSequence;\n  ShapeProperty.prototype.setVValue = setVValue;\n  ShapeProperty.prototype.addEffect = addEffect;\n\n  function KeyframedShapeProperty(elem, data, type) {\n    this.propType = 'shape';\n    this.comp = elem.comp;\n    this.elem = elem;\n    this.container = elem;\n    this.offsetTime = elem.data.st;\n    this.keyframes = type === 3 ? data.pt.k : data.ks.k;\n    this.keyframesMetadata = [];\n    this.k = true;\n    this.kf = true;\n    var len = this.keyframes[0].s[0].i.length;\n    this.v = shapePool.newElement();\n    this.v.setPathData(this.keyframes[0].s[0].c, len);\n    this.pv = shapePool.clone(this.v);\n    this.localShapeCollection = shapeCollectionPool.newShapeCollection();\n    this.paths = this.localShapeCollection;\n    this.paths.addShape(this.v);\n    this.lastFrame = initFrame;\n    this.reset = resetShape;\n    this._caching = { lastFrame: initFrame, lastIndex: 0 };\n    this.effectsSequence = [interpolateShapeCurrentTime.bind(this)];\n  }\n  KeyframedShapeProperty.prototype.getValue = processEffectsSequence;\n  KeyframedShapeProperty.prototype.interpolateShape = interpolateShape;\n  KeyframedShapeProperty.prototype.setVValue = setVValue;\n  KeyframedShapeProperty.prototype.addEffect = addEffect;\n\n  var EllShapeProperty = (function () {\n    var cPoint = roundCorner;\n\n    function EllShapePropertyFactory(elem, data) {\n      this.v = shapePool.newElement();\n      this.v.setPathData(true, 4);\n      this.localShapeCollection = shapeCollectionPool.newShapeCollection();\n      this.paths = this.localShapeCollection;\n      this.localShapeCollection.addShape(this.v);\n      this.d = data.d;\n      this.elem = elem;\n      this.comp = elem.comp;\n      this.frameId = -1;\n      this.initDynamicPropertyContainer(elem);\n      this.p = PropertyFactory.getProp(elem, data.p, 1, 0, this);\n      this.s = PropertyFactory.getProp(elem, data.s, 1, 0, this);\n      if (this.dynamicProperties.length) {\n        this.k = true;\n      } else {\n        this.k = false;\n        this.convertEllToPath();\n      }\n    }\n\n    EllShapePropertyFactory.prototype = {\n      reset: resetShape,\n      getValue: function () {\n        if (this.elem.globalData.frameId === this.frameId) {\n          return;\n        }\n        this.frameId = this.elem.globalData.frameId;\n        this.iterateDynamicProperties();\n\n        if (this._mdf) {\n          this.convertEllToPath();\n        }\n      },\n      convertEllToPath: function () {\n        var p0 = this.p.v[0];\n        var p1 = this.p.v[1];\n        var s0 = this.s.v[0] / 2;\n        var s1 = this.s.v[1] / 2;\n        var _cw = this.d !== 3;\n        var _v = this.v;\n        _v.v[0][0] = p0;\n        _v.v[0][1] = p1 - s1;\n        _v.v[1][0] = _cw ? p0 + s0 : p0 - s0;\n        _v.v[1][1] = p1;\n        _v.v[2][0] = p0;\n        _v.v[2][1] = p1 + s1;\n        _v.v[3][0] = _cw ? p0 - s0 : p0 + s0;\n        _v.v[3][1] = p1;\n        _v.i[0][0] = _cw ? p0 - s0 * cPoint : p0 + s0 * cPoint;\n        _v.i[0][1] = p1 - s1;\n        _v.i[1][0] = _cw ? p0 + s0 : p0 - s0;\n        _v.i[1][1] = p1 - s1 * cPoint;\n        _v.i[2][0] = _cw ? p0 + s0 * cPoint : p0 - s0 * cPoint;\n        _v.i[2][1] = p1 + s1;\n        _v.i[3][0] = _cw ? p0 - s0 : p0 + s0;\n        _v.i[3][1] = p1 + s1 * cPoint;\n        _v.o[0][0] = _cw ? p0 + s0 * cPoint : p0 - s0 * cPoint;\n        _v.o[0][1] = p1 - s1;\n        _v.o[1][0] = _cw ? p0 + s0 : p0 - s0;\n        _v.o[1][1] = p1 + s1 * cPoint;\n        _v.o[2][0] = _cw ? p0 - s0 * cPoint : p0 + s0 * cPoint;\n        _v.o[2][1] = p1 + s1;\n        _v.o[3][0] = _cw ? p0 - s0 : p0 + s0;\n        _v.o[3][1] = p1 - s1 * cPoint;\n      },\n    };\n\n    extendPrototype([DynamicPropertyContainer], EllShapePropertyFactory);\n\n    return EllShapePropertyFactory;\n  }());\n\n  var StarShapeProperty = (function () {\n    function StarShapePropertyFactory(elem, data) {\n      this.v = shapePool.newElement();\n      this.v.setPathData(true, 0);\n      this.elem = elem;\n      this.comp = elem.comp;\n      this.data = data;\n      this.frameId = -1;\n      this.d = data.d;\n      this.initDynamicPropertyContainer(elem);\n      if (data.sy === 1) {\n        this.ir = PropertyFactory.getProp(elem, data.ir, 0, 0, this);\n        this.is = PropertyFactory.getProp(elem, data.is, 0, 0.01, this);\n        this.convertToPath = this.convertStarToPath;\n      } else {\n        this.convertToPath = this.convertPolygonToPath;\n      }\n      this.pt = PropertyFactory.getProp(elem, data.pt, 0, 0, this);\n      this.p = PropertyFactory.getProp(elem, data.p, 1, 0, this);\n      this.r = PropertyFactory.getProp(elem, data.r, 0, degToRads, this);\n      this.or = PropertyFactory.getProp(elem, data.or, 0, 0, this);\n      this.os = PropertyFactory.getProp(elem, data.os, 0, 0.01, this);\n      this.localShapeCollection = shapeCollectionPool.newShapeCollection();\n      this.localShapeCollection.addShape(this.v);\n      this.paths = this.localShapeCollection;\n      if (this.dynamicProperties.length) {\n        this.k = true;\n      } else {\n        this.k = false;\n        this.convertToPath();\n      }\n    }\n\n    StarShapePropertyFactory.prototype = {\n      reset: resetShape,\n      getValue: function () {\n        if (this.elem.globalData.frameId === this.frameId) {\n          return;\n        }\n        this.frameId = this.elem.globalData.frameId;\n        this.iterateDynamicProperties();\n        if (this._mdf) {\n          this.convertToPath();\n        }\n      },\n      convertStarToPath: function () {\n        var numPts = Math.floor(this.pt.v) * 2;\n        var angle = (Math.PI * 2) / numPts;\n        /* this.v.v.length = numPts;\n                this.v.i.length = numPts;\n                this.v.o.length = numPts; */\n        var longFlag = true;\n        var longRad = this.or.v;\n        var shortRad = this.ir.v;\n        var longRound = this.os.v;\n        var shortRound = this.is.v;\n        var longPerimSegment = (2 * Math.PI * longRad) / (numPts * 2);\n        var shortPerimSegment = (2 * Math.PI * shortRad) / (numPts * 2);\n        var i;\n        var rad;\n        var roundness;\n        var perimSegment;\n        var currentAng = -Math.PI / 2;\n        currentAng += this.r.v;\n        var dir = this.data.d === 3 ? -1 : 1;\n        this.v._length = 0;\n        for (i = 0; i < numPts; i += 1) {\n          rad = longFlag ? longRad : shortRad;\n          roundness = longFlag ? longRound : shortRound;\n          perimSegment = longFlag ? longPerimSegment : shortPerimSegment;\n          var x = rad * Math.cos(currentAng);\n          var y = rad * Math.sin(currentAng);\n          var ox = x === 0 && y === 0 ? 0 : y / Math.sqrt(x * x + y * y);\n          var oy = x === 0 && y === 0 ? 0 : -x / Math.sqrt(x * x + y * y);\n          x += +this.p.v[0];\n          y += +this.p.v[1];\n          this.v.setTripleAt(x, y, x - ox * perimSegment * roundness * dir, y - oy * perimSegment * roundness * dir, x + ox * perimSegment * roundness * dir, y + oy * perimSegment * roundness * dir, i, true);\n\n          /* this.v.v[i] = [x,y];\n                    this.v.i[i] = [x+ox*perimSegment*roundness*dir,y+oy*perimSegment*roundness*dir];\n                    this.v.o[i] = [x-ox*perimSegment*roundness*dir,y-oy*perimSegment*roundness*dir];\n                    this.v._length = numPts; */\n          longFlag = !longFlag;\n          currentAng += angle * dir;\n        }\n      },\n      convertPolygonToPath: function () {\n        var numPts = Math.floor(this.pt.v);\n        var angle = (Math.PI * 2) / numPts;\n        var rad = this.or.v;\n        var roundness = this.os.v;\n        var perimSegment = (2 * Math.PI * rad) / (numPts * 4);\n        var i;\n        var currentAng = -Math.PI * 0.5;\n        var dir = this.data.d === 3 ? -1 : 1;\n        currentAng += this.r.v;\n        this.v._length = 0;\n        for (i = 0; i < numPts; i += 1) {\n          var x = rad * Math.cos(currentAng);\n          var y = rad * Math.sin(currentAng);\n          var ox = x === 0 && y === 0 ? 0 : y / Math.sqrt(x * x + y * y);\n          var oy = x === 0 && y === 0 ? 0 : -x / Math.sqrt(x * x + y * y);\n          x += +this.p.v[0];\n          y += +this.p.v[1];\n          this.v.setTripleAt(x, y, x - ox * perimSegment * roundness * dir, y - oy * perimSegment * roundness * dir, x + ox * perimSegment * roundness * dir, y + oy * perimSegment * roundness * dir, i, true);\n          currentAng += angle * dir;\n        }\n        this.paths.length = 0;\n        this.paths[0] = this.v;\n      },\n\n    };\n    extendPrototype([DynamicPropertyContainer], StarShapePropertyFactory);\n\n    return StarShapePropertyFactory;\n  }());\n\n  var RectShapeProperty = (function () {\n    function RectShapePropertyFactory(elem, data) {\n      this.v = shapePool.newElement();\n      this.v.c = true;\n      this.localShapeCollection = shapeCollectionPool.newShapeCollection();\n      this.localShapeCollection.addShape(this.v);\n      this.paths = this.localShapeCollection;\n      this.elem = elem;\n      this.comp = elem.comp;\n      this.frameId = -1;\n      this.d = data.d;\n      this.initDynamicPropertyContainer(elem);\n      this.p = PropertyFactory.getProp(elem, data.p, 1, 0, this);\n      this.s = PropertyFactory.getProp(elem, data.s, 1, 0, this);\n      this.r = PropertyFactory.getProp(elem, data.r, 0, 0, this);\n      if (this.dynamicProperties.length) {\n        this.k = true;\n      } else {\n        this.k = false;\n        this.convertRectToPath();\n      }\n    }\n\n    RectShapePropertyFactory.prototype = {\n      convertRectToPath: function () {\n        var p0 = this.p.v[0];\n        var p1 = this.p.v[1];\n        var v0 = this.s.v[0] / 2;\n        var v1 = this.s.v[1] / 2;\n        var round = bmMin(v0, v1, this.r.v);\n        var cPoint = round * (1 - roundCorner);\n        this.v._length = 0;\n\n        if (this.d === 2 || this.d === 1) {\n          this.v.setTripleAt(p0 + v0, p1 - v1 + round, p0 + v0, p1 - v1 + round, p0 + v0, p1 - v1 + cPoint, 0, true);\n          this.v.setTripleAt(p0 + v0, p1 + v1 - round, p0 + v0, p1 + v1 - cPoint, p0 + v0, p1 + v1 - round, 1, true);\n          if (round !== 0) {\n            this.v.setTripleAt(p0 + v0 - round, p1 + v1, p0 + v0 - round, p1 + v1, p0 + v0 - cPoint, p1 + v1, 2, true);\n            this.v.setTripleAt(p0 - v0 + round, p1 + v1, p0 - v0 + cPoint, p1 + v1, p0 - v0 + round, p1 + v1, 3, true);\n            this.v.setTripleAt(p0 - v0, p1 + v1 - round, p0 - v0, p1 + v1 - round, p0 - v0, p1 + v1 - cPoint, 4, true);\n            this.v.setTripleAt(p0 - v0, p1 - v1 + round, p0 - v0, p1 - v1 + cPoint, p0 - v0, p1 - v1 + round, 5, true);\n            this.v.setTripleAt(p0 - v0 + round, p1 - v1, p0 - v0 + round, p1 - v1, p0 - v0 + cPoint, p1 - v1, 6, true);\n            this.v.setTripleAt(p0 + v0 - round, p1 - v1, p0 + v0 - cPoint, p1 - v1, p0 + v0 - round, p1 - v1, 7, true);\n          } else {\n            this.v.setTripleAt(p0 - v0, p1 + v1, p0 - v0 + cPoint, p1 + v1, p0 - v0, p1 + v1, 2);\n            this.v.setTripleAt(p0 - v0, p1 - v1, p0 - v0, p1 - v1 + cPoint, p0 - v0, p1 - v1, 3);\n          }\n        } else {\n          this.v.setTripleAt(p0 + v0, p1 - v1 + round, p0 + v0, p1 - v1 + cPoint, p0 + v0, p1 - v1 + round, 0, true);\n          if (round !== 0) {\n            this.v.setTripleAt(p0 + v0 - round, p1 - v1, p0 + v0 - round, p1 - v1, p0 + v0 - cPoint, p1 - v1, 1, true);\n            this.v.setTripleAt(p0 - v0 + round, p1 - v1, p0 - v0 + cPoint, p1 - v1, p0 - v0 + round, p1 - v1, 2, true);\n            this.v.setTripleAt(p0 - v0, p1 - v1 + round, p0 - v0, p1 - v1 + round, p0 - v0, p1 - v1 + cPoint, 3, true);\n            this.v.setTripleAt(p0 - v0, p1 + v1 - round, p0 - v0, p1 + v1 - cPoint, p0 - v0, p1 + v1 - round, 4, true);\n            this.v.setTripleAt(p0 - v0 + round, p1 + v1, p0 - v0 + round, p1 + v1, p0 - v0 + cPoint, p1 + v1, 5, true);\n            this.v.setTripleAt(p0 + v0 - round, p1 + v1, p0 + v0 - cPoint, p1 + v1, p0 + v0 - round, p1 + v1, 6, true);\n            this.v.setTripleAt(p0 + v0, p1 + v1 - round, p0 + v0, p1 + v1 - round, p0 + v0, p1 + v1 - cPoint, 7, true);\n          } else {\n            this.v.setTripleAt(p0 - v0, p1 - v1, p0 - v0 + cPoint, p1 - v1, p0 - v0, p1 - v1, 1, true);\n            this.v.setTripleAt(p0 - v0, p1 + v1, p0 - v0, p1 + v1 - cPoint, p0 - v0, p1 + v1, 2, true);\n            this.v.setTripleAt(p0 + v0, p1 + v1, p0 + v0 - cPoint, p1 + v1, p0 + v0, p1 + v1, 3, true);\n          }\n        }\n      },\n      getValue: function () {\n        if (this.elem.globalData.frameId === this.frameId) {\n          return;\n        }\n        this.frameId = this.elem.globalData.frameId;\n        this.iterateDynamicProperties();\n        if (this._mdf) {\n          this.convertRectToPath();\n        }\n      },\n      reset: resetShape,\n    };\n    extendPrototype([DynamicPropertyContainer], RectShapePropertyFactory);\n\n    return RectShapePropertyFactory;\n  }());\n\n  function getShapeProp(elem, data, type) {\n    var prop;\n    if (type === 3 || type === 4) {\n      var dataProp = type === 3 ? data.pt : data.ks;\n      var keys = dataProp.k;\n      if (keys.length) {\n        prop = new KeyframedShapeProperty(elem, data, type);\n      } else {\n        prop = new ShapeProperty(elem, data, type);\n      }\n    } else if (type === 5) {\n      prop = new RectShapeProperty(elem, data);\n    } else if (type === 6) {\n      prop = new EllShapeProperty(elem, data);\n    } else if (type === 7) {\n      prop = new StarShapeProperty(elem, data);\n    }\n    if (prop.k) {\n      elem.addDynamicProperty(prop);\n    }\n    return prop;\n  }\n\n  function getConstructorFunction() {\n    return ShapeProperty;\n  }\n\n  function getKeyframedConstructorFunction() {\n    return KeyframedShapeProperty;\n  }\n\n  var ob = {};\n  ob.getShapeProp = getShapeProp;\n  ob.getConstructorFunction = getConstructorFunction;\n  ob.getKeyframedConstructorFunction = getKeyframedConstructorFunction;\n  return ob;\n}());\n\n/*!\n Transformation Matrix v2.0\n (c) Epistemex 2014-2015\n www.epistemex.com\n By Ken Fyrstenberg\n Contributions by leeoniya.\n License: MIT, header required.\n */\n\n/**\n * 2D transformation matrix object initialized with identity matrix.\n *\n * The matrix can synchronize a canvas context by supplying the context\n * as an argument, or later apply current absolute transform to an\n * existing context.\n *\n * All values are handled as floating point values.\n *\n * @param {CanvasRenderingContext2D} [context] - Optional context to sync with Matrix\n * @prop {number} a - scale x\n * @prop {number} b - shear y\n * @prop {number} c - shear x\n * @prop {number} d - scale y\n * @prop {number} e - translate x\n * @prop {number} f - translate y\n * @prop {CanvasRenderingContext2D|null} [context=null] - set or get current canvas context\n * @constructor\n */\n\nconst Matrix = (function () {\n  var _cos = Math.cos;\n  var _sin = Math.sin;\n  var _tan = Math.tan;\n  var _rnd = Math.round;\n\n  function reset() {\n    this.props[0] = 1;\n    this.props[1] = 0;\n    this.props[2] = 0;\n    this.props[3] = 0;\n    this.props[4] = 0;\n    this.props[5] = 1;\n    this.props[6] = 0;\n    this.props[7] = 0;\n    this.props[8] = 0;\n    this.props[9] = 0;\n    this.props[10] = 1;\n    this.props[11] = 0;\n    this.props[12] = 0;\n    this.props[13] = 0;\n    this.props[14] = 0;\n    this.props[15] = 1;\n    return this;\n  }\n\n  function rotate(angle) {\n    if (angle === 0) {\n      return this;\n    }\n    var mCos = _cos(angle);\n    var mSin = _sin(angle);\n    return this._t(mCos, -mSin, 0, 0, mSin, mCos, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1);\n  }\n\n  function rotateX(angle) {\n    if (angle === 0) {\n      return this;\n    }\n    var mCos = _cos(angle);\n    var mSin = _sin(angle);\n    return this._t(1, 0, 0, 0, 0, mCos, -mSin, 0, 0, mSin, mCos, 0, 0, 0, 0, 1);\n  }\n\n  function rotateY(angle) {\n    if (angle === 0) {\n      return this;\n    }\n    var mCos = _cos(angle);\n    var mSin = _sin(angle);\n    return this._t(mCos, 0, mSin, 0, 0, 1, 0, 0, -mSin, 0, mCos, 0, 0, 0, 0, 1);\n  }\n\n  function rotateZ(angle) {\n    if (angle === 0) {\n      return this;\n    }\n    var mCos = _cos(angle);\n    var mSin = _sin(angle);\n    return this._t(mCos, -mSin, 0, 0, mSin, mCos, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1);\n  }\n\n  function shear(sx, sy) {\n    return this._t(1, sy, sx, 1, 0, 0);\n  }\n\n  function skew(ax, ay) {\n    return this.shear(_tan(ax), _tan(ay));\n  }\n\n  function skewFromAxis(ax, angle) {\n    var mCos = _cos(angle);\n    var mSin = _sin(angle);\n    return this._t(mCos, mSin, 0, 0, -mSin, mCos, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1)\n      ._t(1, 0, 0, 0, _tan(ax), 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1)\n      ._t(mCos, -mSin, 0, 0, mSin, mCos, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1);\n    // return this._t(mCos, mSin, -mSin, mCos, 0, 0)._t(1, 0, _tan(ax), 1, 0, 0)._t(mCos, -mSin, mSin, mCos, 0, 0);\n  }\n\n  function scale(sx, sy, sz) {\n    if (!sz && sz !== 0) {\n      sz = 1;\n    }\n    if (sx === 1 && sy === 1 && sz === 1) {\n      return this;\n    }\n    return this._t(sx, 0, 0, 0, 0, sy, 0, 0, 0, 0, sz, 0, 0, 0, 0, 1);\n  }\n\n  function setTransform(a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p) {\n    this.props[0] = a;\n    this.props[1] = b;\n    this.props[2] = c;\n    this.props[3] = d;\n    this.props[4] = e;\n    this.props[5] = f;\n    this.props[6] = g;\n    this.props[7] = h;\n    this.props[8] = i;\n    this.props[9] = j;\n    this.props[10] = k;\n    this.props[11] = l;\n    this.props[12] = m;\n    this.props[13] = n;\n    this.props[14] = o;\n    this.props[15] = p;\n    return this;\n  }\n\n  function translate(tx, ty, tz) {\n    tz = tz || 0;\n    if (tx !== 0 || ty !== 0 || tz !== 0) {\n      return this._t(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, tx, ty, tz, 1);\n    }\n    return this;\n  }\n\n  function transform(a2, b2, c2, d2, e2, f2, g2, h2, i2, j2, k2, l2, m2, n2, o2, p2) {\n    var _p = this.props;\n\n    if (a2 === 1 && b2 === 0 && c2 === 0 && d2 === 0 && e2 === 0 && f2 === 1 && g2 === 0 && h2 === 0 && i2 === 0 && j2 === 0 && k2 === 1 && l2 === 0) {\n      // NOTE: commenting this condition because TurboFan deoptimizes code when present\n      // if(m2 !== 0 || n2 !== 0 || o2 !== 0){\n      _p[12] = _p[12] * a2 + _p[15] * m2;\n      _p[13] = _p[13] * f2 + _p[15] * n2;\n      _p[14] = _p[14] * k2 + _p[15] * o2;\n      _p[15] *= p2;\n      // }\n      this._identityCalculated = false;\n      return this;\n    }\n\n    var a1 = _p[0];\n    var b1 = _p[1];\n    var c1 = _p[2];\n    var d1 = _p[3];\n    var e1 = _p[4];\n    var f1 = _p[5];\n    var g1 = _p[6];\n    var h1 = _p[7];\n    var i1 = _p[8];\n    var j1 = _p[9];\n    var k1 = _p[10];\n    var l1 = _p[11];\n    var m1 = _p[12];\n    var n1 = _p[13];\n    var o1 = _p[14];\n    var p1 = _p[15];\n\n    /* matrix order (canvas compatible):\n         * ace\n         * bdf\n         * 001\n         */\n    _p[0] = a1 * a2 + b1 * e2 + c1 * i2 + d1 * m2;\n    _p[1] = a1 * b2 + b1 * f2 + c1 * j2 + d1 * n2;\n    _p[2] = a1 * c2 + b1 * g2 + c1 * k2 + d1 * o2;\n    _p[3] = a1 * d2 + b1 * h2 + c1 * l2 + d1 * p2;\n\n    _p[4] = e1 * a2 + f1 * e2 + g1 * i2 + h1 * m2;\n    _p[5] = e1 * b2 + f1 * f2 + g1 * j2 + h1 * n2;\n    _p[6] = e1 * c2 + f1 * g2 + g1 * k2 + h1 * o2;\n    _p[7] = e1 * d2 + f1 * h2 + g1 * l2 + h1 * p2;\n\n    _p[8] = i1 * a2 + j1 * e2 + k1 * i2 + l1 * m2;\n    _p[9] = i1 * b2 + j1 * f2 + k1 * j2 + l1 * n2;\n    _p[10] = i1 * c2 + j1 * g2 + k1 * k2 + l1 * o2;\n    _p[11] = i1 * d2 + j1 * h2 + k1 * l2 + l1 * p2;\n\n    _p[12] = m1 * a2 + n1 * e2 + o1 * i2 + p1 * m2;\n    _p[13] = m1 * b2 + n1 * f2 + o1 * j2 + p1 * n2;\n    _p[14] = m1 * c2 + n1 * g2 + o1 * k2 + p1 * o2;\n    _p[15] = m1 * d2 + n1 * h2 + o1 * l2 + p1 * p2;\n\n    this._identityCalculated = false;\n    return this;\n  }\n\n  function isIdentity() {\n    if (!this._identityCalculated) {\n      this._identity = !(this.props[0] !== 1 || this.props[1] !== 0 || this.props[2] !== 0 || this.props[3] !== 0 || this.props[4] !== 0 || this.props[5] !== 1 || this.props[6] !== 0 || this.props[7] !== 0 || this.props[8] !== 0 || this.props[9] !== 0 || this.props[10] !== 1 || this.props[11] !== 0 || this.props[12] !== 0 || this.props[13] !== 0 || this.props[14] !== 0 || this.props[15] !== 1);\n      this._identityCalculated = true;\n    }\n    return this._identity;\n  }\n\n  function equals(matr) {\n    var i = 0;\n    while (i < 16) {\n      if (matr.props[i] !== this.props[i]) {\n        return false;\n      }\n      i += 1;\n    }\n    return true;\n  }\n\n  function clone(matr) {\n    var i;\n    for (i = 0; i < 16; i += 1) {\n      matr.props[i] = this.props[i];\n    }\n    return matr;\n  }\n\n  function cloneFromProps(props) {\n    var i;\n    for (i = 0; i < 16; i += 1) {\n      this.props[i] = props[i];\n    }\n  }\n\n  function applyToPoint(x, y, z) {\n    return {\n      x: x * this.props[0] + y * this.props[4] + z * this.props[8] + this.props[12],\n      y: x * this.props[1] + y * this.props[5] + z * this.props[9] + this.props[13],\n      z: x * this.props[2] + y * this.props[6] + z * this.props[10] + this.props[14],\n    };\n    /* return {\n         x: x * me.a + y * me.c + me.e,\n         y: x * me.b + y * me.d + me.f\n         }; */\n  }\n  function applyToX(x, y, z) {\n    return x * this.props[0] + y * this.props[4] + z * this.props[8] + this.props[12];\n  }\n  function applyToY(x, y, z) {\n    return x * this.props[1] + y * this.props[5] + z * this.props[9] + this.props[13];\n  }\n  function applyToZ(x, y, z) {\n    return x * this.props[2] + y * this.props[6] + z * this.props[10] + this.props[14];\n  }\n\n  function getInverseMatrix() {\n    var determinant = this.props[0] * this.props[5] - this.props[1] * this.props[4];\n    var a = this.props[5] / determinant;\n    var b = -this.props[1] / determinant;\n    var c = -this.props[4] / determinant;\n    var d = this.props[0] / determinant;\n    var e = (this.props[4] * this.props[13] - this.props[5] * this.props[12]) / determinant;\n    var f = -(this.props[0] * this.props[13] - this.props[1] * this.props[12]) / determinant;\n    var inverseMatrix = new Matrix();\n    inverseMatrix.props[0] = a;\n    inverseMatrix.props[1] = b;\n    inverseMatrix.props[4] = c;\n    inverseMatrix.props[5] = d;\n    inverseMatrix.props[12] = e;\n    inverseMatrix.props[13] = f;\n    return inverseMatrix;\n  }\n\n  function inversePoint(pt) {\n    var inverseMatrix = this.getInverseMatrix();\n    return inverseMatrix.applyToPointArray(pt[0], pt[1], pt[2] || 0);\n  }\n\n  function inversePoints(pts) {\n    var i;\n    var len = pts.length;\n    var retPts = [];\n    for (i = 0; i < len; i += 1) {\n      retPts[i] = inversePoint(pts[i]);\n    }\n    return retPts;\n  }\n\n  function applyToTriplePoints(pt1, pt2, pt3) {\n    var arr = createTypedArray('float32', 6);\n    if (this.isIdentity()) {\n      arr[0] = pt1[0];\n      arr[1] = pt1[1];\n      arr[2] = pt2[0];\n      arr[3] = pt2[1];\n      arr[4] = pt3[0];\n      arr[5] = pt3[1];\n    } else {\n      var p0 = this.props[0];\n      var p1 = this.props[1];\n      var p4 = this.props[4];\n      var p5 = this.props[5];\n      var p12 = this.props[12];\n      var p13 = this.props[13];\n      arr[0] = pt1[0] * p0 + pt1[1] * p4 + p12;\n      arr[1] = pt1[0] * p1 + pt1[1] * p5 + p13;\n      arr[2] = pt2[0] * p0 + pt2[1] * p4 + p12;\n      arr[3] = pt2[0] * p1 + pt2[1] * p5 + p13;\n      arr[4] = pt3[0] * p0 + pt3[1] * p4 + p12;\n      arr[5] = pt3[0] * p1 + pt3[1] * p5 + p13;\n    }\n    return arr;\n  }\n\n  function applyToPointArray(x, y, z) {\n    var arr;\n    if (this.isIdentity()) {\n      arr = [x, y, z];\n    } else {\n      arr = [\n        x * this.props[0] + y * this.props[4] + z * this.props[8] + this.props[12],\n        x * this.props[1] + y * this.props[5] + z * this.props[9] + this.props[13],\n        x * this.props[2] + y * this.props[6] + z * this.props[10] + this.props[14],\n      ];\n    }\n    return arr;\n  }\n\n  function applyToPointStringified(x, y) {\n    if (this.isIdentity()) {\n      return x + ',' + y;\n    }\n    var _p = this.props;\n    return Math.round((x * _p[0] + y * _p[4] + _p[12]) * 100) / 100 + ',' + Math.round((x * _p[1] + y * _p[5] + _p[13]) * 100) / 100;\n  }\n\n  function toCSS() {\n    // Doesn't make much sense to add this optimization. If it is an identity matrix, it's very likely this will get called only once since it won't be keyframed.\n    /* if(this.isIdentity()) {\n            return '';\n        } */\n    var i = 0;\n    var props = this.props;\n    var cssValue = 'matrix3d(';\n    var v = 10000;\n    while (i < 16) {\n      cssValue += _rnd(props[i] * v) / v;\n      cssValue += i === 15 ? ')' : ',';\n      i += 1;\n    }\n    return cssValue;\n  }\n\n  function roundMatrixProperty(val) {\n    var v = 10000;\n    if ((val < 0.000001 && val > 0) || (val > -0.000001 && val < 0)) {\n      return _rnd(val * v) / v;\n    }\n    return val;\n  }\n\n  function to2dCSS() {\n    // Doesn't make much sense to add this optimization. If it is an identity matrix, it's very likely this will get called only once since it won't be keyframed.\n    /* if(this.isIdentity()) {\n            return '';\n        } */\n    var props = this.props;\n    var _a = roundMatrixProperty(props[0]);\n    var _b = roundMatrixProperty(props[1]);\n    var _c = roundMatrixProperty(props[4]);\n    var _d = roundMatrixProperty(props[5]);\n    var _e = roundMatrixProperty(props[12]);\n    var _f = roundMatrixProperty(props[13]);\n    return 'matrix(' + _a + ',' + _b + ',' + _c + ',' + _d + ',' + _e + ',' + _f + ')';\n  }\n\n  return function () {\n    this.reset = reset;\n    this.rotate = rotate;\n    this.rotateX = rotateX;\n    this.rotateY = rotateY;\n    this.rotateZ = rotateZ;\n    this.skew = skew;\n    this.skewFromAxis = skewFromAxis;\n    this.shear = shear;\n    this.scale = scale;\n    this.setTransform = setTransform;\n    this.translate = translate;\n    this.transform = transform;\n    this.applyToPoint = applyToPoint;\n    this.applyToX = applyToX;\n    this.applyToY = applyToY;\n    this.applyToZ = applyToZ;\n    this.applyToPointArray = applyToPointArray;\n    this.applyToTriplePoints = applyToTriplePoints;\n    this.applyToPointStringified = applyToPointStringified;\n    this.toCSS = toCSS;\n    this.to2dCSS = to2dCSS;\n    this.clone = clone;\n    this.cloneFromProps = cloneFromProps;\n    this.equals = equals;\n    this.inversePoints = inversePoints;\n    this.inversePoint = inversePoint;\n    this.getInverseMatrix = getInverseMatrix;\n    this._t = this.transform;\n    this.isIdentity = isIdentity;\n    this._identity = true;\n    this._identityCalculated = false;\n\n    this.props = createTypedArray('float32', 16);\n    this.reset();\n  };\n}());\n\nvar standalone = '__[STANDALONE]__';\nvar animationData = '__[ANIMATIONDATA]__';\nvar renderer = '';\n\nfunction setLocation(href) {\n  setLocationHref(href);\n}\n\nfunction searchAnimations() {\n  if (standalone === true) {\n    animationManager.searchAnimations(animationData, standalone, renderer);\n  } else {\n    animationManager.searchAnimations();\n  }\n}\n\nfunction setSubframeRendering(flag) {\n  setSubframeEnabled(flag);\n}\n\nfunction setPrefix(prefix) {\n  setIdPrefix(prefix);\n}\n\nfunction loadAnimation(params) {\n  if (standalone === true) {\n    params.animationData = JSON.parse(animationData);\n  }\n  return animationManager.loadAnimation(params);\n}\n\nfunction setQuality(value) {\n  if (typeof value === 'string') {\n    switch (value) {\n      case 'high':\n        setDefaultCurveSegments(200);\n        break;\n      default:\n      case 'medium':\n        setDefaultCurveSegments(50);\n        break;\n      case 'low':\n        setDefaultCurveSegments(10);\n        break;\n    }\n  } else if (!isNaN(value) && value > 1) {\n    setDefaultCurveSegments(value);\n  }\n  if (getDefaultCurveSegments() >= 50) {\n    roundValues(false);\n  } else {\n    roundValues(true);\n  }\n}\n\nfunction inBrowser() {\n  return typeof navigator !== 'undefined';\n}\n\nfunction installPlugin(type, plugin) {\n  if (type === 'expressions') {\n    setExpressionsPlugin(plugin);\n  }\n}\n\nfunction getFactory(name) {\n  switch (name) {\n    case 'propertyFactory':\n      return PropertyFactory;\n    case 'shapePropertyFactory':\n      return ShapePropertyFactory;\n    case 'matrix':\n      return Matrix;\n    default:\n      return null;\n  }\n}\n\nlottie.play = animationManager.play;\nlottie.pause = animationManager.pause;\nlottie.setLocationHref = setLocation;\nlottie.togglePause = animationManager.togglePause;\nlottie.setSpeed = animationManager.setSpeed;\nlottie.setDirection = animationManager.setDirection;\nlottie.stop = animationManager.stop;\nlottie.searchAnimations = searchAnimations;\nlottie.registerAnimation = animationManager.registerAnimation;\nlottie.loadAnimation = loadAnimation;\nlottie.setSubframeRendering = setSubframeRendering;\nlottie.resize = animationManager.resize;\n// lottie.start = start;\nlottie.goToAndStop = animationManager.goToAndStop;\nlottie.destroy = animationManager.destroy;\nlottie.setQuality = setQuality;\nlottie.inBrowser = inBrowser;\nlottie.installPlugin = installPlugin;\nlottie.freeze = animationManager.freeze;\nlottie.unfreeze = animationManager.unfreeze;\nlottie.setVolume = animationManager.setVolume;\nlottie.mute = animationManager.mute;\nlottie.unmute = animationManager.unmute;\nlottie.getRegisteredAnimations = animationManager.getRegisteredAnimations;\nlottie.useWebWorker = setWebWorker;\nlottie.setIDPrefix = setPrefix;\nlottie.__getFactory = getFactory;\nlottie.version = '[[BM_VERSION]]';\n\nfunction checkReady() {\n  if (document.readyState === 'complete') {\n    clearInterval(readyStateCheckInterval);\n    searchAnimations();\n  }\n}\n\nfunction getQueryVariable(variable) {\n  var vars = queryString.split('&');\n  for (var i = 0; i < vars.length; i += 1) {\n    var pair = vars[i].split('=');\n    if (decodeURIComponent(pair[0]) == variable) { // eslint-disable-line eqeqeq\n      return decodeURIComponent(pair[1]);\n    }\n  }\n  return null;\n}\nvar queryString = '';\nif (standalone) {\n  var scripts = document.getElementsByTagName('script');\n  var index = scripts.length - 1;\n  var myScript = scripts[index] || {\n    src: '',\n  };\n  queryString = myScript.src ? myScript.src.replace(/^[^\\?]+\\??/, '') : ''; // eslint-disable-line no-useless-escape\n  renderer = getQueryVariable('renderer');\n}\nvar readyStateCheckInterval = setInterval(checkReady, 100);\n\n// this adds bodymovin to the window object for backwards compatibility\ntry {\n  if (!(typeof exports === 'object' && typeof module !== 'undefined')\n    && !(typeof define === 'function' && define.amd) // eslint-disable-line no-undef\n  ) {\n    window.bodymovin = lottie;\n  }\n} catch (err) {\n  //\n}\n\nconst ShapeModifiers = (function () {\n  var ob = {};\n  var modifiers = {};\n  ob.registerModifier = registerModifier;\n  ob.getModifier = getModifier;\n\n  function registerModifier(nm, factory) {\n    if (!modifiers[nm]) {\n      modifiers[nm] = factory;\n    }\n  }\n\n  function getModifier(nm, elem, data) {\n    return new modifiers[nm](elem, data);\n  }\n\n  return ob;\n}());\n\nfunction ShapeModifier() {}\nShapeModifier.prototype.initModifierProperties = function () {};\nShapeModifier.prototype.addShapeToModifier = function () {};\nShapeModifier.prototype.addShape = function (data) {\n  if (!this.closed) {\n    // Adding shape to dynamic properties. It covers the case where a shape has no effects applied, to reset it's _mdf state on every tick.\n    data.sh.container.addDynamicProperty(data.sh);\n    var shapeData = { shape: data.sh, data: data, localShapeCollection: shapeCollectionPool.newShapeCollection() };\n    this.shapes.push(shapeData);\n    this.addShapeToModifier(shapeData);\n    if (this._isAnimated) {\n      data.setAsAnimated();\n    }\n  }\n};\nShapeModifier.prototype.init = function (elem, data) {\n  this.shapes = [];\n  this.elem = elem;\n  this.initDynamicPropertyContainer(elem);\n  this.initModifierProperties(elem, data);\n  this.frameId = initialDefaultFrame;\n  this.closed = false;\n  this.k = false;\n  if (this.dynamicProperties.length) {\n    this.k = true;\n  } else {\n    this.getValue(true);\n  }\n};\nShapeModifier.prototype.processKeys = function () {\n  if (this.elem.globalData.frameId === this.frameId) {\n    return;\n  }\n  this.frameId = this.elem.globalData.frameId;\n  this.iterateDynamicProperties();\n};\n\nextendPrototype([DynamicPropertyContainer], ShapeModifier);\n\nfunction TrimModifier() {\n}\nextendPrototype([ShapeModifier], TrimModifier);\nTrimModifier.prototype.initModifierProperties = function (elem, data) {\n  this.s = PropertyFactory.getProp(elem, data.s, 0, 0.01, this);\n  this.e = PropertyFactory.getProp(elem, data.e, 0, 0.01, this);\n  this.o = PropertyFactory.getProp(elem, data.o, 0, 0, this);\n  this.sValue = 0;\n  this.eValue = 0;\n  this.getValue = this.processKeys;\n  this.m = data.m;\n  this._isAnimated = !!this.s.effectsSequence.length || !!this.e.effectsSequence.length || !!this.o.effectsSequence.length;\n};\n\nTrimModifier.prototype.addShapeToModifier = function (shapeData) {\n  shapeData.pathsData = [];\n};\n\nTrimModifier.prototype.calculateShapeEdges = function (s, e, shapeLength, addedLength, totalModifierLength) {\n  var segments = [];\n  if (e <= 1) {\n    segments.push({\n      s: s,\n      e: e,\n    });\n  } else if (s >= 1) {\n    segments.push({\n      s: s - 1,\n      e: e - 1,\n    });\n  } else {\n    segments.push({\n      s: s,\n      e: 1,\n    });\n    segments.push({\n      s: 0,\n      e: e - 1,\n    });\n  }\n  var shapeSegments = [];\n  var i;\n  var len = segments.length;\n  var segmentOb;\n  for (i = 0; i < len; i += 1) {\n    segmentOb = segments[i];\n    if (!(segmentOb.e * totalModifierLength < addedLength || segmentOb.s * totalModifierLength > addedLength + shapeLength)) {\n      var shapeS;\n      var shapeE;\n      if (segmentOb.s * totalModifierLength <= addedLength) {\n        shapeS = 0;\n      } else {\n        shapeS = (segmentOb.s * totalModifierLength - addedLength) / shapeLength;\n      }\n      if (segmentOb.e * totalModifierLength >= addedLength + shapeLength) {\n        shapeE = 1;\n      } else {\n        shapeE = ((segmentOb.e * totalModifierLength - addedLength) / shapeLength);\n      }\n      shapeSegments.push([shapeS, shapeE]);\n    }\n  }\n  if (!shapeSegments.length) {\n    shapeSegments.push([0, 0]);\n  }\n  return shapeSegments;\n};\n\nTrimModifier.prototype.releasePathsData = function (pathsData) {\n  var i;\n  var len = pathsData.length;\n  for (i = 0; i < len; i += 1) {\n    segmentsLengthPool.release(pathsData[i]);\n  }\n  pathsData.length = 0;\n  return pathsData;\n};\n\nTrimModifier.prototype.processShapes = function (_isFirstFrame) {\n  var s;\n  var e;\n  if (this._mdf || _isFirstFrame) {\n    var o = (this.o.v % 360) / 360;\n    if (o < 0) {\n      o += 1;\n    }\n    if (this.s.v > 1) {\n      s = 1 + o;\n    } else if (this.s.v < 0) {\n      s = 0 + o;\n    } else {\n      s = this.s.v + o;\n    }\n    if (this.e.v > 1) {\n      e = 1 + o;\n    } else if (this.e.v < 0) {\n      e = 0 + o;\n    } else {\n      e = this.e.v + o;\n    }\n\n    if (s > e) {\n      var _s = s;\n      s = e;\n      e = _s;\n    }\n    s = Math.round(s * 10000) * 0.0001;\n    e = Math.round(e * 10000) * 0.0001;\n    this.sValue = s;\n    this.eValue = e;\n  } else {\n    s = this.sValue;\n    e = this.eValue;\n  }\n  var shapePaths;\n  var i;\n  var len = this.shapes.length;\n  var j;\n  var jLen;\n  var pathsData;\n  var pathData;\n  var totalShapeLength;\n  var totalModifierLength = 0;\n\n  if (e === s) {\n    for (i = 0; i < len; i += 1) {\n      this.shapes[i].localShapeCollection.releaseShapes();\n      this.shapes[i].shape._mdf = true;\n      this.shapes[i].shape.paths = this.shapes[i].localShapeCollection;\n      if (this._mdf) {\n        this.shapes[i].pathsData.length = 0;\n      }\n    }\n  } else if (!((e === 1 && s === 0) || (e === 0 && s === 1))) {\n    var segments = [];\n    var shapeData;\n    var localShapeCollection;\n    for (i = 0; i < len; i += 1) {\n      shapeData = this.shapes[i];\n      // if shape hasn't changed and trim properties haven't changed, cached previous path can be used\n      if (!shapeData.shape._mdf && !this._mdf && !_isFirstFrame && this.m !== 2) {\n        shapeData.shape.paths = shapeData.localShapeCollection;\n      } else {\n        shapePaths = shapeData.shape.paths;\n        jLen = shapePaths._length;\n        totalShapeLength = 0;\n        if (!shapeData.shape._mdf && shapeData.pathsData.length) {\n          totalShapeLength = shapeData.totalShapeLength;\n        } else {\n          pathsData = this.releasePathsData(shapeData.pathsData);\n          for (j = 0; j < jLen; j += 1) {\n            pathData = bez.getSegmentsLength(shapePaths.shapes[j]);\n            pathsData.push(pathData);\n            totalShapeLength += pathData.totalLength;\n          }\n          shapeData.totalShapeLength = totalShapeLength;\n          shapeData.pathsData = pathsData;\n        }\n\n        totalModifierLength += totalShapeLength;\n        shapeData.shape._mdf = true;\n      }\n    }\n    var shapeS = s;\n    var shapeE = e;\n    var addedLength = 0;\n    var edges;\n    for (i = len - 1; i >= 0; i -= 1) {\n      shapeData = this.shapes[i];\n      if (shapeData.shape._mdf) {\n        localShapeCollection = shapeData.localShapeCollection;\n        localShapeCollection.releaseShapes();\n        // if m === 2 means paths are trimmed individually so edges need to be found for this specific shape relative to whoel group\n        if (this.m === 2 && len > 1) {\n          edges = this.calculateShapeEdges(s, e, shapeData.totalShapeLength, addedLength, totalModifierLength);\n          addedLength += shapeData.totalShapeLength;\n        } else {\n          edges = [[shapeS, shapeE]];\n        }\n        jLen = edges.length;\n        for (j = 0; j < jLen; j += 1) {\n          shapeS = edges[j][0];\n          shapeE = edges[j][1];\n          segments.length = 0;\n          if (shapeE <= 1) {\n            segments.push({\n              s: shapeData.totalShapeLength * shapeS,\n              e: shapeData.totalShapeLength * shapeE,\n            });\n          } else if (shapeS >= 1) {\n            segments.push({\n              s: shapeData.totalShapeLength * (shapeS - 1),\n              e: shapeData.totalShapeLength * (shapeE - 1),\n            });\n          } else {\n            segments.push({\n              s: shapeData.totalShapeLength * shapeS,\n              e: shapeData.totalShapeLength,\n            });\n            segments.push({\n              s: 0,\n              e: shapeData.totalShapeLength * (shapeE - 1),\n            });\n          }\n          var newShapesData = this.addShapes(shapeData, segments[0]);\n          if (segments[0].s !== segments[0].e) {\n            if (segments.length > 1) {\n              var lastShapeInCollection = shapeData.shape.paths.shapes[shapeData.shape.paths._length - 1];\n              if (lastShapeInCollection.c) {\n                var lastShape = newShapesData.pop();\n                this.addPaths(newShapesData, localShapeCollection);\n                newShapesData = this.addShapes(shapeData, segments[1], lastShape);\n              } else {\n                this.addPaths(newShapesData, localShapeCollection);\n                newShapesData = this.addShapes(shapeData, segments[1]);\n              }\n            }\n            this.addPaths(newShapesData, localShapeCollection);\n          }\n        }\n        shapeData.shape.paths = localShapeCollection;\n      }\n    }\n  } else if (this._mdf) {\n    for (i = 0; i < len; i += 1) {\n      // Releasign Trim Cached paths data when no trim applied in case shapes are modified inbetween.\n      // Don't remove this even if it's losing cached info.\n      this.shapes[i].pathsData.length = 0;\n      this.shapes[i].shape._mdf = true;\n    }\n  }\n};\n\nTrimModifier.prototype.addPaths = function (newPaths, localShapeCollection) {\n  var i;\n  var len = newPaths.length;\n  for (i = 0; i < len; i += 1) {\n    localShapeCollection.addShape(newPaths[i]);\n  }\n};\n\nTrimModifier.prototype.addSegment = function (pt1, pt2, pt3, pt4, shapePath, pos, newShape) {\n  shapePath.setXYAt(pt2[0], pt2[1], 'o', pos);\n  shapePath.setXYAt(pt3[0], pt3[1], 'i', pos + 1);\n  if (newShape) {\n    shapePath.setXYAt(pt1[0], pt1[1], 'v', pos);\n  }\n  shapePath.setXYAt(pt4[0], pt4[1], 'v', pos + 1);\n};\n\nTrimModifier.prototype.addSegmentFromArray = function (points, shapePath, pos, newShape) {\n  shapePath.setXYAt(points[1], points[5], 'o', pos);\n  shapePath.setXYAt(points[2], points[6], 'i', pos + 1);\n  if (newShape) {\n    shapePath.setXYAt(points[0], points[4], 'v', pos);\n  }\n  shapePath.setXYAt(points[3], points[7], 'v', pos + 1);\n};\n\nTrimModifier.prototype.addShapes = function (shapeData, shapeSegment, shapePath) {\n  var pathsData = shapeData.pathsData;\n  var shapePaths = shapeData.shape.paths.shapes;\n  var i;\n  var len = shapeData.shape.paths._length;\n  var j;\n  var jLen;\n  var addedLength = 0;\n  var currentLengthData;\n  var segmentCount;\n  var lengths;\n  var segment;\n  var shapes = [];\n  var initPos;\n  var newShape = true;\n  if (!shapePath) {\n    shapePath = shapePool.newElement();\n    segmentCount = 0;\n    initPos = 0;\n  } else {\n    segmentCount = shapePath._length;\n    initPos = shapePath._length;\n  }\n  shapes.push(shapePath);\n  for (i = 0; i < len; i += 1) {\n    lengths = pathsData[i].lengths;\n    shapePath.c = shapePaths[i].c;\n    jLen = shapePaths[i].c ? lengths.length : lengths.length + 1;\n    for (j = 1; j < jLen; j += 1) {\n      currentLengthData = lengths[j - 1];\n      if (addedLength + currentLengthData.addedLength < shapeSegment.s) {\n        addedLength += currentLengthData.addedLength;\n        shapePath.c = false;\n      } else if (addedLength > shapeSegment.e) {\n        shapePath.c = false;\n        break;\n      } else {\n        if (shapeSegment.s <= addedLength && shapeSegment.e >= addedLength + currentLengthData.addedLength) {\n          this.addSegment(shapePaths[i].v[j - 1], shapePaths[i].o[j - 1], shapePaths[i].i[j], shapePaths[i].v[j], shapePath, segmentCount, newShape);\n          newShape = false;\n        } else {\n          segment = bez.getNewSegment(shapePaths[i].v[j - 1], shapePaths[i].v[j], shapePaths[i].o[j - 1], shapePaths[i].i[j], (shapeSegment.s - addedLength) / currentLengthData.addedLength, (shapeSegment.e - addedLength) / currentLengthData.addedLength, lengths[j - 1]);\n          this.addSegmentFromArray(segment, shapePath, segmentCount, newShape);\n          // this.addSegment(segment.pt1, segment.pt3, segment.pt4, segment.pt2, shapePath, segmentCount, newShape);\n          newShape = false;\n          shapePath.c = false;\n        }\n        addedLength += currentLengthData.addedLength;\n        segmentCount += 1;\n      }\n    }\n    if (shapePaths[i].c && lengths.length) {\n      currentLengthData = lengths[j - 1];\n      if (addedLength <= shapeSegment.e) {\n        var segmentLength = lengths[j - 1].addedLength;\n        if (shapeSegment.s <= addedLength && shapeSegment.e >= addedLength + segmentLength) {\n          this.addSegment(shapePaths[i].v[j - 1], shapePaths[i].o[j - 1], shapePaths[i].i[0], shapePaths[i].v[0], shapePath, segmentCount, newShape);\n          newShape = false;\n        } else {\n          segment = bez.getNewSegment(shapePaths[i].v[j - 1], shapePaths[i].v[0], shapePaths[i].o[j - 1], shapePaths[i].i[0], (shapeSegment.s - addedLength) / segmentLength, (shapeSegment.e - addedLength) / segmentLength, lengths[j - 1]);\n          this.addSegmentFromArray(segment, shapePath, segmentCount, newShape);\n          // this.addSegment(segment.pt1, segment.pt3, segment.pt4, segment.pt2, shapePath, segmentCount, newShape);\n          newShape = false;\n          shapePath.c = false;\n        }\n      } else {\n        shapePath.c = false;\n      }\n      addedLength += currentLengthData.addedLength;\n      segmentCount += 1;\n    }\n    if (shapePath._length) {\n      shapePath.setXYAt(shapePath.v[initPos][0], shapePath.v[initPos][1], 'i', initPos);\n      shapePath.setXYAt(shapePath.v[shapePath._length - 1][0], shapePath.v[shapePath._length - 1][1], 'o', shapePath._length - 1);\n    }\n    if (addedLength > shapeSegment.e) {\n      break;\n    }\n    if (i < len - 1) {\n      shapePath = shapePool.newElement();\n      newShape = true;\n      shapes.push(shapePath);\n      segmentCount = 0;\n    }\n  }\n  return shapes;\n};\n\nfunction PuckerAndBloatModifier() {}\nextendPrototype([ShapeModifier], PuckerAndBloatModifier);\nPuckerAndBloatModifier.prototype.initModifierProperties = function (elem, data) {\n  this.getValue = this.processKeys;\n  this.amount = PropertyFactory.getProp(elem, data.a, 0, null, this);\n  this._isAnimated = !!this.amount.effectsSequence.length;\n};\n\nPuckerAndBloatModifier.prototype.processPath = function (path, amount) {\n  var percent = amount / 100;\n  var centerPoint = [0, 0];\n  var pathLength = path._length;\n  var i = 0;\n  for (i = 0; i < pathLength; i += 1) {\n    centerPoint[0] += path.v[i][0];\n    centerPoint[1] += path.v[i][1];\n  }\n  centerPoint[0] /= pathLength;\n  centerPoint[1] /= pathLength;\n  var clonedPath = shapePool.newElement();\n  clonedPath.c = path.c;\n  var vX;\n  var vY;\n  var oX;\n  var oY;\n  var iX;\n  var iY;\n  for (i = 0; i < pathLength; i += 1) {\n    vX = path.v[i][0] + (centerPoint[0] - path.v[i][0]) * percent;\n    vY = path.v[i][1] + (centerPoint[1] - path.v[i][1]) * percent;\n    oX = path.o[i][0] + (centerPoint[0] - path.o[i][0]) * -percent;\n    oY = path.o[i][1] + (centerPoint[1] - path.o[i][1]) * -percent;\n    iX = path.i[i][0] + (centerPoint[0] - path.i[i][0]) * -percent;\n    iY = path.i[i][1] + (centerPoint[1] - path.i[i][1]) * -percent;\n    clonedPath.setTripleAt(vX, vY, oX, oY, iX, iY, i);\n  }\n  return clonedPath;\n};\n\nPuckerAndBloatModifier.prototype.processShapes = function (_isFirstFrame) {\n  var shapePaths;\n  var i;\n  var len = this.shapes.length;\n  var j;\n  var jLen;\n  var amount = this.amount.v;\n\n  if (amount !== 0) {\n    var shapeData;\n    var localShapeCollection;\n    for (i = 0; i < len; i += 1) {\n      shapeData = this.shapes[i];\n      localShapeCollection = shapeData.localShapeCollection;\n      if (!(!shapeData.shape._mdf && !this._mdf && !_isFirstFrame)) {\n        localShapeCollection.releaseShapes();\n        shapeData.shape._mdf = true;\n        shapePaths = shapeData.shape.paths.shapes;\n        jLen = shapeData.shape.paths._length;\n        for (j = 0; j < jLen; j += 1) {\n          localShapeCollection.addShape(this.processPath(shapePaths[j], amount));\n        }\n      }\n      shapeData.shape.paths = shapeData.localShapeCollection;\n    }\n  }\n  if (!this.dynamicProperties.length) {\n    this._mdf = false;\n  }\n};\n\nconst TransformPropertyFactory = (function () {\n  var defaultVector = [0, 0];\n\n  function applyToMatrix(mat) {\n    var _mdf = this._mdf;\n    this.iterateDynamicProperties();\n    this._mdf = this._mdf || _mdf;\n    if (this.a) {\n      mat.translate(-this.a.v[0], -this.a.v[1], this.a.v[2]);\n    }\n    if (this.s) {\n      mat.scale(this.s.v[0], this.s.v[1], this.s.v[2]);\n    }\n    if (this.sk) {\n      mat.skewFromAxis(-this.sk.v, this.sa.v);\n    }\n    if (this.r) {\n      mat.rotate(-this.r.v);\n    } else {\n      mat.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2])\n        .rotateY(this.or.v[1])\n        .rotateX(this.or.v[0]);\n    }\n    if (this.data.p.s) {\n      if (this.data.p.z) {\n        mat.translate(this.px.v, this.py.v, -this.pz.v);\n      } else {\n        mat.translate(this.px.v, this.py.v, 0);\n      }\n    } else {\n      mat.translate(this.p.v[0], this.p.v[1], -this.p.v[2]);\n    }\n  }\n  function processKeys(forceRender) {\n    if (this.elem.globalData.frameId === this.frameId) {\n      return;\n    }\n    if (this._isDirty) {\n      this.precalculateMatrix();\n      this._isDirty = false;\n    }\n\n    this.iterateDynamicProperties();\n\n    if (this._mdf || forceRender) {\n      var frameRate;\n      this.v.cloneFromProps(this.pre.props);\n      if (this.appliedTransformations < 1) {\n        this.v.translate(-this.a.v[0], -this.a.v[1], this.a.v[2]);\n      }\n      if (this.appliedTransformations < 2) {\n        this.v.scale(this.s.v[0], this.s.v[1], this.s.v[2]);\n      }\n      if (this.sk && this.appliedTransformations < 3) {\n        this.v.skewFromAxis(-this.sk.v, this.sa.v);\n      }\n      if (this.r && this.appliedTransformations < 4) {\n        this.v.rotate(-this.r.v);\n      } else if (!this.r && this.appliedTransformations < 4) {\n        this.v.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2])\n          .rotateY(this.or.v[1])\n          .rotateX(this.or.v[0]);\n      }\n      if (this.autoOriented) {\n        var v1;\n        var v2;\n        frameRate = this.elem.globalData.frameRate;\n        if (this.p && this.p.keyframes && this.p.getValueAtTime) {\n          if (this.p._caching.lastFrame + this.p.offsetTime <= this.p.keyframes[0].t) {\n            v1 = this.p.getValueAtTime((this.p.keyframes[0].t + 0.01) / frameRate, 0);\n            v2 = this.p.getValueAtTime(this.p.keyframes[0].t / frameRate, 0);\n          } else if (this.p._caching.lastFrame + this.p.offsetTime >= this.p.keyframes[this.p.keyframes.length - 1].t) {\n            v1 = this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length - 1].t / frameRate), 0);\n            v2 = this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length - 1].t - 0.05) / frameRate, 0);\n          } else {\n            v1 = this.p.pv;\n            v2 = this.p.getValueAtTime((this.p._caching.lastFrame + this.p.offsetTime - 0.01) / frameRate, this.p.offsetTime);\n          }\n        } else if (this.px && this.px.keyframes && this.py.keyframes && this.px.getValueAtTime && this.py.getValueAtTime) {\n          v1 = [];\n          v2 = [];\n          var px = this.px;\n          var py = this.py;\n          if (px._caching.lastFrame + px.offsetTime <= px.keyframes[0].t) {\n            v1[0] = px.getValueAtTime((px.keyframes[0].t + 0.01) / frameRate, 0);\n            v1[1] = py.getValueAtTime((py.keyframes[0].t + 0.01) / frameRate, 0);\n            v2[0] = px.getValueAtTime((px.keyframes[0].t) / frameRate, 0);\n            v2[1] = py.getValueAtTime((py.keyframes[0].t) / frameRate, 0);\n          } else if (px._caching.lastFrame + px.offsetTime >= px.keyframes[px.keyframes.length - 1].t) {\n            v1[0] = px.getValueAtTime((px.keyframes[px.keyframes.length - 1].t / frameRate), 0);\n            v1[1] = py.getValueAtTime((py.keyframes[py.keyframes.length - 1].t / frameRate), 0);\n            v2[0] = px.getValueAtTime((px.keyframes[px.keyframes.length - 1].t - 0.01) / frameRate, 0);\n            v2[1] = py.getValueAtTime((py.keyframes[py.keyframes.length - 1].t - 0.01) / frameRate, 0);\n          } else {\n            v1 = [px.pv, py.pv];\n            v2[0] = px.getValueAtTime((px._caching.lastFrame + px.offsetTime - 0.01) / frameRate, px.offsetTime);\n            v2[1] = py.getValueAtTime((py._caching.lastFrame + py.offsetTime - 0.01) / frameRate, py.offsetTime);\n          }\n        } else {\n          v2 = defaultVector;\n          v1 = v2;\n        }\n        this.v.rotate(-Math.atan2(v1[1] - v2[1], v1[0] - v2[0]));\n      }\n      if (this.data.p && this.data.p.s) {\n        if (this.data.p.z) {\n          this.v.translate(this.px.v, this.py.v, -this.pz.v);\n        } else {\n          this.v.translate(this.px.v, this.py.v, 0);\n        }\n      } else {\n        this.v.translate(this.p.v[0], this.p.v[1], -this.p.v[2]);\n      }\n    }\n    this.frameId = this.elem.globalData.frameId;\n  }\n\n  function precalculateMatrix() {\n    if (!this.a.k) {\n      this.pre.translate(-this.a.v[0], -this.a.v[1], this.a.v[2]);\n      this.appliedTransformations = 1;\n    } else {\n      return;\n    }\n    if (!this.s.effectsSequence.length) {\n      this.pre.scale(this.s.v[0], this.s.v[1], this.s.v[2]);\n      this.appliedTransformations = 2;\n    } else {\n      return;\n    }\n    if (this.sk) {\n      if (!this.sk.effectsSequence.length && !this.sa.effectsSequence.length) {\n        this.pre.skewFromAxis(-this.sk.v, this.sa.v);\n        this.appliedTransformations = 3;\n      } else {\n        return;\n      }\n    }\n    if (this.r) {\n      if (!this.r.effectsSequence.length) {\n        this.pre.rotate(-this.r.v);\n        this.appliedTransformations = 4;\n      }\n    } else if (!this.rz.effectsSequence.length && !this.ry.effectsSequence.length && !this.rx.effectsSequence.length && !this.or.effectsSequence.length) {\n      this.pre.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2])\n        .rotateY(this.or.v[1])\n        .rotateX(this.or.v[0]);\n      this.appliedTransformations = 4;\n    }\n  }\n\n  function autoOrient() {\n    //\n    // var prevP = this.getValueAtTime();\n  }\n\n  function addDynamicProperty(prop) {\n    this._addDynamicProperty(prop);\n    this.elem.addDynamicProperty(prop);\n    this._isDirty = true;\n  }\n\n  function TransformProperty(elem, data, container) {\n    this.elem = elem;\n    this.frameId = -1;\n    this.propType = 'transform';\n    this.data = data;\n    this.v = new Matrix();\n    // Precalculated matrix with non animated properties\n    this.pre = new Matrix();\n    this.appliedTransformations = 0;\n    this.initDynamicPropertyContainer(container || elem);\n    if (data.p && data.p.s) {\n      this.px = PropertyFactory.getProp(elem, data.p.x, 0, 0, this);\n      this.py = PropertyFactory.getProp(elem, data.p.y, 0, 0, this);\n      if (data.p.z) {\n        this.pz = PropertyFactory.getProp(elem, data.p.z, 0, 0, this);\n      }\n    } else {\n      this.p = PropertyFactory.getProp(elem, data.p || { k: [0, 0, 0] }, 1, 0, this);\n    }\n    if (data.rx) {\n      this.rx = PropertyFactory.getProp(elem, data.rx, 0, degToRads, this);\n      this.ry = PropertyFactory.getProp(elem, data.ry, 0, degToRads, this);\n      this.rz = PropertyFactory.getProp(elem, data.rz, 0, degToRads, this);\n      if (data.or.k[0].ti) {\n        var i;\n        var len = data.or.k.length;\n        for (i = 0; i < len; i += 1) {\n          data.or.k[i].to = null;\n          data.or.k[i].ti = null;\n        }\n      }\n      this.or = PropertyFactory.getProp(elem, data.or, 1, degToRads, this);\n      // sh Indicates it needs to be capped between -180 and 180\n      this.or.sh = true;\n    } else {\n      this.r = PropertyFactory.getProp(elem, data.r || { k: 0 }, 0, degToRads, this);\n    }\n    if (data.sk) {\n      this.sk = PropertyFactory.getProp(elem, data.sk, 0, degToRads, this);\n      this.sa = PropertyFactory.getProp(elem, data.sa, 0, degToRads, this);\n    }\n    this.a = PropertyFactory.getProp(elem, data.a || { k: [0, 0, 0] }, 1, 0, this);\n    this.s = PropertyFactory.getProp(elem, data.s || { k: [100, 100, 100] }, 1, 0.01, this);\n    // Opacity is not part of the transform properties, that's why it won't use this.dynamicProperties. That way transforms won't get updated if opacity changes.\n    if (data.o) {\n      this.o = PropertyFactory.getProp(elem, data.o, 0, 0.01, elem);\n    } else {\n      this.o = { _mdf: false, v: 1 };\n    }\n    this._isDirty = true;\n    if (!this.dynamicProperties.length) {\n      this.getValue(true);\n    }\n  }\n\n  TransformProperty.prototype = {\n    applyToMatrix: applyToMatrix,\n    getValue: processKeys,\n    precalculateMatrix: precalculateMatrix,\n    autoOrient: autoOrient,\n  };\n\n  extendPrototype([DynamicPropertyContainer], TransformProperty);\n  TransformProperty.prototype.addDynamicProperty = addDynamicProperty;\n  TransformProperty.prototype._addDynamicProperty = DynamicPropertyContainer.prototype.addDynamicProperty;\n\n  function getTransformProperty(elem, data, container) {\n    return new TransformProperty(elem, data, container);\n  }\n\n  return {\n    getTransformProperty: getTransformProperty,\n  };\n}());\n\nfunction RepeaterModifier() {}\nextendPrototype([ShapeModifier], RepeaterModifier);\n\nRepeaterModifier.prototype.initModifierProperties = function (elem, data) {\n  this.getValue = this.processKeys;\n  this.c = PropertyFactory.getProp(elem, data.c, 0, null, this);\n  this.o = PropertyFactory.getProp(elem, data.o, 0, null, this);\n  this.tr = TransformPropertyFactory.getTransformProperty(elem, data.tr, this);\n  this.so = PropertyFactory.getProp(elem, data.tr.so, 0, 0.01, this);\n  this.eo = PropertyFactory.getProp(elem, data.tr.eo, 0, 0.01, this);\n  this.data = data;\n  if (!this.dynamicProperties.length) {\n    this.getValue(true);\n  }\n  this._isAnimated = !!this.dynamicProperties.length;\n  this.pMatrix = new Matrix();\n  this.rMatrix = new Matrix();\n  this.sMatrix = new Matrix();\n  this.tMatrix = new Matrix();\n  this.matrix = new Matrix();\n};\n\nRepeaterModifier.prototype.applyTransforms = function (pMatrix, rMatrix, sMatrix, transform, perc, inv) {\n  var dir = inv ? -1 : 1;\n  var scaleX = transform.s.v[0] + (1 - transform.s.v[0]) * (1 - perc);\n  var scaleY = transform.s.v[1] + (1 - transform.s.v[1]) * (1 - perc);\n  pMatrix.translate(transform.p.v[0] * dir * perc, transform.p.v[1] * dir * perc, transform.p.v[2]);\n  rMatrix.translate(-transform.a.v[0], -transform.a.v[1], transform.a.v[2]);\n  rMatrix.rotate(-transform.r.v * dir * perc);\n  rMatrix.translate(transform.a.v[0], transform.a.v[1], transform.a.v[2]);\n  sMatrix.translate(-transform.a.v[0], -transform.a.v[1], transform.a.v[2]);\n  sMatrix.scale(inv ? 1 / scaleX : scaleX, inv ? 1 / scaleY : scaleY);\n  sMatrix.translate(transform.a.v[0], transform.a.v[1], transform.a.v[2]);\n};\n\nRepeaterModifier.prototype.init = function (elem, arr, pos, elemsData) {\n  this.elem = elem;\n  this.arr = arr;\n  this.pos = pos;\n  this.elemsData = elemsData;\n  this._currentCopies = 0;\n  this._elements = [];\n  this._groups = [];\n  this.frameId = -1;\n  this.initDynamicPropertyContainer(elem);\n  this.initModifierProperties(elem, arr[pos]);\n  while (pos > 0) {\n    pos -= 1;\n    // this._elements.unshift(arr.splice(pos,1)[0]);\n    this._elements.unshift(arr[pos]);\n  }\n  if (this.dynamicProperties.length) {\n    this.k = true;\n  } else {\n    this.getValue(true);\n  }\n};\n\nRepeaterModifier.prototype.resetElements = function (elements) {\n  var i;\n  var len = elements.length;\n  for (i = 0; i < len; i += 1) {\n    elements[i]._processed = false;\n    if (elements[i].ty === 'gr') {\n      this.resetElements(elements[i].it);\n    }\n  }\n};\n\nRepeaterModifier.prototype.cloneElements = function (elements) {\n  var newElements = JSON.parse(JSON.stringify(elements));\n  this.resetElements(newElements);\n  return newElements;\n};\n\nRepeaterModifier.prototype.changeGroupRender = function (elements, renderFlag) {\n  var i;\n  var len = elements.length;\n  for (i = 0; i < len; i += 1) {\n    elements[i]._render = renderFlag;\n    if (elements[i].ty === 'gr') {\n      this.changeGroupRender(elements[i].it, renderFlag);\n    }\n  }\n};\n\nRepeaterModifier.prototype.processShapes = function (_isFirstFrame) {\n  var items;\n  var itemsTransform;\n  var i;\n  var dir;\n  var cont;\n  var hasReloaded = false;\n  if (this._mdf || _isFirstFrame) {\n    var copies = Math.ceil(this.c.v);\n    if (this._groups.length < copies) {\n      while (this._groups.length < copies) {\n        var group = {\n          it: this.cloneElements(this._elements),\n          ty: 'gr',\n        };\n        group.it.push({\n          a: { a: 0, ix: 1, k: [0, 0] }, nm: 'Transform', o: { a: 0, ix: 7, k: 100 }, p: { a: 0, ix: 2, k: [0, 0] }, r: { a: 1, ix: 6, k: [{ s: 0, e: 0, t: 0 }, { s: 0, e: 0, t: 1 }] }, s: { a: 0, ix: 3, k: [100, 100] }, sa: { a: 0, ix: 5, k: 0 }, sk: { a: 0, ix: 4, k: 0 }, ty: 'tr',\n        });\n\n        this.arr.splice(0, 0, group);\n        this._groups.splice(0, 0, group);\n        this._currentCopies += 1;\n      }\n      this.elem.reloadShapes();\n      hasReloaded = true;\n    }\n    cont = 0;\n    var renderFlag;\n    for (i = 0; i <= this._groups.length - 1; i += 1) {\n      renderFlag = cont < copies;\n      this._groups[i]._render = renderFlag;\n      this.changeGroupRender(this._groups[i].it, renderFlag);\n      if (!renderFlag) {\n        var elems = this.elemsData[i].it;\n        var transformData = elems[elems.length - 1];\n        if (transformData.transform.op.v !== 0) {\n          transformData.transform.op._mdf = true;\n          transformData.transform.op.v = 0;\n        } else {\n          transformData.transform.op._mdf = false;\n        }\n      }\n      cont += 1;\n    }\n\n    this._currentCopies = copies;\n    /// /\n\n    var offset = this.o.v;\n    var offsetModulo = offset % 1;\n    var roundOffset = offset > 0 ? Math.floor(offset) : Math.ceil(offset);\n    var pProps = this.pMatrix.props;\n    var rProps = this.rMatrix.props;\n    var sProps = this.sMatrix.props;\n    this.pMatrix.reset();\n    this.rMatrix.reset();\n    this.sMatrix.reset();\n    this.tMatrix.reset();\n    this.matrix.reset();\n    var iteration = 0;\n\n    if (offset > 0) {\n      while (iteration < roundOffset) {\n        this.applyTransforms(this.pMatrix, this.rMatrix, this.sMatrix, this.tr, 1, false);\n        iteration += 1;\n      }\n      if (offsetModulo) {\n        this.applyTransforms(this.pMatrix, this.rMatrix, this.sMatrix, this.tr, offsetModulo, false);\n        iteration += offsetModulo;\n      }\n    } else if (offset < 0) {\n      while (iteration > roundOffset) {\n        this.applyTransforms(this.pMatrix, this.rMatrix, this.sMatrix, this.tr, 1, true);\n        iteration -= 1;\n      }\n      if (offsetModulo) {\n        this.applyTransforms(this.pMatrix, this.rMatrix, this.sMatrix, this.tr, -offsetModulo, true);\n        iteration -= offsetModulo;\n      }\n    }\n    i = this.data.m === 1 ? 0 : this._currentCopies - 1;\n    dir = this.data.m === 1 ? 1 : -1;\n    cont = this._currentCopies;\n    var j;\n    var jLen;\n    while (cont) {\n      items = this.elemsData[i].it;\n      itemsTransform = items[items.length - 1].transform.mProps.v.props;\n      jLen = itemsTransform.length;\n      items[items.length - 1].transform.mProps._mdf = true;\n      items[items.length - 1].transform.op._mdf = true;\n      items[items.length - 1].transform.op.v = this._currentCopies === 1\n        ? this.so.v\n        : this.so.v + (this.eo.v - this.so.v) * (i / (this._currentCopies - 1));\n\n      if (iteration !== 0) {\n        if ((i !== 0 && dir === 1) || (i !== this._currentCopies - 1 && dir === -1)) {\n          this.applyTransforms(this.pMatrix, this.rMatrix, this.sMatrix, this.tr, 1, false);\n        }\n        this.matrix.transform(rProps[0], rProps[1], rProps[2], rProps[3], rProps[4], rProps[5], rProps[6], rProps[7], rProps[8], rProps[9], rProps[10], rProps[11], rProps[12], rProps[13], rProps[14], rProps[15]);\n        this.matrix.transform(sProps[0], sProps[1], sProps[2], sProps[3], sProps[4], sProps[5], sProps[6], sProps[7], sProps[8], sProps[9], sProps[10], sProps[11], sProps[12], sProps[13], sProps[14], sProps[15]);\n        this.matrix.transform(pProps[0], pProps[1], pProps[2], pProps[3], pProps[4], pProps[5], pProps[6], pProps[7], pProps[8], pProps[9], pProps[10], pProps[11], pProps[12], pProps[13], pProps[14], pProps[15]);\n\n        for (j = 0; j < jLen; j += 1) {\n          itemsTransform[j] = this.matrix.props[j];\n        }\n        this.matrix.reset();\n      } else {\n        this.matrix.reset();\n        for (j = 0; j < jLen; j += 1) {\n          itemsTransform[j] = this.matrix.props[j];\n        }\n      }\n      iteration += 1;\n      cont -= 1;\n      i += dir;\n    }\n  } else {\n    cont = this._currentCopies;\n    i = 0;\n    dir = 1;\n    while (cont) {\n      items = this.elemsData[i].it;\n      itemsTransform = items[items.length - 1].transform.mProps.v.props;\n      items[items.length - 1].transform.mProps._mdf = false;\n      items[items.length - 1].transform.op._mdf = false;\n      cont -= 1;\n      i += dir;\n    }\n  }\n  return hasReloaded;\n};\n\nRepeaterModifier.prototype.addShape = function () {};\n\nfunction RoundCornersModifier() {}\nextendPrototype([ShapeModifier], RoundCornersModifier);\nRoundCornersModifier.prototype.initModifierProperties = function (elem, data) {\n  this.getValue = this.processKeys;\n  this.rd = PropertyFactory.getProp(elem, data.r, 0, null, this);\n  this._isAnimated = !!this.rd.effectsSequence.length;\n};\n\nRoundCornersModifier.prototype.processPath = function (path, round) {\n  var clonedPath = shapePool.newElement();\n  clonedPath.c = path.c;\n  var i;\n  var len = path._length;\n  var currentV;\n  var currentI;\n  var currentO;\n  var closerV;\n  var distance;\n  var newPosPerc;\n  var index = 0;\n  var vX;\n  var vY;\n  var oX;\n  var oY;\n  var iX;\n  var iY;\n  for (i = 0; i < len; i += 1) {\n    currentV = path.v[i];\n    currentO = path.o[i];\n    currentI = path.i[i];\n    if (currentV[0] === currentO[0] && currentV[1] === currentO[1] && currentV[0] === currentI[0] && currentV[1] === currentI[1]) {\n      if ((i === 0 || i === len - 1) && !path.c) {\n        clonedPath.setTripleAt(currentV[0], currentV[1], currentO[0], currentO[1], currentI[0], currentI[1], index);\n        /* clonedPath.v[index] = currentV;\n                clonedPath.o[index] = currentO;\n                clonedPath.i[index] = currentI; */\n        index += 1;\n      } else {\n        if (i === 0) {\n          closerV = path.v[len - 1];\n        } else {\n          closerV = path.v[i - 1];\n        }\n        distance = Math.sqrt(Math.pow(currentV[0] - closerV[0], 2) + Math.pow(currentV[1] - closerV[1], 2));\n        newPosPerc = distance ? Math.min(distance / 2, round) / distance : 0;\n        iX = currentV[0] + (closerV[0] - currentV[0]) * newPosPerc;\n        vX = iX;\n        iY = currentV[1] - (currentV[1] - closerV[1]) * newPosPerc;\n        vY = iY;\n        oX = vX - (vX - currentV[0]) * roundCorner;\n        oY = vY - (vY - currentV[1]) * roundCorner;\n        clonedPath.setTripleAt(vX, vY, oX, oY, iX, iY, index);\n        index += 1;\n\n        if (i === len - 1) {\n          closerV = path.v[0];\n        } else {\n          closerV = path.v[i + 1];\n        }\n        distance = Math.sqrt(Math.pow(currentV[0] - closerV[0], 2) + Math.pow(currentV[1] - closerV[1], 2));\n        newPosPerc = distance ? Math.min(distance / 2, round) / distance : 0;\n        oX = currentV[0] + (closerV[0] - currentV[0]) * newPosPerc;\n        vX = oX;\n        oY = currentV[1] + (closerV[1] - currentV[1]) * newPosPerc;\n        vY = oY;\n        iX = vX - (vX - currentV[0]) * roundCorner;\n        iY = vY - (vY - currentV[1]) * roundCorner;\n        clonedPath.setTripleAt(vX, vY, oX, oY, iX, iY, index);\n        index += 1;\n      }\n    } else {\n      clonedPath.setTripleAt(path.v[i][0], path.v[i][1], path.o[i][0], path.o[i][1], path.i[i][0], path.i[i][1], index);\n      index += 1;\n    }\n  }\n  return clonedPath;\n};\n\nRoundCornersModifier.prototype.processShapes = function (_isFirstFrame) {\n  var shapePaths;\n  var i;\n  var len = this.shapes.length;\n  var j;\n  var jLen;\n  var rd = this.rd.v;\n\n  if (rd !== 0) {\n    var shapeData;\n    var localShapeCollection;\n    for (i = 0; i < len; i += 1) {\n      shapeData = this.shapes[i];\n      localShapeCollection = shapeData.localShapeCollection;\n      if (!(!shapeData.shape._mdf && !this._mdf && !_isFirstFrame)) {\n        localShapeCollection.releaseShapes();\n        shapeData.shape._mdf = true;\n        shapePaths = shapeData.shape.paths.shapes;\n        jLen = shapeData.shape.paths._length;\n        for (j = 0; j < jLen; j += 1) {\n          localShapeCollection.addShape(this.processPath(shapePaths[j], rd));\n        }\n      }\n      shapeData.shape.paths = shapeData.localShapeCollection;\n    }\n  }\n  if (!this.dynamicProperties.length) {\n    this._mdf = false;\n  }\n};\n\nfunction getFontProperties(fontData) {\n  var styles = fontData.fStyle ? fontData.fStyle.split(' ') : [];\n\n  var fWeight = 'normal'; var\n    fStyle = 'normal';\n  var len = styles.length;\n  var styleName;\n  for (var i = 0; i < len; i += 1) {\n    styleName = styles[i].toLowerCase();\n    switch (styleName) {\n      case 'italic':\n        fStyle = 'italic';\n        break;\n      case 'bold':\n        fWeight = '700';\n        break;\n      case 'black':\n        fWeight = '900';\n        break;\n      case 'medium':\n        fWeight = '500';\n        break;\n      case 'regular':\n      case 'normal':\n        fWeight = '400';\n        break;\n      case 'light':\n      case 'thin':\n        fWeight = '200';\n        break;\n      default:\n        break;\n    }\n  }\n\n  return {\n    style: fStyle,\n    weight: fontData.fWeight || fWeight,\n  };\n}\n\nconst FontManager = (function () {\n  var maxWaitingTime = 5000;\n  var emptyChar = {\n    w: 0,\n    size: 0,\n    shapes: [],\n    data: {\n      shapes: [],\n    },\n  };\n  var combinedCharacters = [];\n  // Hindi characters\n  combinedCharacters = combinedCharacters.concat([2304, 2305, 2306, 2307, 2362, 2363, 2364, 2364, 2366,\n    2367, 2368, 2369, 2370, 2371, 2372, 2373, 2374, 2375, 2376, 2377, 2378, 2379,\n    2380, 2381, 2382, 2383, 2387, 2388, 2389, 2390, 2391, 2402, 2403]);\n\n  var surrogateModifiers = [\n    'd83cdffb',\n    'd83cdffc',\n    'd83cdffd',\n    'd83cdffe',\n    'd83cdfff',\n  ];\n\n  var zeroWidthJoiner = [65039, 8205];\n\n  function trimFontOptions(font) {\n    var familyArray = font.split(',');\n    var i;\n    var len = familyArray.length;\n    var enabledFamilies = [];\n    for (i = 0; i < len; i += 1) {\n      if (familyArray[i] !== 'sans-serif' && familyArray[i] !== 'monospace') {\n        enabledFamilies.push(familyArray[i]);\n      }\n    }\n    return enabledFamilies.join(',');\n  }\n\n  function setUpNode(font, family) {\n    var parentNode = createTag('span');\n    // Node is invisible to screen readers.\n    parentNode.setAttribute('aria-hidden', true);\n    parentNode.style.fontFamily = family;\n    var node = createTag('span');\n    // Characters that vary significantly among different fonts\n    node.innerText = 'giItT1WQy@!-/#';\n    // Visible - so we can measure it - but not on the screen\n    parentNode.style.position = 'absolute';\n    parentNode.style.left = '-10000px';\n    parentNode.style.top = '-10000px';\n    // Large font size makes even subtle changes obvious\n    parentNode.style.fontSize = '300px';\n    // Reset any font properties\n    parentNode.style.fontVariant = 'normal';\n    parentNode.style.fontStyle = 'normal';\n    parentNode.style.fontWeight = 'normal';\n    parentNode.style.letterSpacing = '0';\n    parentNode.appendChild(node);\n    document.body.appendChild(parentNode);\n\n    // Remember width with no applied web font\n    var width = node.offsetWidth;\n    node.style.fontFamily = trimFontOptions(font) + ', ' + family;\n    return { node: node, w: width, parent: parentNode };\n  }\n\n  function checkLoadedFonts() {\n    var i;\n    var len = this.fonts.length;\n    var node;\n    var w;\n    var loadedCount = len;\n    for (i = 0; i < len; i += 1) {\n      if (this.fonts[i].loaded) {\n        loadedCount -= 1;\n      } else if (this.fonts[i].fOrigin === 'n' || this.fonts[i].origin === 0) {\n        this.fonts[i].loaded = true;\n      } else {\n        node = this.fonts[i].monoCase.node;\n        w = this.fonts[i].monoCase.w;\n        if (node.offsetWidth !== w) {\n          loadedCount -= 1;\n          this.fonts[i].loaded = true;\n        } else {\n          node = this.fonts[i].sansCase.node;\n          w = this.fonts[i].sansCase.w;\n          if (node.offsetWidth !== w) {\n            loadedCount -= 1;\n            this.fonts[i].loaded = true;\n          }\n        }\n        if (this.fonts[i].loaded) {\n          this.fonts[i].sansCase.parent.parentNode.removeChild(this.fonts[i].sansCase.parent);\n          this.fonts[i].monoCase.parent.parentNode.removeChild(this.fonts[i].monoCase.parent);\n        }\n      }\n    }\n\n    if (loadedCount !== 0 && Date.now() - this.initTime < maxWaitingTime) {\n      setTimeout(this.checkLoadedFontsBinded, 20);\n    } else {\n      setTimeout(this.setIsLoadedBinded, 10);\n    }\n  }\n\n  function createHelper(fontData, def) {\n    var engine = (document.body && def) ? 'svg' : 'canvas';\n    var helper;\n    var fontProps = getFontProperties(fontData);\n    if (engine === 'svg') {\n      var tHelper = createNS('text');\n      tHelper.style.fontSize = '100px';\n      // tHelper.style.fontFamily = fontData.fFamily;\n      tHelper.setAttribute('font-family', fontData.fFamily);\n      tHelper.setAttribute('font-style', fontProps.style);\n      tHelper.setAttribute('font-weight', fontProps.weight);\n      tHelper.textContent = '1';\n      if (fontData.fClass) {\n        tHelper.style.fontFamily = 'inherit';\n        tHelper.setAttribute('class', fontData.fClass);\n      } else {\n        tHelper.style.fontFamily = fontData.fFamily;\n      }\n      def.appendChild(tHelper);\n      helper = tHelper;\n    } else {\n      var tCanvasHelper = new OffscreenCanvas(500, 500).getContext('2d');\n      tCanvasHelper.font = fontProps.style + ' ' + fontProps.weight + ' 100px ' + fontData.fFamily;\n      helper = tCanvasHelper;\n    }\n    function measure(text) {\n      if (engine === 'svg') {\n        helper.textContent = text;\n        return helper.getComputedTextLength();\n      }\n      return helper.measureText(text).width;\n    }\n    return {\n      measureText: measure,\n    };\n  }\n\n  function addFonts(fontData, defs) {\n    if (!fontData) {\n      this.isLoaded = true;\n      return;\n    }\n    if (this.chars) {\n      this.isLoaded = true;\n      this.fonts = fontData.list;\n      return;\n    }\n    if (!document.body) {\n      this.isLoaded = true;\n      fontData.list.forEach((data) => {\n        data.helper = createHelper(data);\n        data.cache = {};\n      });\n      this.fonts = fontData.list;\n      return;\n    }\n\n    var fontArr = fontData.list;\n    var i;\n    var len = fontArr.length;\n    var _pendingFonts = len;\n    for (i = 0; i < len; i += 1) {\n      var shouldLoadFont = true;\n      var loadedSelector;\n      var j;\n      fontArr[i].loaded = false;\n      fontArr[i].monoCase = setUpNode(fontArr[i].fFamily, 'monospace');\n      fontArr[i].sansCase = setUpNode(fontArr[i].fFamily, 'sans-serif');\n      if (!fontArr[i].fPath) {\n        fontArr[i].loaded = true;\n        _pendingFonts -= 1;\n      } else if (fontArr[i].fOrigin === 'p' || fontArr[i].origin === 3) {\n        loadedSelector = document.querySelectorAll('style[f-forigin=\"p\"][f-family=\"' + fontArr[i].fFamily + '\"], style[f-origin=\"3\"][f-family=\"' + fontArr[i].fFamily + '\"]');\n\n        if (loadedSelector.length > 0) {\n          shouldLoadFont = false;\n        }\n\n        if (shouldLoadFont) {\n          var s = createTag('style');\n          s.setAttribute('f-forigin', fontArr[i].fOrigin);\n          s.setAttribute('f-origin', fontArr[i].origin);\n          s.setAttribute('f-family', fontArr[i].fFamily);\n          s.type = 'text/css';\n          s.innerText = '@font-face {font-family: ' + fontArr[i].fFamily + \"; font-style: normal; src: url('\" + fontArr[i].fPath + \"');}\";\n          defs.appendChild(s);\n        }\n      } else if (fontArr[i].fOrigin === 'g' || fontArr[i].origin === 1) {\n        loadedSelector = document.querySelectorAll('link[f-forigin=\"g\"], link[f-origin=\"1\"]');\n\n        for (j = 0; j < loadedSelector.length; j += 1) {\n          if (loadedSelector[j].href.indexOf(fontArr[i].fPath) !== -1) {\n            // Font is already loaded\n            shouldLoadFont = false;\n          }\n        }\n\n        if (shouldLoadFont) {\n          var l = createTag('link');\n          l.setAttribute('f-forigin', fontArr[i].fOrigin);\n          l.setAttribute('f-origin', fontArr[i].origin);\n          l.type = 'text/css';\n          l.rel = 'stylesheet';\n          l.href = fontArr[i].fPath;\n          document.body.appendChild(l);\n        }\n      } else if (fontArr[i].fOrigin === 't' || fontArr[i].origin === 2) {\n        loadedSelector = document.querySelectorAll('script[f-forigin=\"t\"], script[f-origin=\"2\"]');\n\n        for (j = 0; j < loadedSelector.length; j += 1) {\n          if (fontArr[i].fPath === loadedSelector[j].src) {\n            // Font is already loaded\n            shouldLoadFont = false;\n          }\n        }\n\n        if (shouldLoadFont) {\n          var sc = createTag('link');\n          sc.setAttribute('f-forigin', fontArr[i].fOrigin);\n          sc.setAttribute('f-origin', fontArr[i].origin);\n          sc.setAttribute('rel', 'stylesheet');\n          sc.setAttribute('href', fontArr[i].fPath);\n          defs.appendChild(sc);\n        }\n      }\n      fontArr[i].helper = createHelper(fontArr[i], defs);\n      fontArr[i].cache = {};\n      this.fonts.push(fontArr[i]);\n    }\n    if (_pendingFonts === 0) {\n      this.isLoaded = true;\n    } else {\n      // On some cases even if the font is loaded, it won't load correctly when measuring text on canvas.\n      // Adding this timeout seems to fix it\n      setTimeout(this.checkLoadedFonts.bind(this), 100);\n    }\n  }\n\n  function addChars(chars) {\n    if (!chars) {\n      return;\n    }\n    if (!this.chars) {\n      this.chars = [];\n    }\n    var i;\n    var len = chars.length;\n    var j;\n    var jLen = this.chars.length;\n    var found;\n    for (i = 0; i < len; i += 1) {\n      j = 0;\n      found = false;\n      while (j < jLen) {\n        if (this.chars[j].style === chars[i].style && this.chars[j].fFamily === chars[i].fFamily && this.chars[j].ch === chars[i].ch) {\n          found = true;\n        }\n        j += 1;\n      }\n      if (!found) {\n        this.chars.push(chars[i]);\n        jLen += 1;\n      }\n    }\n  }\n\n  function getCharData(char, style, font) {\n    var i = 0;\n    var len = this.chars.length;\n    while (i < len) {\n      if (this.chars[i].ch === char && this.chars[i].style === style && this.chars[i].fFamily === font) {\n        return this.chars[i];\n      }\n      i += 1;\n    }\n    if (((typeof char === 'string' && char.charCodeAt(0) !== 13) || !char)\n            && console\n            && console.warn // eslint-disable-line no-console\n            && !this._warned\n    ) {\n      this._warned = true;\n      console.warn('Missing character from exported characters list: ', char, style, font); // eslint-disable-line no-console\n    }\n    return emptyChar;\n  }\n\n  function measureText(char, fontName, size) {\n    var fontData = this.getFontByName(fontName);\n    var index = char.charCodeAt(0);\n    if (!fontData.cache[index + 1]) {\n      var tHelper = fontData.helper;\n      if (char === ' ') {\n        var doubleSize = tHelper.measureText('|' + char + '|');\n        var singleSize = tHelper.measureText('||');\n        fontData.cache[index + 1] = (doubleSize - singleSize) / 100;\n      } else {\n        fontData.cache[index + 1] = tHelper.measureText(char) / 100;\n      }\n    }\n    return fontData.cache[index + 1] * size;\n  }\n\n  function getFontByName(name) {\n    var i = 0;\n    var len = this.fonts.length;\n    while (i < len) {\n      if (this.fonts[i].fName === name) {\n        return this.fonts[i];\n      }\n      i += 1;\n    }\n    return this.fonts[0];\n  }\n\n  function isModifier(firstCharCode, secondCharCode) {\n    var sum = firstCharCode.toString(16) + secondCharCode.toString(16);\n    return surrogateModifiers.indexOf(sum) !== -1;\n  }\n\n  function isZeroWidthJoiner(firstCharCode, secondCharCode) {\n    if (!secondCharCode) {\n      return firstCharCode === zeroWidthJoiner[1];\n    }\n    return firstCharCode === zeroWidthJoiner[0] && secondCharCode === zeroWidthJoiner[1];\n  }\n\n  function isCombinedCharacter(char) {\n    return combinedCharacters.indexOf(char) !== -1;\n  }\n\n  function setIsLoaded() {\n    this.isLoaded = true;\n  }\n\n  var Font = function () {\n    this.fonts = [];\n    this.chars = null;\n    this.typekitLoaded = 0;\n    this.isLoaded = false;\n    this._warned = false;\n    this.initTime = Date.now();\n    this.setIsLoadedBinded = this.setIsLoaded.bind(this);\n    this.checkLoadedFontsBinded = this.checkLoadedFonts.bind(this);\n  };\n  Font.isModifier = isModifier;\n  Font.isZeroWidthJoiner = isZeroWidthJoiner;\n  Font.isCombinedCharacter = isCombinedCharacter;\n\n  var fontPrototype = {\n    addChars: addChars,\n    addFonts: addFonts,\n    getCharData: getCharData,\n    getFontByName: getFontByName,\n    measureText: measureText,\n    checkLoadedFonts: checkLoadedFonts,\n    setIsLoaded: setIsLoaded,\n  };\n\n  Font.prototype = fontPrototype;\n\n  return Font;\n}());\n\nfunction RenderableElement() {\n\n}\n\nRenderableElement.prototype = {\n  initRenderable: function () {\n    // layer's visibility related to inpoint and outpoint. Rename isVisible to isInRange\n    this.isInRange = false;\n    // layer's display state\n    this.hidden = false;\n    // If layer's transparency equals 0, it can be hidden\n    this.isTransparent = false;\n    // list of animated components\n    this.renderableComponents = [];\n  },\n  addRenderableComponent: function (component) {\n    if (this.renderableComponents.indexOf(component) === -1) {\n      this.renderableComponents.push(component);\n    }\n  },\n  removeRenderableComponent: function (component) {\n    if (this.renderableComponents.indexOf(component) !== -1) {\n      this.renderableComponents.splice(this.renderableComponents.indexOf(component), 1);\n    }\n  },\n  prepareRenderableFrame: function (num) {\n    this.checkLayerLimits(num);\n  },\n  checkTransparency: function () {\n    if (this.finalTransform.mProp.o.v <= 0) {\n      if (!this.isTransparent && this.globalData.renderConfig.hideOnTransparent) {\n        this.isTransparent = true;\n        this.hide();\n      }\n    } else if (this.isTransparent) {\n      this.isTransparent = false;\n      this.show();\n    }\n  },\n  /**\n     * @function\n     * Initializes frame related properties.\n     *\n     * @param {number} num\n     * current frame number in Layer's time\n     *\n     */\n  checkLayerLimits: function (num) {\n    if (this.data.ip - this.data.st <= num && this.data.op - this.data.st > num) {\n      if (this.isInRange !== true) {\n        this.globalData._mdf = true;\n        this._mdf = true;\n        this.isInRange = true;\n        this.show();\n      }\n    } else if (this.isInRange !== false) {\n      this.globalData._mdf = true;\n      this.isInRange = false;\n      this.hide();\n    }\n  },\n  renderRenderable: function () {\n    var i;\n    var len = this.renderableComponents.length;\n    for (i = 0; i < len; i += 1) {\n      this.renderableComponents[i].renderFrame(this._isFirstFrame);\n    }\n    /* this.maskManager.renderFrame(this.finalTransform.mat);\n        this.renderableEffectsManager.renderFrame(this._isFirstFrame); */\n  },\n  sourceRectAtTime: function () {\n    return {\n      top: 0,\n      left: 0,\n      width: 100,\n      height: 100,\n    };\n  },\n  getLayerSize: function () {\n    if (this.data.ty === 5) {\n      return { w: this.data.textData.width, h: this.data.textData.height };\n    }\n    return { w: this.data.width, h: this.data.height };\n  },\n};\n\nconst MaskManagerInterface = (function () {\n  function MaskInterface(mask, data) {\n    this._mask = mask;\n    this._data = data;\n  }\n  Object.defineProperty(MaskInterface.prototype, 'maskPath', {\n    get: function () {\n      if (this._mask.prop.k) {\n        this._mask.prop.getValue();\n      }\n      return this._mask.prop;\n    },\n  });\n  Object.defineProperty(MaskInterface.prototype, 'maskOpacity', {\n    get: function () {\n      if (this._mask.op.k) {\n        this._mask.op.getValue();\n      }\n      return this._mask.op.v * 100;\n    },\n  });\n\n  var MaskManager = function (maskManager) {\n    var _masksInterfaces = createSizedArray(maskManager.viewData.length);\n    var i;\n    var len = maskManager.viewData.length;\n    for (i = 0; i < len; i += 1) {\n      _masksInterfaces[i] = new MaskInterface(maskManager.viewData[i], maskManager.masksProperties[i]);\n    }\n\n    var maskFunction = function (name) {\n      i = 0;\n      while (i < len) {\n        if (maskManager.masksProperties[i].nm === name) {\n          return _masksInterfaces[i];\n        }\n        i += 1;\n      }\n      return null;\n    };\n    return maskFunction;\n  };\n  return MaskManager;\n}());\n\nconst ExpressionPropertyInterface = (function () {\n  var defaultUnidimensionalValue = { pv: 0, v: 0, mult: 1 };\n  var defaultMultidimensionalValue = { pv: [0, 0, 0], v: [0, 0, 0], mult: 1 };\n\n  function completeProperty(expressionValue, property, type) {\n    Object.defineProperty(expressionValue, 'velocity', {\n      get: function () {\n        return property.getVelocityAtTime(property.comp.currentFrame);\n      },\n    });\n    expressionValue.numKeys = property.keyframes ? property.keyframes.length : 0;\n    expressionValue.key = function (pos) {\n      if (!expressionValue.numKeys) {\n        return 0;\n      }\n      var value = '';\n      if ('s' in property.keyframes[pos - 1]) {\n        value = property.keyframes[pos - 1].s;\n      } else if ('e' in property.keyframes[pos - 2]) {\n        value = property.keyframes[pos - 2].e;\n      } else {\n        value = property.keyframes[pos - 2].s;\n      }\n      var valueProp = type === 'unidimensional' ? new Number(value) : Object.assign({}, value); // eslint-disable-line no-new-wrappers\n      valueProp.time = property.keyframes[pos - 1].t / property.elem.comp.globalData.frameRate;\n      valueProp.value = type === 'unidimensional' ? value[0] : value;\n      return valueProp;\n    };\n    expressionValue.valueAtTime = property.getValueAtTime;\n    expressionValue.speedAtTime = property.getSpeedAtTime;\n    expressionValue.velocityAtTime = property.getVelocityAtTime;\n    expressionValue.propertyGroup = property.propertyGroup;\n  }\n\n  function UnidimensionalPropertyInterface(property) {\n    if (!property || !('pv' in property)) {\n      property = defaultUnidimensionalValue;\n    }\n    var mult = 1 / property.mult;\n    var val = property.pv * mult;\n    var expressionValue = new Number(val); // eslint-disable-line no-new-wrappers\n    expressionValue.value = val;\n    completeProperty(expressionValue, property, 'unidimensional');\n\n    return function () {\n      if (property.k) {\n        property.getValue();\n      }\n      val = property.v * mult;\n      if (expressionValue.value !== val) {\n        expressionValue = new Number(val); // eslint-disable-line no-new-wrappers\n        expressionValue.value = val;\n        completeProperty(expressionValue, property, 'unidimensional');\n      }\n      return expressionValue;\n    };\n  }\n\n  function MultidimensionalPropertyInterface(property) {\n    if (!property || !('pv' in property)) {\n      property = defaultMultidimensionalValue;\n    }\n    var mult = 1 / property.mult;\n    var len = (property.data && property.data.l) || property.pv.length;\n    var expressionValue = createTypedArray('float32', len);\n    var arrValue = createTypedArray('float32', len);\n    expressionValue.value = arrValue;\n    completeProperty(expressionValue, property, 'multidimensional');\n\n    return function () {\n      if (property.k) {\n        property.getValue();\n      }\n      for (var i = 0; i < len; i += 1) {\n        arrValue[i] = property.v[i] * mult;\n        expressionValue[i] = arrValue[i];\n      }\n      return expressionValue;\n    };\n  }\n\n  // TODO: try to avoid using this getter\n  function defaultGetter() {\n    return defaultUnidimensionalValue;\n  }\n\n  return function (property) {\n    if (!property) {\n      return defaultGetter;\n    } if (property.propType === 'unidimensional') {\n      return UnidimensionalPropertyInterface(property);\n    }\n    return MultidimensionalPropertyInterface(property);\n  };\n}());\n\nconst TransformExpressionInterface = (function () {\n  return function (transform) {\n    function _thisFunction(name) {\n      switch (name) {\n        case 'scale':\n        case 'Scale':\n        case 'ADBE Scale':\n        case 6:\n          return _thisFunction.scale;\n        case 'rotation':\n        case 'Rotation':\n        case 'ADBE Rotation':\n        case 'ADBE Rotate Z':\n        case 10:\n          return _thisFunction.rotation;\n        case 'ADBE Rotate X':\n          return _thisFunction.xRotation;\n        case 'ADBE Rotate Y':\n          return _thisFunction.yRotation;\n        case 'position':\n        case 'Position':\n        case 'ADBE Position':\n        case 2:\n          return _thisFunction.position;\n        case 'ADBE Position_0':\n          return _thisFunction.xPosition;\n        case 'ADBE Position_1':\n          return _thisFunction.yPosition;\n        case 'ADBE Position_2':\n          return _thisFunction.zPosition;\n        case 'anchorPoint':\n        case 'AnchorPoint':\n        case 'Anchor Point':\n        case 'ADBE AnchorPoint':\n        case 1:\n          return _thisFunction.anchorPoint;\n        case 'opacity':\n        case 'Opacity':\n        case 11:\n          return _thisFunction.opacity;\n        default:\n          return null;\n      }\n    }\n    Object.defineProperty(_thisFunction, 'rotation', {\n      get: ExpressionPropertyInterface(transform.r || transform.rz),\n    });\n\n    Object.defineProperty(_thisFunction, 'zRotation', {\n      get: ExpressionPropertyInterface(transform.rz || transform.r),\n    });\n\n    Object.defineProperty(_thisFunction, 'xRotation', {\n      get: ExpressionPropertyInterface(transform.rx),\n    });\n\n    Object.defineProperty(_thisFunction, 'yRotation', {\n      get: ExpressionPropertyInterface(transform.ry),\n    });\n    Object.defineProperty(_thisFunction, 'scale', {\n      get: ExpressionPropertyInterface(transform.s),\n    });\n    var _px;\n    var _py;\n    var _pz;\n    var _transformFactory;\n    if (transform.p) {\n      _transformFactory = ExpressionPropertyInterface(transform.p);\n    } else {\n      _px = ExpressionPropertyInterface(transform.px);\n      _py = ExpressionPropertyInterface(transform.py);\n      if (transform.pz) {\n        _pz = ExpressionPropertyInterface(transform.pz);\n      }\n    }\n    Object.defineProperty(_thisFunction, 'position', {\n      get: function () {\n        if (transform.p) {\n          return _transformFactory();\n        }\n        return [\n          _px(),\n          _py(),\n          _pz ? _pz() : 0];\n      },\n    });\n\n    Object.defineProperty(_thisFunction, 'xPosition', {\n      get: ExpressionPropertyInterface(transform.px),\n    });\n\n    Object.defineProperty(_thisFunction, 'yPosition', {\n      get: ExpressionPropertyInterface(transform.py),\n    });\n\n    Object.defineProperty(_thisFunction, 'zPosition', {\n      get: ExpressionPropertyInterface(transform.pz),\n    });\n\n    Object.defineProperty(_thisFunction, 'anchorPoint', {\n      get: ExpressionPropertyInterface(transform.a),\n    });\n\n    Object.defineProperty(_thisFunction, 'opacity', {\n      get: ExpressionPropertyInterface(transform.o),\n    });\n\n    Object.defineProperty(_thisFunction, 'skew', {\n      get: ExpressionPropertyInterface(transform.sk),\n    });\n\n    Object.defineProperty(_thisFunction, 'skewAxis', {\n      get: ExpressionPropertyInterface(transform.sa),\n    });\n\n    Object.defineProperty(_thisFunction, 'orientation', {\n      get: ExpressionPropertyInterface(transform.or),\n    });\n\n    return _thisFunction;\n  };\n}());\n\nconst LayerExpressionInterface = (function () {\n  function getMatrix(time) {\n    var toWorldMat = new Matrix();\n    if (time !== undefined) {\n      var propMatrix = this._elem.finalTransform.mProp.getValueAtTime(time);\n      propMatrix.clone(toWorldMat);\n    } else {\n      var transformMat = this._elem.finalTransform.mProp;\n      transformMat.applyToMatrix(toWorldMat);\n    }\n    return toWorldMat;\n  }\n\n  function toWorldVec(arr, time) {\n    var toWorldMat = this.getMatrix(time);\n    toWorldMat.props[12] = 0;\n    toWorldMat.props[13] = 0;\n    toWorldMat.props[14] = 0;\n    return this.applyPoint(toWorldMat, arr);\n  }\n\n  function toWorld(arr, time) {\n    var toWorldMat = this.getMatrix(time);\n    return this.applyPoint(toWorldMat, arr);\n  }\n\n  function fromWorldVec(arr, time) {\n    var toWorldMat = this.getMatrix(time);\n    toWorldMat.props[12] = 0;\n    toWorldMat.props[13] = 0;\n    toWorldMat.props[14] = 0;\n    return this.invertPoint(toWorldMat, arr);\n  }\n\n  function fromWorld(arr, time) {\n    var toWorldMat = this.getMatrix(time);\n    return this.invertPoint(toWorldMat, arr);\n  }\n\n  function applyPoint(matrix, arr) {\n    if (this._elem.hierarchy && this._elem.hierarchy.length) {\n      var i;\n      var len = this._elem.hierarchy.length;\n      for (i = 0; i < len; i += 1) {\n        this._elem.hierarchy[i].finalTransform.mProp.applyToMatrix(matrix);\n      }\n    }\n    return matrix.applyToPointArray(arr[0], arr[1], arr[2] || 0);\n  }\n\n  function invertPoint(matrix, arr) {\n    if (this._elem.hierarchy && this._elem.hierarchy.length) {\n      var i;\n      var len = this._elem.hierarchy.length;\n      for (i = 0; i < len; i += 1) {\n        this._elem.hierarchy[i].finalTransform.mProp.applyToMatrix(matrix);\n      }\n    }\n    return matrix.inversePoint(arr);\n  }\n\n  function fromComp(arr) {\n    var toWorldMat = new Matrix();\n    toWorldMat.reset();\n    this._elem.finalTransform.mProp.applyToMatrix(toWorldMat);\n    if (this._elem.hierarchy && this._elem.hierarchy.length) {\n      var i;\n      var len = this._elem.hierarchy.length;\n      for (i = 0; i < len; i += 1) {\n        this._elem.hierarchy[i].finalTransform.mProp.applyToMatrix(toWorldMat);\n      }\n      return toWorldMat.inversePoint(arr);\n    }\n    return toWorldMat.inversePoint(arr);\n  }\n\n  function sampleImage() {\n    return [1, 1, 1, 1];\n  }\n\n  return function (elem) {\n    var transformInterface;\n\n    function _registerMaskInterface(maskManager) {\n      _thisLayerFunction.mask = new MaskManagerInterface(maskManager, elem);\n    }\n    function _registerEffectsInterface(effects) {\n      _thisLayerFunction.effect = effects;\n    }\n\n    function _thisLayerFunction(name) {\n      switch (name) {\n        case 'ADBE Root Vectors Group':\n        case 'Contents':\n        case 2:\n          return _thisLayerFunction.shapeInterface;\n        case 1:\n        case 6:\n        case 'Transform':\n        case 'transform':\n        case 'ADBE Transform Group':\n          return transformInterface;\n        case 4:\n        case 'ADBE Effect Parade':\n        case 'effects':\n        case 'Effects':\n          return _thisLayerFunction.effect;\n        case 'ADBE Text Properties':\n          return _thisLayerFunction.textInterface;\n        default:\n          return null;\n      }\n    }\n    _thisLayerFunction.getMatrix = getMatrix;\n    _thisLayerFunction.invertPoint = invertPoint;\n    _thisLayerFunction.applyPoint = applyPoint;\n    _thisLayerFunction.toWorld = toWorld;\n    _thisLayerFunction.toWorldVec = toWorldVec;\n    _thisLayerFunction.fromWorld = fromWorld;\n    _thisLayerFunction.fromWorldVec = fromWorldVec;\n    _thisLayerFunction.toComp = toWorld;\n    _thisLayerFunction.fromComp = fromComp;\n    _thisLayerFunction.sampleImage = sampleImage;\n    _thisLayerFunction.sourceRectAtTime = elem.sourceRectAtTime.bind(elem);\n    _thisLayerFunction._elem = elem;\n    transformInterface = TransformExpressionInterface(elem.finalTransform.mProp);\n    var anchorPointDescriptor = getDescriptor(transformInterface, 'anchorPoint');\n    Object.defineProperties(_thisLayerFunction, {\n      hasParent: {\n        get: function () {\n          return elem.hierarchy.length;\n        },\n      },\n      parent: {\n        get: function () {\n          return elem.hierarchy[0].layerInterface;\n        },\n      },\n      rotation: getDescriptor(transformInterface, 'rotation'),\n      scale: getDescriptor(transformInterface, 'scale'),\n      position: getDescriptor(transformInterface, 'position'),\n      opacity: getDescriptor(transformInterface, 'opacity'),\n      anchorPoint: anchorPointDescriptor,\n      anchor_point: anchorPointDescriptor,\n      transform: {\n        get: function () {\n          return transformInterface;\n        },\n      },\n      active: {\n        get: function () {\n          return elem.isInRange;\n        },\n      },\n    });\n\n    _thisLayerFunction.startTime = elem.data.st;\n    _thisLayerFunction.index = elem.data.ind;\n    _thisLayerFunction.source = elem.data.refId;\n    _thisLayerFunction.height = elem.data.ty === 0 ? elem.data.h : 100;\n    _thisLayerFunction.width = elem.data.ty === 0 ? elem.data.w : 100;\n    _thisLayerFunction.inPoint = elem.data.ip / elem.comp.globalData.frameRate;\n    _thisLayerFunction.outPoint = elem.data.op / elem.comp.globalData.frameRate;\n    _thisLayerFunction._name = elem.data.nm;\n\n    _thisLayerFunction.registerMaskInterface = _registerMaskInterface;\n    _thisLayerFunction.registerEffectsInterface = _registerEffectsInterface;\n    return _thisLayerFunction;\n  };\n}());\n\nconst propertyGroupFactory = (function () {\n  return function (interfaceFunction, parentPropertyGroup) {\n    return function (val) {\n      val = val === undefined ? 1 : val;\n      if (val <= 0) {\n        return interfaceFunction;\n      }\n      return parentPropertyGroup(val - 1);\n    };\n  };\n}());\n\nconst PropertyInterface = (function () {\n  return function (propertyName, propertyGroup) {\n    var interfaceFunction = {\n      _name: propertyName,\n    };\n\n    function _propertyGroup(val) {\n      val = val === undefined ? 1 : val;\n      if (val <= 0) {\n        return interfaceFunction;\n      }\n      return propertyGroup(val - 1);\n    }\n\n    return _propertyGroup;\n  };\n}());\n\nconst EffectsExpressionInterface = (function () {\n  var ob = {\n    createEffectsInterface: createEffectsInterface,\n  };\n\n  function createEffectsInterface(elem, propertyGroup) {\n    if (elem.effectsManager) {\n      var effectElements = [];\n      var effectsData = elem.data.ef;\n      var i;\n      var len = elem.effectsManager.effectElements.length;\n      for (i = 0; i < len; i += 1) {\n        effectElements.push(createGroupInterface(effectsData[i], elem.effectsManager.effectElements[i], propertyGroup, elem));\n      }\n\n      var effects = elem.data.ef || [];\n      var groupInterface = function (name) {\n        i = 0;\n        len = effects.length;\n        while (i < len) {\n          if (name === effects[i].nm || name === effects[i].mn || name === effects[i].ix) {\n            return effectElements[i];\n          }\n          i += 1;\n        }\n        return null;\n      };\n      Object.defineProperty(groupInterface, 'numProperties', {\n        get: function () {\n          return effects.length;\n        },\n      });\n      return groupInterface;\n    }\n    return null;\n  }\n\n  function createGroupInterface(data, elements, propertyGroup, elem) {\n    function groupInterface(name) {\n      var effects = data.ef;\n      var i = 0;\n      var len = effects.length;\n      while (i < len) {\n        if (name === effects[i].nm || name === effects[i].mn || name === effects[i].ix) {\n          if (effects[i].ty === 5) {\n            return effectElements[i];\n          }\n          return effectElements[i]();\n        }\n        i += 1;\n      }\n      throw new Error();\n    }\n    var _propertyGroup = propertyGroupFactory(groupInterface, propertyGroup);\n\n    var effectElements = [];\n    var i;\n    var len = data.ef.length;\n    for (i = 0; i < len; i += 1) {\n      if (data.ef[i].ty === 5) {\n        effectElements.push(createGroupInterface(data.ef[i], elements.effectElements[i], elements.effectElements[i].propertyGroup, elem));\n      } else {\n        effectElements.push(createValueInterface(elements.effectElements[i], data.ef[i].ty, elem, _propertyGroup));\n      }\n    }\n\n    if (data.mn === 'ADBE Color Control') {\n      Object.defineProperty(groupInterface, 'color', {\n        get: function () {\n          return effectElements[0]();\n        },\n      });\n    }\n    Object.defineProperties(groupInterface, {\n      numProperties: {\n        get: function () {\n          return data.np;\n        },\n      },\n      _name: { value: data.nm },\n      propertyGroup: { value: _propertyGroup },\n    });\n    groupInterface.enabled = data.en !== 0;\n    groupInterface.active = groupInterface.enabled;\n    return groupInterface;\n  }\n\n  function createValueInterface(element, type, elem, propertyGroup) {\n    var expressionProperty = ExpressionPropertyInterface(element.p);\n    function interfaceFunction() {\n      if (type === 10) {\n        return elem.comp.compInterface(element.p.v);\n      }\n      return expressionProperty();\n    }\n\n    if (element.p.setGroupProperty) {\n      element.p.setGroupProperty(PropertyInterface('', propertyGroup));\n    }\n\n    return interfaceFunction;\n  }\n\n  return ob;\n}());\n\nconst CompExpressionInterface = (function () {\n  return function (comp) {\n    function _thisLayerFunction(name) {\n      var i = 0;\n      var len = comp.layers.length;\n      while (i < len) {\n        if (comp.layers[i].nm === name || comp.layers[i].ind === name) {\n          return comp.elements[i].layerInterface;\n        }\n        i += 1;\n      }\n      return null;\n      // return {active:false};\n    }\n    Object.defineProperty(_thisLayerFunction, '_name', { value: comp.data.nm });\n    _thisLayerFunction.layer = _thisLayerFunction;\n    _thisLayerFunction.pixelAspect = 1;\n    _thisLayerFunction.height = comp.data.h || comp.globalData.compSize.h;\n    _thisLayerFunction.width = comp.data.w || comp.globalData.compSize.w;\n    _thisLayerFunction.pixelAspect = 1;\n    _thisLayerFunction.frameDuration = 1 / comp.globalData.frameRate;\n    _thisLayerFunction.displayStartTime = 0;\n    _thisLayerFunction.numLayers = comp.layers.length;\n    return _thisLayerFunction;\n  };\n}());\n\nconst ShapePathInterface = (\n\n  function () {\n    return function pathInterfaceFactory(shape, view, propertyGroup) {\n      var prop = view.sh;\n\n      function interfaceFunction(val) {\n        if (val === 'Shape' || val === 'shape' || val === 'Path' || val === 'path' || val === 'ADBE Vector Shape' || val === 2) {\n          return interfaceFunction.path;\n        }\n        return null;\n      }\n\n      var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\n      prop.setGroupProperty(PropertyInterface('Path', _propertyGroup));\n      Object.defineProperties(interfaceFunction, {\n        path: {\n          get: function () {\n            if (prop.k) {\n              prop.getValue();\n            }\n            return prop;\n          },\n        },\n        shape: {\n          get: function () {\n            if (prop.k) {\n              prop.getValue();\n            }\n            return prop;\n          },\n        },\n        _name: { value: shape.nm },\n        ix: { value: shape.ix },\n        propertyIndex: { value: shape.ix },\n        mn: { value: shape.mn },\n        propertyGroup: { value: propertyGroup },\n      });\n      return interfaceFunction;\n    };\n  }()\n);\n\nconst ShapeExpressionInterface = (function () {\n  function iterateElements(shapes, view, propertyGroup) {\n    var arr = [];\n    var i;\n    var len = shapes ? shapes.length : 0;\n    for (i = 0; i < len; i += 1) {\n      if (shapes[i].ty === 'gr') {\n        arr.push(groupInterfaceFactory(shapes[i], view[i], propertyGroup));\n      } else if (shapes[i].ty === 'fl') {\n        arr.push(fillInterfaceFactory(shapes[i], view[i], propertyGroup));\n      } else if (shapes[i].ty === 'st') {\n        arr.push(strokeInterfaceFactory(shapes[i], view[i], propertyGroup));\n      } else if (shapes[i].ty === 'tm') {\n        arr.push(trimInterfaceFactory(shapes[i], view[i], propertyGroup));\n      } else if (shapes[i].ty === 'tr') {\n        // arr.push(transformInterfaceFactory(shapes[i],view[i],propertyGroup));\n      } else if (shapes[i].ty === 'el') {\n        arr.push(ellipseInterfaceFactory(shapes[i], view[i], propertyGroup));\n      } else if (shapes[i].ty === 'sr') {\n        arr.push(starInterfaceFactory(shapes[i], view[i], propertyGroup));\n      } else if (shapes[i].ty === 'sh') {\n        arr.push(ShapePathInterface(shapes[i], view[i], propertyGroup));\n      } else if (shapes[i].ty === 'rc') {\n        arr.push(rectInterfaceFactory(shapes[i], view[i], propertyGroup));\n      } else if (shapes[i].ty === 'rd') {\n        arr.push(roundedInterfaceFactory(shapes[i], view[i], propertyGroup));\n      } else if (shapes[i].ty === 'rp') {\n        arr.push(repeaterInterfaceFactory(shapes[i], view[i], propertyGroup));\n      } else if (shapes[i].ty === 'gf') {\n        arr.push(gradientFillInterfaceFactory(shapes[i], view[i], propertyGroup));\n      } else {\n        arr.push(defaultInterfaceFactory(shapes[i], view[i], propertyGroup));\n      }\n    }\n    return arr;\n  }\n\n  function contentsInterfaceFactory(shape, view, propertyGroup) {\n    var interfaces;\n    var interfaceFunction = function _interfaceFunction(value) {\n      var i = 0;\n      var len = interfaces.length;\n      while (i < len) {\n        if (interfaces[i]._name === value || interfaces[i].mn === value || interfaces[i].propertyIndex === value || interfaces[i].ix === value || interfaces[i].ind === value) {\n          return interfaces[i];\n        }\n        i += 1;\n      }\n      if (typeof value === 'number') {\n        return interfaces[value - 1];\n      }\n      return null;\n    };\n\n    interfaceFunction.propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\n    interfaces = iterateElements(shape.it, view.it, interfaceFunction.propertyGroup);\n    interfaceFunction.numProperties = interfaces.length;\n    var transformInterface = transformInterfaceFactory(shape.it[shape.it.length - 1], view.it[view.it.length - 1], interfaceFunction.propertyGroup);\n    interfaceFunction.transform = transformInterface;\n    interfaceFunction.propertyIndex = shape.cix;\n    interfaceFunction._name = shape.nm;\n\n    return interfaceFunction;\n  }\n\n  function groupInterfaceFactory(shape, view, propertyGroup) {\n    var interfaceFunction = function _interfaceFunction(value) {\n      switch (value) {\n        case 'ADBE Vectors Group':\n        case 'Contents':\n        case 2:\n          return interfaceFunction.content;\n          // Not necessary for now. Keeping them here in case a new case appears\n          // case 'ADBE Vector Transform Group':\n          // case 3:\n        default:\n          return interfaceFunction.transform;\n      }\n    };\n    interfaceFunction.propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\n    var content = contentsInterfaceFactory(shape, view, interfaceFunction.propertyGroup);\n    var transformInterface = transformInterfaceFactory(shape.it[shape.it.length - 1], view.it[view.it.length - 1], interfaceFunction.propertyGroup);\n    interfaceFunction.content = content;\n    interfaceFunction.transform = transformInterface;\n    Object.defineProperty(interfaceFunction, '_name', {\n      get: function () {\n        return shape.nm;\n      },\n    });\n    // interfaceFunction.content = interfaceFunction;\n    interfaceFunction.numProperties = shape.np;\n    interfaceFunction.propertyIndex = shape.ix;\n    interfaceFunction.nm = shape.nm;\n    interfaceFunction.mn = shape.mn;\n    return interfaceFunction;\n  }\n\n  function fillInterfaceFactory(shape, view, propertyGroup) {\n    function interfaceFunction(val) {\n      if (val === 'Color' || val === 'color') {\n        return interfaceFunction.color;\n      } if (val === 'Opacity' || val === 'opacity') {\n        return interfaceFunction.opacity;\n      }\n      return null;\n    }\n    Object.defineProperties(interfaceFunction, {\n      color: {\n        get: ExpressionPropertyInterface(view.c),\n      },\n      opacity: {\n        get: ExpressionPropertyInterface(view.o),\n      },\n      _name: { value: shape.nm },\n      mn: { value: shape.mn },\n    });\n\n    view.c.setGroupProperty(PropertyInterface('Color', propertyGroup));\n    view.o.setGroupProperty(PropertyInterface('Opacity', propertyGroup));\n    return interfaceFunction;\n  }\n\n  function gradientFillInterfaceFactory(shape, view, propertyGroup) {\n    function interfaceFunction(val) {\n      if (val === 'Start Point' || val === 'start point') {\n        return interfaceFunction.startPoint;\n      }\n      if (val === 'End Point' || val === 'end point') {\n        return interfaceFunction.endPoint;\n      }\n      if (val === 'Opacity' || val === 'opacity') {\n        return interfaceFunction.opacity;\n      }\n      return null;\n    }\n    Object.defineProperties(interfaceFunction, {\n      startPoint: {\n        get: ExpressionPropertyInterface(view.s),\n      },\n      endPoint: {\n        get: ExpressionPropertyInterface(view.e),\n      },\n      opacity: {\n        get: ExpressionPropertyInterface(view.o),\n      },\n      type: {\n        get: function () {\n          return 'a';\n        },\n      },\n      _name: { value: shape.nm },\n      mn: { value: shape.mn },\n    });\n\n    view.s.setGroupProperty(PropertyInterface('Start Point', propertyGroup));\n    view.e.setGroupProperty(PropertyInterface('End Point', propertyGroup));\n    view.o.setGroupProperty(PropertyInterface('Opacity', propertyGroup));\n    return interfaceFunction;\n  }\n  function defaultInterfaceFactory() {\n    function interfaceFunction() {\n      return null;\n    }\n    return interfaceFunction;\n  }\n\n  function strokeInterfaceFactory(shape, view, propertyGroup) {\n    var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\n    var _dashPropertyGroup = propertyGroupFactory(dashOb, _propertyGroup);\n    function addPropertyToDashOb(i) {\n      Object.defineProperty(dashOb, shape.d[i].nm, {\n        get: ExpressionPropertyInterface(view.d.dataProps[i].p),\n      });\n    }\n    var i;\n    var len = shape.d ? shape.d.length : 0;\n    var dashOb = {};\n    for (i = 0; i < len; i += 1) {\n      addPropertyToDashOb(i);\n      view.d.dataProps[i].p.setGroupProperty(_dashPropertyGroup);\n    }\n\n    function interfaceFunction(val) {\n      if (val === 'Color' || val === 'color') {\n        return interfaceFunction.color;\n      } if (val === 'Opacity' || val === 'opacity') {\n        return interfaceFunction.opacity;\n      } if (val === 'Stroke Width' || val === 'stroke width') {\n        return interfaceFunction.strokeWidth;\n      }\n      return null;\n    }\n    Object.defineProperties(interfaceFunction, {\n      color: {\n        get: ExpressionPropertyInterface(view.c),\n      },\n      opacity: {\n        get: ExpressionPropertyInterface(view.o),\n      },\n      strokeWidth: {\n        get: ExpressionPropertyInterface(view.w),\n      },\n      dash: {\n        get: function () {\n          return dashOb;\n        },\n      },\n      _name: { value: shape.nm },\n      mn: { value: shape.mn },\n    });\n\n    view.c.setGroupProperty(PropertyInterface('Color', _propertyGroup));\n    view.o.setGroupProperty(PropertyInterface('Opacity', _propertyGroup));\n    view.w.setGroupProperty(PropertyInterface('Stroke Width', _propertyGroup));\n    return interfaceFunction;\n  }\n\n  function trimInterfaceFactory(shape, view, propertyGroup) {\n    function interfaceFunction(val) {\n      if (val === shape.e.ix || val === 'End' || val === 'end') {\n        return interfaceFunction.end;\n      }\n      if (val === shape.s.ix) {\n        return interfaceFunction.start;\n      }\n      if (val === shape.o.ix) {\n        return interfaceFunction.offset;\n      }\n      return null;\n    }\n\n    var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\n    interfaceFunction.propertyIndex = shape.ix;\n\n    view.s.setGroupProperty(PropertyInterface('Start', _propertyGroup));\n    view.e.setGroupProperty(PropertyInterface('End', _propertyGroup));\n    view.o.setGroupProperty(PropertyInterface('Offset', _propertyGroup));\n    interfaceFunction.propertyIndex = shape.ix;\n    interfaceFunction.propertyGroup = propertyGroup;\n\n    Object.defineProperties(interfaceFunction, {\n      start: {\n        get: ExpressionPropertyInterface(view.s),\n      },\n      end: {\n        get: ExpressionPropertyInterface(view.e),\n      },\n      offset: {\n        get: ExpressionPropertyInterface(view.o),\n      },\n      _name: { value: shape.nm },\n    });\n    interfaceFunction.mn = shape.mn;\n    return interfaceFunction;\n  }\n\n  function transformInterfaceFactory(shape, view, propertyGroup) {\n    function interfaceFunction(value) {\n      if (shape.a.ix === value || value === 'Anchor Point') {\n        return interfaceFunction.anchorPoint;\n      }\n      if (shape.o.ix === value || value === 'Opacity') {\n        return interfaceFunction.opacity;\n      }\n      if (shape.p.ix === value || value === 'Position') {\n        return interfaceFunction.position;\n      }\n      if (shape.r.ix === value || value === 'Rotation' || value === 'ADBE Vector Rotation') {\n        return interfaceFunction.rotation;\n      }\n      if (shape.s.ix === value || value === 'Scale') {\n        return interfaceFunction.scale;\n      }\n      if ((shape.sk && shape.sk.ix === value) || value === 'Skew') {\n        return interfaceFunction.skew;\n      }\n      if ((shape.sa && shape.sa.ix === value) || value === 'Skew Axis') {\n        return interfaceFunction.skewAxis;\n      }\n      return null;\n    }\n    var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\n    view.transform.mProps.o.setGroupProperty(PropertyInterface('Opacity', _propertyGroup));\n    view.transform.mProps.p.setGroupProperty(PropertyInterface('Position', _propertyGroup));\n    view.transform.mProps.a.setGroupProperty(PropertyInterface('Anchor Point', _propertyGroup));\n    view.transform.mProps.s.setGroupProperty(PropertyInterface('Scale', _propertyGroup));\n    view.transform.mProps.r.setGroupProperty(PropertyInterface('Rotation', _propertyGroup));\n    if (view.transform.mProps.sk) {\n      view.transform.mProps.sk.setGroupProperty(PropertyInterface('Skew', _propertyGroup));\n      view.transform.mProps.sa.setGroupProperty(PropertyInterface('Skew Angle', _propertyGroup));\n    }\n    view.transform.op.setGroupProperty(PropertyInterface('Opacity', _propertyGroup));\n    Object.defineProperties(interfaceFunction, {\n      opacity: {\n        get: ExpressionPropertyInterface(view.transform.mProps.o),\n      },\n      position: {\n        get: ExpressionPropertyInterface(view.transform.mProps.p),\n      },\n      anchorPoint: {\n        get: ExpressionPropertyInterface(view.transform.mProps.a),\n      },\n      scale: {\n        get: ExpressionPropertyInterface(view.transform.mProps.s),\n      },\n      rotation: {\n        get: ExpressionPropertyInterface(view.transform.mProps.r),\n      },\n      skew: {\n        get: ExpressionPropertyInterface(view.transform.mProps.sk),\n      },\n      skewAxis: {\n        get: ExpressionPropertyInterface(view.transform.mProps.sa),\n      },\n      _name: { value: shape.nm },\n    });\n    interfaceFunction.ty = 'tr';\n    interfaceFunction.mn = shape.mn;\n    interfaceFunction.propertyGroup = propertyGroup;\n    return interfaceFunction;\n  }\n\n  function ellipseInterfaceFactory(shape, view, propertyGroup) {\n    function interfaceFunction(value) {\n      if (shape.p.ix === value) {\n        return interfaceFunction.position;\n      }\n      if (shape.s.ix === value) {\n        return interfaceFunction.size;\n      }\n      return null;\n    }\n    var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\n    interfaceFunction.propertyIndex = shape.ix;\n    var prop = view.sh.ty === 'tm' ? view.sh.prop : view.sh;\n    prop.s.setGroupProperty(PropertyInterface('Size', _propertyGroup));\n    prop.p.setGroupProperty(PropertyInterface('Position', _propertyGroup));\n\n    Object.defineProperties(interfaceFunction, {\n      size: {\n        get: ExpressionPropertyInterface(prop.s),\n      },\n      position: {\n        get: ExpressionPropertyInterface(prop.p),\n      },\n      _name: { value: shape.nm },\n    });\n    interfaceFunction.mn = shape.mn;\n    return interfaceFunction;\n  }\n\n  function starInterfaceFactory(shape, view, propertyGroup) {\n    function interfaceFunction(value) {\n      if (shape.p.ix === value) {\n        return interfaceFunction.position;\n      }\n      if (shape.r.ix === value) {\n        return interfaceFunction.rotation;\n      }\n      if (shape.pt.ix === value) {\n        return interfaceFunction.points;\n      }\n      if (shape.or.ix === value || value === 'ADBE Vector Star Outer Radius') {\n        return interfaceFunction.outerRadius;\n      }\n      if (shape.os.ix === value) {\n        return interfaceFunction.outerRoundness;\n      }\n      if (shape.ir && (shape.ir.ix === value || value === 'ADBE Vector Star Inner Radius')) {\n        return interfaceFunction.innerRadius;\n      }\n      if (shape.is && shape.is.ix === value) {\n        return interfaceFunction.innerRoundness;\n      }\n      return null;\n    }\n\n    var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\n    var prop = view.sh.ty === 'tm' ? view.sh.prop : view.sh;\n    interfaceFunction.propertyIndex = shape.ix;\n    prop.or.setGroupProperty(PropertyInterface('Outer Radius', _propertyGroup));\n    prop.os.setGroupProperty(PropertyInterface('Outer Roundness', _propertyGroup));\n    prop.pt.setGroupProperty(PropertyInterface('Points', _propertyGroup));\n    prop.p.setGroupProperty(PropertyInterface('Position', _propertyGroup));\n    prop.r.setGroupProperty(PropertyInterface('Rotation', _propertyGroup));\n    if (shape.ir) {\n      prop.ir.setGroupProperty(PropertyInterface('Inner Radius', _propertyGroup));\n      prop.is.setGroupProperty(PropertyInterface('Inner Roundness', _propertyGroup));\n    }\n\n    Object.defineProperties(interfaceFunction, {\n      position: {\n        get: ExpressionPropertyInterface(prop.p),\n      },\n      rotation: {\n        get: ExpressionPropertyInterface(prop.r),\n      },\n      points: {\n        get: ExpressionPropertyInterface(prop.pt),\n      },\n      outerRadius: {\n        get: ExpressionPropertyInterface(prop.or),\n      },\n      outerRoundness: {\n        get: ExpressionPropertyInterface(prop.os),\n      },\n      innerRadius: {\n        get: ExpressionPropertyInterface(prop.ir),\n      },\n      innerRoundness: {\n        get: ExpressionPropertyInterface(prop.is),\n      },\n      _name: { value: shape.nm },\n    });\n    interfaceFunction.mn = shape.mn;\n    return interfaceFunction;\n  }\n\n  function rectInterfaceFactory(shape, view, propertyGroup) {\n    function interfaceFunction(value) {\n      if (shape.p.ix === value) {\n        return interfaceFunction.position;\n      }\n      if (shape.r.ix === value) {\n        return interfaceFunction.roundness;\n      }\n      if (shape.s.ix === value || value === 'Size' || value === 'ADBE Vector Rect Size') {\n        return interfaceFunction.size;\n      }\n      return null;\n    }\n    var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\n\n    var prop = view.sh.ty === 'tm' ? view.sh.prop : view.sh;\n    interfaceFunction.propertyIndex = shape.ix;\n    prop.p.setGroupProperty(PropertyInterface('Position', _propertyGroup));\n    prop.s.setGroupProperty(PropertyInterface('Size', _propertyGroup));\n    prop.r.setGroupProperty(PropertyInterface('Rotation', _propertyGroup));\n\n    Object.defineProperties(interfaceFunction, {\n      position: {\n        get: ExpressionPropertyInterface(prop.p),\n      },\n      roundness: {\n        get: ExpressionPropertyInterface(prop.r),\n      },\n      size: {\n        get: ExpressionPropertyInterface(prop.s),\n      },\n      _name: { value: shape.nm },\n    });\n    interfaceFunction.mn = shape.mn;\n    return interfaceFunction;\n  }\n\n  function roundedInterfaceFactory(shape, view, propertyGroup) {\n    function interfaceFunction(value) {\n      if (shape.r.ix === value || value === 'Round Corners 1') {\n        return interfaceFunction.radius;\n      }\n      return null;\n    }\n\n    var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\n    var prop = view;\n    interfaceFunction.propertyIndex = shape.ix;\n    prop.rd.setGroupProperty(PropertyInterface('Radius', _propertyGroup));\n\n    Object.defineProperties(interfaceFunction, {\n      radius: {\n        get: ExpressionPropertyInterface(prop.rd),\n      },\n      _name: { value: shape.nm },\n    });\n    interfaceFunction.mn = shape.mn;\n    return interfaceFunction;\n  }\n\n  function repeaterInterfaceFactory(shape, view, propertyGroup) {\n    function interfaceFunction(value) {\n      if (shape.c.ix === value || value === 'Copies') {\n        return interfaceFunction.copies;\n      } if (shape.o.ix === value || value === 'Offset') {\n        return interfaceFunction.offset;\n      }\n      return null;\n    }\n\n    var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\n    var prop = view;\n    interfaceFunction.propertyIndex = shape.ix;\n    prop.c.setGroupProperty(PropertyInterface('Copies', _propertyGroup));\n    prop.o.setGroupProperty(PropertyInterface('Offset', _propertyGroup));\n    Object.defineProperties(interfaceFunction, {\n      copies: {\n        get: ExpressionPropertyInterface(prop.c),\n      },\n      offset: {\n        get: ExpressionPropertyInterface(prop.o),\n      },\n      _name: { value: shape.nm },\n    });\n    interfaceFunction.mn = shape.mn;\n    return interfaceFunction;\n  }\n\n  return function (shapes, view, propertyGroup) {\n    var interfaces;\n    function _interfaceFunction(value) {\n      if (typeof value === 'number') {\n        value = value === undefined ? 1 : value;\n        if (value === 0) {\n          return propertyGroup;\n        }\n        return interfaces[value - 1];\n      }\n      var i = 0;\n      var len = interfaces.length;\n      while (i < len) {\n        if (interfaces[i]._name === value) {\n          return interfaces[i];\n        }\n        i += 1;\n      }\n      return null;\n    }\n    function parentGroupWrapper() {\n      return propertyGroup;\n    }\n    _interfaceFunction.propertyGroup = propertyGroupFactory(_interfaceFunction, parentGroupWrapper);\n    interfaces = iterateElements(shapes, view, _interfaceFunction.propertyGroup);\n    _interfaceFunction.numProperties = interfaces.length;\n    _interfaceFunction._name = 'Contents';\n    return _interfaceFunction;\n  };\n}());\n\nconst TextExpressionInterface = (function () {\n  return function (elem) {\n    var _prevValue;\n    var _sourceText;\n    function _thisLayerFunction(name) {\n      switch (name) {\n        case 'ADBE Text Document':\n          return _thisLayerFunction.sourceText;\n        default:\n          return null;\n      }\n    }\n    Object.defineProperty(_thisLayerFunction, 'sourceText', {\n      get: function () {\n        elem.textProperty.getValue();\n        var stringValue = elem.textProperty.currentData.t;\n        if (stringValue !== _prevValue) {\n          elem.textProperty.currentData.t = _prevValue;\n          _sourceText = new String(stringValue); // eslint-disable-line no-new-wrappers\n          // If stringValue is an empty string, eval returns undefined, so it has to be returned as a String primitive\n          _sourceText.value = stringValue || new String(stringValue); // eslint-disable-line no-new-wrappers\n        }\n        return _sourceText;\n      },\n    });\n    return _thisLayerFunction;\n  };\n}());\n\nconst getBlendMode = (function () {\n  var blendModeEnums = {\n    0: 'source-over',\n    1: 'multiply',\n    2: 'screen',\n    3: 'overlay',\n    4: 'darken',\n    5: 'lighten',\n    6: 'color-dodge',\n    7: 'color-burn',\n    8: 'hard-light',\n    9: 'soft-light',\n    10: 'difference',\n    11: 'exclusion',\n    12: 'hue',\n    13: 'saturation',\n    14: 'color',\n    15: 'luminosity',\n  };\n\n  return function (mode) {\n    return blendModeEnums[mode] || '';\n  };\n}());\n\nfunction SliderEffect(data, elem, container) {\n  this.p = PropertyFactory.getProp(elem, data.v, 0, 0, container);\n}\nfunction AngleEffect(data, elem, container) {\n  this.p = PropertyFactory.getProp(elem, data.v, 0, 0, container);\n}\nfunction ColorEffect(data, elem, container) {\n  this.p = PropertyFactory.getProp(elem, data.v, 1, 0, container);\n}\nfunction PointEffect(data, elem, container) {\n  this.p = PropertyFactory.getProp(elem, data.v, 1, 0, container);\n}\nfunction LayerIndexEffect(data, elem, container) {\n  this.p = PropertyFactory.getProp(elem, data.v, 0, 0, container);\n}\nfunction MaskIndexEffect(data, elem, container) {\n  this.p = PropertyFactory.getProp(elem, data.v, 0, 0, container);\n}\nfunction CheckboxEffect(data, elem, container) {\n  this.p = PropertyFactory.getProp(elem, data.v, 0, 0, container);\n}\nfunction NoValueEffect() {\n  this.p = {};\n}\n\nfunction EffectsManager(data, element) {\n  var effects = data.ef || [];\n  this.effectElements = [];\n  var i;\n  var len = effects.length;\n  var effectItem;\n  for (i = 0; i < len; i += 1) {\n    effectItem = new GroupEffect(effects[i], element);\n    this.effectElements.push(effectItem);\n  }\n}\n\nfunction GroupEffect(data, element) {\n  this.init(data, element);\n}\n\nextendPrototype([DynamicPropertyContainer], GroupEffect);\n\nGroupEffect.prototype.getValue = GroupEffect.prototype.iterateDynamicProperties;\n\nGroupEffect.prototype.init = function (data, element) {\n  this.data = data;\n  this.effectElements = [];\n  this.initDynamicPropertyContainer(element);\n  var i;\n  var len = this.data.ef.length;\n  var eff;\n  var effects = this.data.ef;\n  for (i = 0; i < len; i += 1) {\n    eff = null;\n    switch (effects[i].ty) {\n      case 0:\n        eff = new SliderEffect(effects[i], element, this);\n        break;\n      case 1:\n        eff = new AngleEffect(effects[i], element, this);\n        break;\n      case 2:\n        eff = new ColorEffect(effects[i], element, this);\n        break;\n      case 3:\n        eff = new PointEffect(effects[i], element, this);\n        break;\n      case 4:\n      case 7:\n        eff = new CheckboxEffect(effects[i], element, this);\n        break;\n      case 10:\n        eff = new LayerIndexEffect(effects[i], element, this);\n        break;\n      case 11:\n        eff = new MaskIndexEffect(effects[i], element, this);\n        break;\n      case 5:\n        eff = new EffectsManager(effects[i], element, this);\n        break;\n        // case 6:\n      default:\n        eff = new NoValueEffect(effects[i], element, this);\n        break;\n    }\n    if (eff) {\n      this.effectElements.push(eff);\n    }\n  }\n};\n\nfunction BaseElement() {\n}\n\nBaseElement.prototype = {\n  checkMasks: function () {\n    if (!this.data.hasMask) {\n      return false;\n    }\n    var i = 0;\n    var len = this.data.masksProperties.length;\n    while (i < len) {\n      if ((this.data.masksProperties[i].mode !== 'n' && this.data.masksProperties[i].cl !== false)) {\n        return true;\n      }\n      i += 1;\n    }\n    return false;\n  },\n  initExpressions: function () {\n    this.layerInterface = LayerExpressionInterface(this);\n    if (this.data.hasMask && this.maskManager) {\n      this.layerInterface.registerMaskInterface(this.maskManager);\n    }\n    var effectsInterface = EffectsExpressionInterface.createEffectsInterface(this, this.layerInterface);\n    this.layerInterface.registerEffectsInterface(effectsInterface);\n\n    if (this.data.ty === 0 || this.data.xt) {\n      this.compInterface = CompExpressionInterface(this);\n    } else if (this.data.ty === 4) {\n      this.layerInterface.shapeInterface = ShapeExpressionInterface(this.shapesData, this.itemsData, this.layerInterface);\n      this.layerInterface.content = this.layerInterface.shapeInterface;\n    } else if (this.data.ty === 5) {\n      this.layerInterface.textInterface = TextExpressionInterface(this);\n      this.layerInterface.text = this.layerInterface.textInterface;\n    }\n  },\n  setBlendMode: function () {\n    var blendModeValue = getBlendMode(this.data.bm);\n    var elem = this.baseElement || this.layerElement;\n\n    elem.style['mix-blend-mode'] = blendModeValue;\n  },\n  initBaseData: function (data, globalData, comp) {\n    this.globalData = globalData;\n    this.comp = comp;\n    this.data = data;\n    this.layerId = createElementID();\n\n    // Stretch factor for old animations missing this property.\n    if (!this.data.sr) {\n      this.data.sr = 1;\n    }\n    // effects manager\n    this.effectsManager = new EffectsManager(this.data, this, this.dynamicProperties);\n  },\n  getType: function () {\n    return this.type;\n  },\n  sourceRectAtTime: function () {},\n};\n\n/**\n * @file\n * Handles element's layer frame update.\n * Checks layer in point and out point\n *\n */\n\nfunction FrameElement() {}\n\nFrameElement.prototype = {\n  /**\n     * @function\n     * Initializes frame related properties.\n     *\n     */\n  initFrame: function () {\n    // set to true when inpoint is rendered\n    this._isFirstFrame = false;\n    // list of animated properties\n    this.dynamicProperties = [];\n    // If layer has been modified in current tick this will be true\n    this._mdf = false;\n  },\n  /**\n     * @function\n     * Calculates all dynamic values\n     *\n     * @param {number} num\n     * current frame number in Layer's time\n     * @param {boolean} isVisible\n     * if layers is currently in range\n     *\n     */\n  prepareProperties: function (num, isVisible) {\n    var i;\n    var len = this.dynamicProperties.length;\n    for (i = 0; i < len; i += 1) {\n      if (isVisible || (this._isParent && this.dynamicProperties[i].propType === 'transform')) {\n        this.dynamicProperties[i].getValue();\n        if (this.dynamicProperties[i]._mdf) {\n          this.globalData._mdf = true;\n          this._mdf = true;\n        }\n      }\n    }\n  },\n  addDynamicProperty: function (prop) {\n    if (this.dynamicProperties.indexOf(prop) === -1) {\n      this.dynamicProperties.push(prop);\n    }\n  },\n};\n\nconst FootageInterface = (function () {\n  var outlineInterfaceFactory = (function (elem) {\n    var currentPropertyName = '';\n    var currentProperty = elem.getFootageData();\n    function init() {\n      currentPropertyName = '';\n      currentProperty = elem.getFootageData();\n      return searchProperty;\n    }\n    function searchProperty(value) {\n      if (currentProperty[value]) {\n        currentPropertyName = value;\n        currentProperty = currentProperty[value];\n        if (typeof currentProperty === 'object') {\n          return searchProperty;\n        }\n        return currentProperty;\n      }\n      var propertyNameIndex = value.indexOf(currentPropertyName);\n      if (propertyNameIndex !== -1) {\n        var index = parseInt(value.substr(propertyNameIndex + currentPropertyName.length), 10);\n        currentProperty = currentProperty[index];\n        if (typeof currentProperty === 'object') {\n          return searchProperty;\n        }\n        return currentProperty;\n      }\n      return '';\n    }\n    return init;\n  });\n\n  var dataInterfaceFactory = function (elem) {\n    function interfaceFunction(value) {\n      if (value === 'Outline') {\n        return interfaceFunction.outlineInterface();\n      }\n      return null;\n    }\n\n    interfaceFunction._name = 'Outline';\n    interfaceFunction.outlineInterface = outlineInterfaceFactory(elem);\n    return interfaceFunction;\n  };\n\n  return function (elem) {\n    function _interfaceFunction(value) {\n      if (value === 'Data') {\n        return _interfaceFunction.dataInterface;\n      }\n      return null;\n    }\n\n    _interfaceFunction._name = 'Data';\n    _interfaceFunction.dataInterface = dataInterfaceFactory(elem);\n    return _interfaceFunction;\n  };\n}());\n\nfunction FootageElement(data, globalData, comp) {\n  this.initFrame();\n  this.initRenderable();\n  this.assetData = globalData.getAssetData(data.refId);\n  this.footageData = globalData.imageLoader.getAsset(this.assetData);\n  this.initBaseData(data, globalData, comp);\n}\n\nFootageElement.prototype.prepareFrame = function () {\n};\n\nextendPrototype([RenderableElement, BaseElement, FrameElement], FootageElement);\n\nFootageElement.prototype.getBaseElement = function () {\n  return null;\n};\n\nFootageElement.prototype.renderFrame = function () {\n};\n\nFootageElement.prototype.destroy = function () {\n};\n\nFootageElement.prototype.initExpressions = function () {\n  this.layerInterface = FootageInterface(this);\n};\n\nFootageElement.prototype.getFootageData = function () {\n  return this.footageData;\n};\n\nfunction AudioElement(data, globalData, comp) {\n  this.initFrame();\n  this.initRenderable();\n  this.assetData = globalData.getAssetData(data.refId);\n  this.initBaseData(data, globalData, comp);\n  this._isPlaying = false;\n  this._canPlay = false;\n  var assetPath = this.globalData.getAssetsPath(this.assetData);\n  this.audio = this.globalData.audioController.createAudio(assetPath);\n  this._currentTime = 0;\n  this.globalData.audioController.addAudio(this);\n  this._volumeMultiplier = 1;\n  this._volume = 1;\n  this._previousVolume = null;\n  this.tm = data.tm ? PropertyFactory.getProp(this, data.tm, 0, globalData.frameRate, this) : { _placeholder: true };\n  this.lv = PropertyFactory.getProp(this, data.au && data.au.lv ? data.au.lv : { k: [100] }, 1, 0.01, this);\n}\n\nAudioElement.prototype.prepareFrame = function (num) {\n  this.prepareRenderableFrame(num, true);\n  this.prepareProperties(num, true);\n  if (!this.tm._placeholder) {\n    var timeRemapped = this.tm.v;\n    this._currentTime = timeRemapped;\n  } else {\n    this._currentTime = num / this.data.sr;\n  }\n  this._volume = this.lv.v[0];\n  var totalVolume = this._volume * this._volumeMultiplier;\n  if (this._previousVolume !== totalVolume) {\n    this._previousVolume = totalVolume;\n    this.audio.volume(totalVolume);\n  }\n};\n\nextendPrototype([RenderableElement, BaseElement, FrameElement], AudioElement);\n\nAudioElement.prototype.renderFrame = function () {\n  if (this.isInRange && this._canPlay) {\n    if (!this._isPlaying) {\n      this.audio.play();\n      this.audio.seek(this._currentTime / this.globalData.frameRate);\n      this._isPlaying = true;\n    } else if (!this.audio.playing()\n      || Math.abs(this._currentTime / this.globalData.frameRate - this.audio.seek()) > 0.1\n    ) {\n      this.audio.seek(this._currentTime / this.globalData.frameRate);\n    }\n  }\n};\n\nAudioElement.prototype.show = function () {\n  // this.audio.play()\n};\n\nAudioElement.prototype.hide = function () {\n  this.audio.pause();\n  this._isPlaying = false;\n};\n\nAudioElement.prototype.pause = function () {\n  this.audio.pause();\n  this._isPlaying = false;\n  this._canPlay = false;\n};\n\nAudioElement.prototype.resume = function () {\n  this._canPlay = true;\n};\n\nAudioElement.prototype.setRate = function (rateValue) {\n  this.audio.rate(rateValue);\n};\n\nAudioElement.prototype.volume = function (volumeValue) {\n  this._volumeMultiplier = volumeValue;\n  this._previousVolume = volumeValue * this._volume;\n  this.audio.volume(this._previousVolume);\n};\n\nAudioElement.prototype.getBaseElement = function () {\n  return null;\n};\n\nAudioElement.prototype.destroy = function () {\n};\n\nAudioElement.prototype.sourceRectAtTime = function () {\n};\n\nAudioElement.prototype.initExpressions = function () {\n};\n\nfunction BaseRenderer() {}\nBaseRenderer.prototype.checkLayers = function (num) {\n  var i;\n  var len = this.layers.length;\n  var data;\n  this.completeLayers = true;\n  for (i = len - 1; i >= 0; i -= 1) {\n    if (!this.elements[i]) {\n      data = this.layers[i];\n      if (data.ip - data.st <= (num - this.layers[i].st) && data.op - data.st > (num - this.layers[i].st)) {\n        this.buildItem(i);\n      }\n    }\n    this.completeLayers = this.elements[i] ? this.completeLayers : false;\n  }\n  this.checkPendingElements();\n};\n\nBaseRenderer.prototype.createItem = function (layer) {\n  switch (layer.ty) {\n    case 2:\n      return this.createImage(layer);\n    case 0:\n      return this.createComp(layer);\n    case 1:\n      return this.createSolid(layer);\n    case 3:\n      return this.createNull(layer);\n    case 4:\n      return this.createShape(layer);\n    case 5:\n      return this.createText(layer);\n    case 6:\n      return this.createAudio(layer);\n    case 13:\n      return this.createCamera(layer);\n    case 15:\n      return this.createFootage(layer);\n    default:\n      return this.createNull(layer);\n  }\n};\n\nBaseRenderer.prototype.createCamera = function () {\n  throw new Error('You\\'re using a 3d camera. Try the html renderer.');\n};\n\nBaseRenderer.prototype.createAudio = function (data) {\n  return new AudioElement(data, this.globalData, this);\n};\n\nBaseRenderer.prototype.createFootage = function (data) {\n  return new FootageElement(data, this.globalData, this);\n};\n\nBaseRenderer.prototype.buildAllItems = function () {\n  var i;\n  var len = this.layers.length;\n  for (i = 0; i < len; i += 1) {\n    this.buildItem(i);\n  }\n  this.checkPendingElements();\n};\n\nBaseRenderer.prototype.includeLayers = function (newLayers) {\n  this.completeLayers = false;\n  var i;\n  var len = newLayers.length;\n  var j;\n  var jLen = this.layers.length;\n  for (i = 0; i < len; i += 1) {\n    j = 0;\n    while (j < jLen) {\n      if (this.layers[j].id === newLayers[i].id) {\n        this.layers[j] = newLayers[i];\n        break;\n      }\n      j += 1;\n    }\n  }\n};\n\nBaseRenderer.prototype.setProjectInterface = function (pInterface) {\n  this.globalData.projectInterface = pInterface;\n};\n\nBaseRenderer.prototype.initItems = function () {\n  if (!this.globalData.progressiveLoad) {\n    this.buildAllItems();\n  }\n};\nBaseRenderer.prototype.buildElementParenting = function (element, parentName, hierarchy) {\n  var elements = this.elements;\n  var layers = this.layers;\n  var i = 0;\n  var len = layers.length;\n  while (i < len) {\n    if (layers[i].ind == parentName) { // eslint-disable-line eqeqeq\n      if (!elements[i] || elements[i] === true) {\n        this.buildItem(i);\n        this.addPendingElement(element);\n      } else {\n        hierarchy.push(elements[i]);\n        elements[i].setAsParent();\n        if (layers[i].parent !== undefined) {\n          this.buildElementParenting(element, layers[i].parent, hierarchy);\n        } else {\n          element.setHierarchy(hierarchy);\n        }\n      }\n    }\n    i += 1;\n  }\n};\n\nBaseRenderer.prototype.addPendingElement = function (element) {\n  this.pendingElements.push(element);\n};\n\nBaseRenderer.prototype.searchExtraCompositions = function (assets) {\n  var i;\n  var len = assets.length;\n  for (i = 0; i < len; i += 1) {\n    if (assets[i].xt) {\n      var comp = this.createComp(assets[i]);\n      comp.initExpressions();\n      this.globalData.projectInterface.registerComposition(comp);\n    }\n  }\n};\n\nBaseRenderer.prototype.getElementByPath = function (path) {\n  var pathValue = path.shift();\n  var element;\n  if (typeof pathValue === 'number') {\n    element = this.elements[pathValue];\n  } else {\n    var i;\n    var len = this.elements.length;\n    for (i = 0; i < len; i += 1) {\n      if (this.elements[i].data.nm === pathValue) {\n        element = this.elements[i];\n        break;\n      }\n    }\n  }\n  if (path.length === 0) {\n    return element;\n  }\n  return element.getElementByPath(path);\n};\n\nBaseRenderer.prototype.setupGlobalData = function (animData, fontsContainer) {\n  this.globalData.fontManager = new FontManager();\n  this.globalData.fontManager.addChars(animData.chars);\n  this.globalData.fontManager.addFonts(animData.fonts, fontsContainer);\n  this.globalData.getAssetData = this.animationItem.getAssetData.bind(this.animationItem);\n  this.globalData.getAssetsPath = this.animationItem.getAssetsPath.bind(this.animationItem);\n  this.globalData.imageLoader = this.animationItem.imagePreloader;\n  this.globalData.audioController = this.animationItem.audioController;\n  this.globalData.frameId = 0;\n  this.globalData.frameRate = animData.fr;\n  this.globalData.nm = animData.nm;\n  this.globalData.compSize = {\n    w: animData.w,\n    h: animData.h,\n  };\n};\n\nfunction TransformElement() {}\n\nTransformElement.prototype = {\n  initTransform: function () {\n    this.finalTransform = {\n      mProp: this.data.ks ? TransformPropertyFactory.getTransformProperty(this, this.data.ks, this) : { o: 0 },\n      _matMdf: false,\n      _opMdf: false,\n      mat: new Matrix(),\n    };\n    if (this.data.ao) {\n      this.finalTransform.mProp.autoOriented = true;\n    }\n\n    // TODO: check TYPE 11: Guided elements\n    if (this.data.ty !== 11) {\n      // this.createElements();\n    }\n  },\n  renderTransform: function () {\n    this.finalTransform._opMdf = this.finalTransform.mProp.o._mdf || this._isFirstFrame;\n    this.finalTransform._matMdf = this.finalTransform.mProp._mdf || this._isFirstFrame;\n\n    if (this.hierarchy) {\n      var mat;\n      var finalMat = this.finalTransform.mat;\n      var i = 0;\n      var len = this.hierarchy.length;\n      // Checking if any of the transformation matrices in the hierarchy chain has changed.\n      if (!this.finalTransform._matMdf) {\n        while (i < len) {\n          if (this.hierarchy[i].finalTransform.mProp._mdf) {\n            this.finalTransform._matMdf = true;\n            break;\n          }\n          i += 1;\n        }\n      }\n\n      if (this.finalTransform._matMdf) {\n        mat = this.finalTransform.mProp.v.props;\n        finalMat.cloneFromProps(mat);\n        for (i = 0; i < len; i += 1) {\n          mat = this.hierarchy[i].finalTransform.mProp.v.props;\n          finalMat.transform(mat[0], mat[1], mat[2], mat[3], mat[4], mat[5], mat[6], mat[7], mat[8], mat[9], mat[10], mat[11], mat[12], mat[13], mat[14], mat[15]);\n        }\n      }\n    }\n  },\n  globalToLocal: function (pt) {\n    var transforms = [];\n    transforms.push(this.finalTransform);\n    var flag = true;\n    var comp = this.comp;\n    while (flag) {\n      if (comp.finalTransform) {\n        if (comp.data.hasMask) {\n          transforms.splice(0, 0, comp.finalTransform);\n        }\n        comp = comp.comp;\n      } else {\n        flag = false;\n      }\n    }\n    var i;\n    var len = transforms.length;\n    var ptNew;\n    for (i = 0; i < len; i += 1) {\n      ptNew = transforms[i].mat.applyToPointArray(0, 0, 0);\n      // ptNew = transforms[i].mat.applyToPointArray(pt[0],pt[1],pt[2]);\n      pt = [pt[0] - ptNew[0], pt[1] - ptNew[1], 0];\n    }\n    return pt;\n  },\n  mHelper: new Matrix(),\n};\n\nfunction MaskElement(data, element, globalData) {\n  this.data = data;\n  this.element = element;\n  this.globalData = globalData;\n  this.storedData = [];\n  this.masksProperties = this.data.masksProperties || [];\n  this.maskElement = null;\n  var defs = this.globalData.defs;\n  var i;\n  var len = this.masksProperties ? this.masksProperties.length : 0;\n  this.viewData = createSizedArray(len);\n  this.solidPath = '';\n\n  var path;\n  var properties = this.masksProperties;\n  var count = 0;\n  var currentMasks = [];\n  var j;\n  var jLen;\n  var layerId = createElementID();\n  var rect;\n  var expansor;\n  var feMorph;\n  var x;\n  var maskType = 'clipPath';\n  var maskRef = 'clip-path';\n  for (i = 0; i < len; i += 1) {\n    if ((properties[i].mode !== 'a' && properties[i].mode !== 'n') || properties[i].inv || properties[i].o.k !== 100 || properties[i].o.x) {\n      maskType = 'mask';\n      maskRef = 'mask';\n    }\n\n    if ((properties[i].mode === 's' || properties[i].mode === 'i') && count === 0) {\n      rect = createNS('rect');\n      rect.setAttribute('fill', '#ffffff');\n      rect.setAttribute('width', this.element.comp.data.w || 0);\n      rect.setAttribute('height', this.element.comp.data.h || 0);\n      currentMasks.push(rect);\n    } else {\n      rect = null;\n    }\n\n    path = createNS('path');\n    if (properties[i].mode === 'n') {\n      // TODO move this to a factory or to a constructor\n      this.viewData[i] = {\n        op: PropertyFactory.getProp(this.element, properties[i].o, 0, 0.01, this.element),\n        prop: ShapePropertyFactory.getShapeProp(this.element, properties[i], 3),\n        elem: path,\n        lastPath: '',\n      };\n      defs.appendChild(path);\n    } else {\n      count += 1;\n\n      path.setAttribute('fill', properties[i].mode === 's' ? '#000000' : '#ffffff');\n      path.setAttribute('clip-rule', 'nonzero');\n      var filterID;\n\n      if (properties[i].x.k !== 0) {\n        maskType = 'mask';\n        maskRef = 'mask';\n        x = PropertyFactory.getProp(this.element, properties[i].x, 0, null, this.element);\n        filterID = createElementID();\n        expansor = createNS('filter');\n        expansor.setAttribute('id', filterID);\n        feMorph = createNS('feMorphology');\n        feMorph.setAttribute('operator', 'erode');\n        feMorph.setAttribute('in', 'SourceGraphic');\n        feMorph.setAttribute('radius', '0');\n        expansor.appendChild(feMorph);\n        defs.appendChild(expansor);\n        path.setAttribute('stroke', properties[i].mode === 's' ? '#000000' : '#ffffff');\n      } else {\n        feMorph = null;\n        x = null;\n      }\n\n      // TODO move this to a factory or to a constructor\n      this.storedData[i] = {\n        elem: path,\n        x: x,\n        expan: feMorph,\n        lastPath: '',\n        lastOperator: '',\n        filterId: filterID,\n        lastRadius: 0,\n      };\n      if (properties[i].mode === 'i') {\n        jLen = currentMasks.length;\n        var g = createNS('g');\n        for (j = 0; j < jLen; j += 1) {\n          g.appendChild(currentMasks[j]);\n        }\n        var mask = createNS('mask');\n        mask.setAttribute('mask-type', 'alpha');\n        mask.setAttribute('id', layerId + '_' + count);\n        mask.appendChild(path);\n        defs.appendChild(mask);\n        g.setAttribute('mask', 'url(' + getLocationHref() + '#' + layerId + '_' + count + ')');\n\n        currentMasks.length = 0;\n        currentMasks.push(g);\n      } else {\n        currentMasks.push(path);\n      }\n      if (properties[i].inv && !this.solidPath) {\n        this.solidPath = this.createLayerSolidPath();\n      }\n      // TODO move this to a factory or to a constructor\n      this.viewData[i] = {\n        elem: path,\n        lastPath: '',\n        op: PropertyFactory.getProp(this.element, properties[i].o, 0, 0.01, this.element),\n        prop: ShapePropertyFactory.getShapeProp(this.element, properties[i], 3),\n        invRect: rect,\n      };\n      if (!this.viewData[i].prop.k) {\n        this.drawPath(properties[i], this.viewData[i].prop.v, this.viewData[i]);\n      }\n    }\n  }\n\n  this.maskElement = createNS(maskType);\n\n  len = currentMasks.length;\n  for (i = 0; i < len; i += 1) {\n    this.maskElement.appendChild(currentMasks[i]);\n  }\n\n  if (count > 0) {\n    this.maskElement.setAttribute('id', layerId);\n    this.element.maskedElement.setAttribute(maskRef, 'url(' + getLocationHref() + '#' + layerId + ')');\n    defs.appendChild(this.maskElement);\n  }\n  if (this.viewData.length) {\n    this.element.addRenderableComponent(this);\n  }\n}\n\nMaskElement.prototype.getMaskProperty = function (pos) {\n  return this.viewData[pos].prop;\n};\n\nMaskElement.prototype.renderFrame = function (isFirstFrame) {\n  var finalMat = this.element.finalTransform.mat;\n  var i;\n  var len = this.masksProperties.length;\n  for (i = 0; i < len; i += 1) {\n    if (this.viewData[i].prop._mdf || isFirstFrame) {\n      this.drawPath(this.masksProperties[i], this.viewData[i].prop.v, this.viewData[i]);\n    }\n    if (this.viewData[i].op._mdf || isFirstFrame) {\n      this.viewData[i].elem.setAttribute('fill-opacity', this.viewData[i].op.v);\n    }\n    if (this.masksProperties[i].mode !== 'n') {\n      if (this.viewData[i].invRect && (this.element.finalTransform.mProp._mdf || isFirstFrame)) {\n        this.viewData[i].invRect.setAttribute('transform', finalMat.getInverseMatrix().to2dCSS());\n      }\n      if (this.storedData[i].x && (this.storedData[i].x._mdf || isFirstFrame)) {\n        var feMorph = this.storedData[i].expan;\n        if (this.storedData[i].x.v < 0) {\n          if (this.storedData[i].lastOperator !== 'erode') {\n            this.storedData[i].lastOperator = 'erode';\n            this.storedData[i].elem.setAttribute('filter', 'url(' + getLocationHref() + '#' + this.storedData[i].filterId + ')');\n          }\n          feMorph.setAttribute('radius', -this.storedData[i].x.v);\n        } else {\n          if (this.storedData[i].lastOperator !== 'dilate') {\n            this.storedData[i].lastOperator = 'dilate';\n            this.storedData[i].elem.setAttribute('filter', null);\n          }\n          this.storedData[i].elem.setAttribute('stroke-width', this.storedData[i].x.v * 2);\n        }\n      }\n    }\n  }\n};\n\nMaskElement.prototype.getMaskelement = function () {\n  return this.maskElement;\n};\n\nMaskElement.prototype.createLayerSolidPath = function () {\n  var path = 'M0,0 ';\n  path += ' h' + this.globalData.compSize.w;\n  path += ' v' + this.globalData.compSize.h;\n  path += ' h-' + this.globalData.compSize.w;\n  path += ' v-' + this.globalData.compSize.h + ' ';\n  return path;\n};\n\nMaskElement.prototype.drawPath = function (pathData, pathNodes, viewData) {\n  var pathString = ' M' + pathNodes.v[0][0] + ',' + pathNodes.v[0][1];\n  var i;\n  var len;\n  len = pathNodes._length;\n  for (i = 1; i < len; i += 1) {\n    // pathString += \" C\"+pathNodes.o[i-1][0]+','+pathNodes.o[i-1][1] + \" \"+pathNodes.i[i][0]+','+pathNodes.i[i][1] + \" \"+pathNodes.v[i][0]+','+pathNodes.v[i][1];\n    pathString += ' C' + pathNodes.o[i - 1][0] + ',' + pathNodes.o[i - 1][1] + ' ' + pathNodes.i[i][0] + ',' + pathNodes.i[i][1] + ' ' + pathNodes.v[i][0] + ',' + pathNodes.v[i][1];\n  }\n  // pathString += \" C\"+pathNodes.o[i-1][0]+','+pathNodes.o[i-1][1] + \" \"+pathNodes.i[0][0]+','+pathNodes.i[0][1] + \" \"+pathNodes.v[0][0]+','+pathNodes.v[0][1];\n  if (pathNodes.c && len > 1) {\n    pathString += ' C' + pathNodes.o[i - 1][0] + ',' + pathNodes.o[i - 1][1] + ' ' + pathNodes.i[0][0] + ',' + pathNodes.i[0][1] + ' ' + pathNodes.v[0][0] + ',' + pathNodes.v[0][1];\n  }\n  // pathNodes.__renderedString = pathString;\n\n  if (viewData.lastPath !== pathString) {\n    var pathShapeValue = '';\n    if (viewData.elem) {\n      if (pathNodes.c) {\n        pathShapeValue = pathData.inv ? this.solidPath + pathString : pathString;\n      }\n      viewData.elem.setAttribute('d', pathShapeValue);\n    }\n    viewData.lastPath = pathString;\n  }\n};\n\nMaskElement.prototype.destroy = function () {\n  this.element = null;\n  this.globalData = null;\n  this.maskElement = null;\n  this.data = null;\n  this.masksProperties = null;\n};\n\nconst filtersFactory = (function () {\n  var ob = {};\n  ob.createFilter = createFilter;\n  ob.createAlphaToLuminanceFilter = createAlphaToLuminanceFilter;\n\n  function createFilter(filId, skipCoordinates) {\n    var fil = createNS('filter');\n    fil.setAttribute('id', filId);\n    if (skipCoordinates !== true) {\n      fil.setAttribute('filterUnits', 'objectBoundingBox');\n      fil.setAttribute('x', '0%');\n      fil.setAttribute('y', '0%');\n      fil.setAttribute('width', '100%');\n      fil.setAttribute('height', '100%');\n    }\n    return fil;\n  }\n\n  function createAlphaToLuminanceFilter() {\n    var feColorMatrix = createNS('feColorMatrix');\n    feColorMatrix.setAttribute('type', 'matrix');\n    feColorMatrix.setAttribute('color-interpolation-filters', 'sRGB');\n    feColorMatrix.setAttribute('values', '0 0 0 1 0  0 0 0 1 0  0 0 0 1 0  0 0 0 1 1');\n    return feColorMatrix;\n  }\n\n  return ob;\n}());\n\nconst featureSupport = (function () {\n  var ob = {\n    maskType: true,\n  };\n  if (/MSIE 10/i.test(navigator.userAgent) || /MSIE 9/i.test(navigator.userAgent) || /rv:11.0/i.test(navigator.userAgent) || /Edge\\/\\d./i.test(navigator.userAgent)) {\n    ob.maskType = false;\n  }\n  return ob;\n}());\n\nvar registeredEffects = {};\nvar idPrefix = 'filter_result_';\n\nfunction SVGEffects(elem) {\n  var i;\n  var source = 'SourceGraphic';\n  var len = elem.data.ef ? elem.data.ef.length : 0;\n  var filId = createElementID();\n  var fil = filtersFactory.createFilter(filId, true);\n  var count = 0;\n  this.filters = [];\n  var filterManager;\n  for (i = 0; i < len; i += 1) {\n    filterManager = null;\n    var type = elem.data.ef[i].ty;\n    if (registeredEffects[type]) {\n      var Effect = registeredEffects[type].effect;\n      filterManager = new Effect(fil, elem.effectsManager.effectElements[i], elem, idPrefix + count, source);\n      source = idPrefix + count;\n      if (registeredEffects[type].countsAsEffect) {\n        count += 1;\n      }\n    }\n    if (filterManager) {\n      this.filters.push(filterManager);\n    }\n  }\n  if (count) {\n    elem.globalData.defs.appendChild(fil);\n    elem.layerElement.setAttribute('filter', 'url(' + getLocationHref() + '#' + filId + ')');\n  }\n  if (this.filters.length) {\n    elem.addRenderableComponent(this);\n  }\n}\n\nSVGEffects.prototype.renderFrame = function (_isFirstFrame) {\n  var i;\n  var len = this.filters.length;\n  for (i = 0; i < len; i += 1) {\n    this.filters[i].renderFrame(_isFirstFrame);\n  }\n};\n\nfunction registerEffect(id, effect, countsAsEffect) {\n  registeredEffects[id] = {\n    effect,\n    countsAsEffect,\n  };\n}\n\nfunction SVGBaseElement() {\n}\n\nSVGBaseElement.prototype = {\n  initRendererElement: function () {\n    this.layerElement = createNS('g');\n  },\n  createContainerElements: function () {\n    this.matteElement = createNS('g');\n    this.transformedElement = this.layerElement;\n    this.maskedElement = this.layerElement;\n    this._sizeChanged = false;\n    var layerElementParent = null;\n    // If this layer acts as a mask for the following layer\n    var filId;\n    var fil;\n    var gg;\n    if (this.data.td) {\n      if (this.data.td == 3 || this.data.td == 1) { // eslint-disable-line eqeqeq\n        var masker = createNS('mask');\n        masker.setAttribute('id', this.layerId);\n        masker.setAttribute('mask-type', this.data.td == 3 ? 'luminance' : 'alpha'); // eslint-disable-line eqeqeq\n        masker.appendChild(this.layerElement);\n        layerElementParent = masker;\n        this.globalData.defs.appendChild(masker);\n        // This is only for IE and Edge when mask if of type alpha\n        if (!featureSupport.maskType && this.data.td == 1) { // eslint-disable-line eqeqeq\n          masker.setAttribute('mask-type', 'luminance');\n          filId = createElementID();\n          fil = filtersFactory.createFilter(filId);\n          this.globalData.defs.appendChild(fil);\n          fil.appendChild(filtersFactory.createAlphaToLuminanceFilter());\n          gg = createNS('g');\n          gg.appendChild(this.layerElement);\n          layerElementParent = gg;\n          masker.appendChild(gg);\n          gg.setAttribute('filter', 'url(' + getLocationHref() + '#' + filId + ')');\n        }\n      } else if (this.data.td == 2) { // eslint-disable-line eqeqeq\n        var maskGroup = createNS('mask');\n        maskGroup.setAttribute('id', this.layerId);\n        maskGroup.setAttribute('mask-type', 'alpha');\n        var maskGrouper = createNS('g');\n        maskGroup.appendChild(maskGrouper);\n        filId = createElementID();\n        fil = filtersFactory.createFilter(filId);\n        /// /\n\n        // This solution doesn't work on Android when meta tag with viewport attribute is set\n        /* var feColorMatrix = createNS('feColorMatrix');\n                feColorMatrix.setAttribute('type', 'matrix');\n                feColorMatrix.setAttribute('color-interpolation-filters', 'sRGB');\n                feColorMatrix.setAttribute('values','1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 -1 1');\n                fil.appendChild(feColorMatrix); */\n        /// /\n        var feCTr = createNS('feComponentTransfer');\n        feCTr.setAttribute('in', 'SourceGraphic');\n        fil.appendChild(feCTr);\n        var feFunc = createNS('feFuncA');\n        feFunc.setAttribute('type', 'table');\n        feFunc.setAttribute('tableValues', '1.0 0.0');\n        feCTr.appendChild(feFunc);\n        /// /\n        this.globalData.defs.appendChild(fil);\n        var alphaRect = createNS('rect');\n        alphaRect.setAttribute('width', this.comp.data.w);\n        alphaRect.setAttribute('height', this.comp.data.h);\n        alphaRect.setAttribute('x', '0');\n        alphaRect.setAttribute('y', '0');\n        alphaRect.setAttribute('fill', '#ffffff');\n        alphaRect.setAttribute('opacity', '0');\n        maskGrouper.setAttribute('filter', 'url(' + getLocationHref() + '#' + filId + ')');\n        maskGrouper.appendChild(alphaRect);\n        maskGrouper.appendChild(this.layerElement);\n        layerElementParent = maskGrouper;\n        if (!featureSupport.maskType) {\n          maskGroup.setAttribute('mask-type', 'luminance');\n          fil.appendChild(filtersFactory.createAlphaToLuminanceFilter());\n          gg = createNS('g');\n          maskGrouper.appendChild(alphaRect);\n          gg.appendChild(this.layerElement);\n          layerElementParent = gg;\n          maskGrouper.appendChild(gg);\n        }\n        this.globalData.defs.appendChild(maskGroup);\n      }\n    } else if (this.data.tt) {\n      this.matteElement.appendChild(this.layerElement);\n      layerElementParent = this.matteElement;\n      this.baseElement = this.matteElement;\n    } else {\n      this.baseElement = this.layerElement;\n    }\n    if (this.data.ln) {\n      this.layerElement.setAttribute('id', this.data.ln);\n    }\n    if (this.data.cl) {\n      this.layerElement.setAttribute('class', this.data.cl);\n    }\n    // Clipping compositions to hide content that exceeds boundaries. If collapsed transformations is on, component should not be clipped\n    if (this.data.ty === 0 && !this.data.hd) {\n      var cp = createNS('clipPath');\n      var pt = createNS('path');\n      pt.setAttribute('d', 'M0,0 L' + this.data.w + ',0 L' + this.data.w + ',' + this.data.h + ' L0,' + this.data.h + 'z');\n      var clipId = createElementID();\n      cp.setAttribute('id', clipId);\n      cp.appendChild(pt);\n      this.globalData.defs.appendChild(cp);\n\n      if (this.checkMasks()) {\n        var cpGroup = createNS('g');\n        cpGroup.setAttribute('clip-path', 'url(' + getLocationHref() + '#' + clipId + ')');\n        cpGroup.appendChild(this.layerElement);\n        this.transformedElement = cpGroup;\n        if (layerElementParent) {\n          layerElementParent.appendChild(this.transformedElement);\n        } else {\n          this.baseElement = this.transformedElement;\n        }\n      } else {\n        this.layerElement.setAttribute('clip-path', 'url(' + getLocationHref() + '#' + clipId + ')');\n      }\n    }\n    if (this.data.bm !== 0) {\n      this.setBlendMode();\n    }\n  },\n  renderElement: function () {\n    if (this.finalTransform._matMdf) {\n      this.transformedElement.setAttribute('transform', this.finalTransform.mat.to2dCSS());\n    }\n    if (this.finalTransform._opMdf) {\n      this.transformedElement.setAttribute('opacity', this.finalTransform.mProp.o.v);\n    }\n  },\n  destroyBaseElement: function () {\n    this.layerElement = null;\n    this.matteElement = null;\n    this.maskManager.destroy();\n  },\n  getBaseElement: function () {\n    if (this.data.hd) {\n      return null;\n    }\n    return this.baseElement;\n  },\n  createRenderableComponents: function () {\n    this.maskManager = new MaskElement(this.data, this, this.globalData);\n    this.renderableEffectsManager = new SVGEffects(this);\n  },\n  setMatte: function (id) {\n    if (!this.matteElement) {\n      return;\n    }\n    this.matteElement.setAttribute('mask', 'url(' + getLocationHref() + '#' + id + ')');\n  },\n};\n\n/**\n * @file\n * Handles AE's layer parenting property.\n *\n */\n\nfunction HierarchyElement() {}\n\nHierarchyElement.prototype = {\n  /**\n     * @function\n     * Initializes hierarchy properties\n     *\n     */\n  initHierarchy: function () {\n    // element's parent list\n    this.hierarchy = [];\n    // if element is parent of another layer _isParent will be true\n    this._isParent = false;\n    this.checkParenting();\n  },\n  /**\n     * @function\n     * Sets layer's hierarchy.\n     * @param {array} hierarch\n     * layer's parent list\n     *\n     */\n  setHierarchy: function (hierarchy) {\n    this.hierarchy = hierarchy;\n  },\n  /**\n     * @function\n     * Sets layer as parent.\n     *\n     */\n  setAsParent: function () {\n    this._isParent = true;\n  },\n  /**\n     * @function\n     * Searches layer's parenting chain\n     *\n     */\n  checkParenting: function () {\n    if (this.data.parent !== undefined) {\n      this.comp.buildElementParenting(this, this.data.parent, []);\n    }\n  },\n};\n\nfunction RenderableDOMElement() {}\n\n(function () {\n  var _prototype = {\n    initElement: function (data, globalData, comp) {\n      this.initFrame();\n      this.initBaseData(data, globalData, comp);\n      this.initTransform(data, globalData, comp);\n      this.initHierarchy();\n      this.initRenderable();\n      this.initRendererElement();\n      this.createContainerElements();\n      this.createRenderableComponents();\n      this.createContent();\n      this.hide();\n    },\n    hide: function () {\n      // console.log('HIDE', this);\n      if (!this.hidden && (!this.isInRange || this.isTransparent)) {\n        var elem = this.baseElement || this.layerElement;\n        elem.style.display = 'none';\n        this.hidden = true;\n      }\n    },\n    show: function () {\n      // console.log('SHOW', this);\n      if (this.isInRange && !this.isTransparent) {\n        if (!this.data.hd) {\n          var elem = this.baseElement || this.layerElement;\n          elem.style.display = 'block';\n        }\n        this.hidden = false;\n        this._isFirstFrame = true;\n      }\n    },\n    renderFrame: function () {\n      // If it is exported as hidden (data.hd === true) no need to render\n      // If it is not visible no need to render\n      if (this.data.hd || this.hidden) {\n        return;\n      }\n      this.renderTransform();\n      this.renderRenderable();\n      this.renderElement();\n      this.renderInnerContent();\n      if (this._isFirstFrame) {\n        this._isFirstFrame = false;\n      }\n    },\n    renderInnerContent: function () {},\n    prepareFrame: function (num) {\n      this._mdf = false;\n      this.prepareRenderableFrame(num);\n      this.prepareProperties(num, this.isInRange);\n      this.checkTransparency();\n    },\n    destroy: function () {\n      this.innerElem = null;\n      this.destroyBaseElement();\n    },\n  };\n  extendPrototype([RenderableElement, createProxyFunction(_prototype)], RenderableDOMElement);\n}());\n\nfunction IImageElement(data, globalData, comp) {\n  this.assetData = globalData.getAssetData(data.refId);\n  this.initElement(data, globalData, comp);\n  this.sourceRect = {\n    top: 0, left: 0, width: this.assetData.w, height: this.assetData.h,\n  };\n}\n\nextendPrototype([BaseElement, TransformElement, SVGBaseElement, HierarchyElement, FrameElement, RenderableDOMElement], IImageElement);\n\nIImageElement.prototype.createContent = function () {\n  var assetPath = this.globalData.getAssetsPath(this.assetData);\n\n  this.innerElem = createNS('image');\n  this.innerElem.setAttribute('width', this.assetData.w + 'px');\n  this.innerElem.setAttribute('height', this.assetData.h + 'px');\n  this.innerElem.setAttribute('preserveAspectRatio', this.assetData.pr || this.globalData.renderConfig.imagePreserveAspectRatio);\n  this.innerElem.setAttributeNS('http://www.w3.org/1999/xlink', 'href', assetPath);\n\n  this.layerElement.appendChild(this.innerElem);\n};\n\nIImageElement.prototype.sourceRectAtTime = function () {\n  return this.sourceRect;\n};\n\nfunction ProcessedElement(element, position) {\n  this.elem = element;\n  this.pos = position;\n}\n\nfunction IShapeElement() {\n}\n\nIShapeElement.prototype = {\n  addShapeToModifiers: function (data) {\n    var i;\n    var len = this.shapeModifiers.length;\n    for (i = 0; i < len; i += 1) {\n      this.shapeModifiers[i].addShape(data);\n    }\n  },\n  isShapeInAnimatedModifiers: function (data) {\n    var i = 0;\n    var len = this.shapeModifiers.length;\n    while (i < len) {\n      if (this.shapeModifiers[i].isAnimatedWithShape(data)) {\n        return true;\n      }\n    }\n    return false;\n  },\n  renderModifiers: function () {\n    if (!this.shapeModifiers.length) {\n      return;\n    }\n    var i;\n    var len = this.shapes.length;\n    for (i = 0; i < len; i += 1) {\n      this.shapes[i].sh.reset();\n    }\n\n    len = this.shapeModifiers.length;\n    var shouldBreakProcess;\n    for (i = len - 1; i >= 0; i -= 1) {\n      shouldBreakProcess = this.shapeModifiers[i].processShapes(this._isFirstFrame);\n      // workaround to fix cases where a repeater resets the shape so the following processes get called twice\n      // TODO: find a better solution for this\n      if (shouldBreakProcess) {\n        break;\n      }\n    }\n  },\n\n  searchProcessedElement: function (elem) {\n    var elements = this.processedElements;\n    var i = 0;\n    var len = elements.length;\n    while (i < len) {\n      if (elements[i].elem === elem) {\n        return elements[i].pos;\n      }\n      i += 1;\n    }\n    return 0;\n  },\n  addProcessedElement: function (elem, pos) {\n    var elements = this.processedElements;\n    var i = elements.length;\n    while (i) {\n      i -= 1;\n      if (elements[i].elem === elem) {\n        elements[i].pos = pos;\n        return;\n      }\n    }\n    elements.push(new ProcessedElement(elem, pos));\n  },\n  prepareFrame: function (num) {\n    this.prepareRenderableFrame(num);\n    this.prepareProperties(num, this.isInRange);\n  },\n};\n\nconst lineCapEnum = {\n  1: 'butt',\n  2: 'round',\n  3: 'square',\n};\n\nconst lineJoinEnum = {\n  1: 'miter',\n  2: 'round',\n  3: 'bevel',\n};\n\nfunction SVGShapeData(transformers, level, shape) {\n  this.caches = [];\n  this.styles = [];\n  this.transformers = transformers;\n  this.lStr = '';\n  this.sh = shape;\n  this.lvl = level;\n  // TODO find if there are some cases where _isAnimated can be false.\n  // For now, since shapes add up with other shapes. They have to be calculated every time.\n  // One way of finding out is checking if all styles associated to this shape depend only of this shape\n  this._isAnimated = !!shape.k;\n  // TODO: commenting this for now since all shapes are animated\n  var i = 0;\n  var len = transformers.length;\n  while (i < len) {\n    if (transformers[i].mProps.dynamicProperties.length) {\n      this._isAnimated = true;\n      break;\n    }\n    i += 1;\n  }\n}\n\nSVGShapeData.prototype.setAsAnimated = function () {\n  this._isAnimated = true;\n};\n\nfunction SVGStyleData(data, level) {\n  this.data = data;\n  this.type = data.ty;\n  this.d = '';\n  this.lvl = level;\n  this._mdf = false;\n  this.closed = data.hd === true;\n  this.pElem = createNS('path');\n  this.msElem = null;\n}\n\nSVGStyleData.prototype.reset = function () {\n  this.d = '';\n  this._mdf = false;\n};\n\nfunction DashProperty(elem, data, renderer, container) {\n  this.elem = elem;\n  this.frameId = -1;\n  this.dataProps = createSizedArray(data.length);\n  this.renderer = renderer;\n  this.k = false;\n  this.dashStr = '';\n  this.dashArray = createTypedArray('float32', data.length ? data.length - 1 : 0);\n  this.dashoffset = createTypedArray('float32', 1);\n  this.initDynamicPropertyContainer(container);\n  var i;\n  var len = data.length || 0;\n  var prop;\n  for (i = 0; i < len; i += 1) {\n    prop = PropertyFactory.getProp(elem, data[i].v, 0, 0, this);\n    this.k = prop.k || this.k;\n    this.dataProps[i] = { n: data[i].n, p: prop };\n  }\n  if (!this.k) {\n    this.getValue(true);\n  }\n  this._isAnimated = this.k;\n}\n\nDashProperty.prototype.getValue = function (forceRender) {\n  if (this.elem.globalData.frameId === this.frameId && !forceRender) {\n    return;\n  }\n  this.frameId = this.elem.globalData.frameId;\n  this.iterateDynamicProperties();\n  this._mdf = this._mdf || forceRender;\n  if (this._mdf) {\n    var i = 0;\n    var len = this.dataProps.length;\n    if (this.renderer === 'svg') {\n      this.dashStr = '';\n    }\n    for (i = 0; i < len; i += 1) {\n      if (this.dataProps[i].n !== 'o') {\n        if (this.renderer === 'svg') {\n          this.dashStr += ' ' + this.dataProps[i].p.v;\n        } else {\n          this.dashArray[i] = this.dataProps[i].p.v;\n        }\n      } else {\n        this.dashoffset[0] = this.dataProps[i].p.v;\n      }\n    }\n  }\n};\nextendPrototype([DynamicPropertyContainer], DashProperty);\n\nfunction SVGStrokeStyleData(elem, data, styleOb) {\n  this.initDynamicPropertyContainer(elem);\n  this.getValue = this.iterateDynamicProperties;\n  this.o = PropertyFactory.getProp(elem, data.o, 0, 0.01, this);\n  this.w = PropertyFactory.getProp(elem, data.w, 0, null, this);\n  this.d = new DashProperty(elem, data.d || {}, 'svg', this);\n  this.c = PropertyFactory.getProp(elem, data.c, 1, 255, this);\n  this.style = styleOb;\n  this._isAnimated = !!this._isAnimated;\n}\n\nextendPrototype([DynamicPropertyContainer], SVGStrokeStyleData);\n\nfunction SVGFillStyleData(elem, data, styleOb) {\n  this.initDynamicPropertyContainer(elem);\n  this.getValue = this.iterateDynamicProperties;\n  this.o = PropertyFactory.getProp(elem, data.o, 0, 0.01, this);\n  this.c = PropertyFactory.getProp(elem, data.c, 1, 255, this);\n  this.style = styleOb;\n}\n\nextendPrototype([DynamicPropertyContainer], SVGFillStyleData);\n\nfunction SVGNoStyleData(elem, data, styleOb) {\n  this.initDynamicPropertyContainer(elem);\n  this.getValue = this.iterateDynamicProperties;\n  this.style = styleOb;\n}\n\nextendPrototype([DynamicPropertyContainer], SVGNoStyleData);\n\nfunction GradientProperty(elem, data, container) {\n  this.data = data;\n  this.c = createTypedArray('uint8c', data.p * 4);\n  var cLength = data.k.k[0].s ? (data.k.k[0].s.length - data.p * 4) : data.k.k.length - data.p * 4;\n  this.o = createTypedArray('float32', cLength);\n  this._cmdf = false;\n  this._omdf = false;\n  this._collapsable = this.checkCollapsable();\n  this._hasOpacity = cLength;\n  this.initDynamicPropertyContainer(container);\n  this.prop = PropertyFactory.getProp(elem, data.k, 1, null, this);\n  this.k = this.prop.k;\n  this.getValue(true);\n}\n\nGradientProperty.prototype.comparePoints = function (values, points) {\n  var i = 0;\n  var len = this.o.length / 2;\n  var diff;\n  while (i < len) {\n    diff = Math.abs(values[i * 4] - values[points * 4 + i * 2]);\n    if (diff > 0.01) {\n      return false;\n    }\n    i += 1;\n  }\n  return true;\n};\n\nGradientProperty.prototype.checkCollapsable = function () {\n  if (this.o.length / 2 !== this.c.length / 4) {\n    return false;\n  }\n  if (this.data.k.k[0].s) {\n    var i = 0;\n    var len = this.data.k.k.length;\n    while (i < len) {\n      if (!this.comparePoints(this.data.k.k[i].s, this.data.p)) {\n        return false;\n      }\n      i += 1;\n    }\n  } else if (!this.comparePoints(this.data.k.k, this.data.p)) {\n    return false;\n  }\n  return true;\n};\n\nGradientProperty.prototype.getValue = function (forceRender) {\n  this.prop.getValue();\n  this._mdf = false;\n  this._cmdf = false;\n  this._omdf = false;\n  if (this.prop._mdf || forceRender) {\n    var i;\n    var len = this.data.p * 4;\n    var mult;\n    var val;\n    for (i = 0; i < len; i += 1) {\n      mult = i % 4 === 0 ? 100 : 255;\n      val = Math.round(this.prop.v[i] * mult);\n      if (this.c[i] !== val) {\n        this.c[i] = val;\n        this._cmdf = !forceRender;\n      }\n    }\n    if (this.o.length) {\n      len = this.prop.v.length;\n      for (i = this.data.p * 4; i < len; i += 1) {\n        mult = i % 2 === 0 ? 100 : 1;\n        val = i % 2 === 0 ? Math.round(this.prop.v[i] * 100) : this.prop.v[i];\n        if (this.o[i - this.data.p * 4] !== val) {\n          this.o[i - this.data.p * 4] = val;\n          this._omdf = !forceRender;\n        }\n      }\n    }\n    this._mdf = !forceRender;\n  }\n};\n\nextendPrototype([DynamicPropertyContainer], GradientProperty);\n\nfunction SVGGradientFillStyleData(elem, data, styleOb) {\n  this.initDynamicPropertyContainer(elem);\n  this.getValue = this.iterateDynamicProperties;\n  this.initGradientData(elem, data, styleOb);\n}\n\nSVGGradientFillStyleData.prototype.initGradientData = function (elem, data, styleOb) {\n  this.o = PropertyFactory.getProp(elem, data.o, 0, 0.01, this);\n  this.s = PropertyFactory.getProp(elem, data.s, 1, null, this);\n  this.e = PropertyFactory.getProp(elem, data.e, 1, null, this);\n  this.h = PropertyFactory.getProp(elem, data.h || { k: 0 }, 0, 0.01, this);\n  this.a = PropertyFactory.getProp(elem, data.a || { k: 0 }, 0, degToRads, this);\n  this.g = new GradientProperty(elem, data.g, this);\n  this.style = styleOb;\n  this.stops = [];\n  this.setGradientData(styleOb.pElem, data);\n  this.setGradientOpacity(data, styleOb);\n  this._isAnimated = !!this._isAnimated;\n};\n\nSVGGradientFillStyleData.prototype.setGradientData = function (pathElement, data) {\n  var gradientId = createElementID();\n  var gfill = createNS(data.t === 1 ? 'linearGradient' : 'radialGradient');\n  gfill.setAttribute('id', gradientId);\n  gfill.setAttribute('spreadMethod', 'pad');\n  gfill.setAttribute('gradientUnits', 'userSpaceOnUse');\n  var stops = [];\n  var stop;\n  var j;\n  var jLen;\n  jLen = data.g.p * 4;\n  for (j = 0; j < jLen; j += 4) {\n    stop = createNS('stop');\n    gfill.appendChild(stop);\n    stops.push(stop);\n  }\n  pathElement.setAttribute(data.ty === 'gf' ? 'fill' : 'stroke', 'url(' + getLocationHref() + '#' + gradientId + ')');\n  this.gf = gfill;\n  this.cst = stops;\n};\n\nSVGGradientFillStyleData.prototype.setGradientOpacity = function (data, styleOb) {\n  if (this.g._hasOpacity && !this.g._collapsable) {\n    var stop;\n    var j;\n    var jLen;\n    var mask = createNS('mask');\n    var maskElement = createNS('path');\n    mask.appendChild(maskElement);\n    var opacityId = createElementID();\n    var maskId = createElementID();\n    mask.setAttribute('id', maskId);\n    var opFill = createNS(data.t === 1 ? 'linearGradient' : 'radialGradient');\n    opFill.setAttribute('id', opacityId);\n    opFill.setAttribute('spreadMethod', 'pad');\n    opFill.setAttribute('gradientUnits', 'userSpaceOnUse');\n    jLen = data.g.k.k[0].s ? data.g.k.k[0].s.length : data.g.k.k.length;\n    var stops = this.stops;\n    for (j = data.g.p * 4; j < jLen; j += 2) {\n      stop = createNS('stop');\n      stop.setAttribute('stop-color', 'rgb(255,255,255)');\n      opFill.appendChild(stop);\n      stops.push(stop);\n    }\n    maskElement.setAttribute(data.ty === 'gf' ? 'fill' : 'stroke', 'url(' + getLocationHref() + '#' + opacityId + ')');\n    if (data.ty === 'gs') {\n      maskElement.setAttribute('stroke-linecap', lineCapEnum[data.lc || 2]);\n      maskElement.setAttribute('stroke-linejoin', lineJoinEnum[data.lj || 2]);\n      if (data.lj === 1) {\n        maskElement.setAttribute('stroke-miterlimit', data.ml);\n      }\n    }\n    this.of = opFill;\n    this.ms = mask;\n    this.ost = stops;\n    this.maskId = maskId;\n    styleOb.msElem = maskElement;\n  }\n};\n\nextendPrototype([DynamicPropertyContainer], SVGGradientFillStyleData);\n\nfunction SVGGradientStrokeStyleData(elem, data, styleOb) {\n  this.initDynamicPropertyContainer(elem);\n  this.getValue = this.iterateDynamicProperties;\n  this.w = PropertyFactory.getProp(elem, data.w, 0, null, this);\n  this.d = new DashProperty(elem, data.d || {}, 'svg', this);\n  this.initGradientData(elem, data, styleOb);\n  this._isAnimated = !!this._isAnimated;\n}\n\nextendPrototype([SVGGradientFillStyleData, DynamicPropertyContainer], SVGGradientStrokeStyleData);\n\nfunction ShapeGroupData() {\n  this.it = [];\n  this.prevViewData = [];\n  this.gr = createNS('g');\n}\n\nfunction SVGTransformData(mProps, op, container) {\n  this.transform = {\n    mProps: mProps,\n    op: op,\n    container: container,\n  };\n  this.elements = [];\n  this._isAnimated = this.transform.mProps.dynamicProperties.length || this.transform.op.effectsSequence.length;\n}\n\nconst buildShapeString = function (pathNodes, length, closed, mat) {\n  if (length === 0) {\n    return '';\n  }\n  var _o = pathNodes.o;\n  var _i = pathNodes.i;\n  var _v = pathNodes.v;\n  var i;\n  var shapeString = ' M' + mat.applyToPointStringified(_v[0][0], _v[0][1]);\n  for (i = 1; i < length; i += 1) {\n    shapeString += ' C' + mat.applyToPointStringified(_o[i - 1][0], _o[i - 1][1]) + ' ' + mat.applyToPointStringified(_i[i][0], _i[i][1]) + ' ' + mat.applyToPointStringified(_v[i][0], _v[i][1]);\n  }\n  if (closed && length) {\n    shapeString += ' C' + mat.applyToPointStringified(_o[i - 1][0], _o[i - 1][1]) + ' ' + mat.applyToPointStringified(_i[0][0], _i[0][1]) + ' ' + mat.applyToPointStringified(_v[0][0], _v[0][1]);\n    shapeString += 'z';\n  }\n  return shapeString;\n};\n\nconst SVGElementsRenderer = (function () {\n  var _identityMatrix = new Matrix();\n  var _matrixHelper = new Matrix();\n\n  var ob = {\n    createRenderFunction: createRenderFunction,\n  };\n\n  function createRenderFunction(data) {\n    switch (data.ty) {\n      case 'fl':\n        return renderFill;\n      case 'gf':\n        return renderGradient;\n      case 'gs':\n        return renderGradientStroke;\n      case 'st':\n        return renderStroke;\n      case 'sh':\n      case 'el':\n      case 'rc':\n      case 'sr':\n        return renderPath;\n      case 'tr':\n        return renderContentTransform;\n      case 'no':\n        return renderNoop;\n      default:\n        return null;\n    }\n  }\n\n  function renderContentTransform(styleData, itemData, isFirstFrame) {\n    if (isFirstFrame || itemData.transform.op._mdf) {\n      itemData.transform.container.setAttribute('opacity', itemData.transform.op.v);\n    }\n    if (isFirstFrame || itemData.transform.mProps._mdf) {\n      itemData.transform.container.setAttribute('transform', itemData.transform.mProps.v.to2dCSS());\n    }\n  }\n\n  function renderNoop() {\n\n  }\n\n  function renderPath(styleData, itemData, isFirstFrame) {\n    var j;\n    var jLen;\n    var pathStringTransformed;\n    var redraw;\n    var pathNodes;\n    var l;\n    var lLen = itemData.styles.length;\n    var lvl = itemData.lvl;\n    var paths;\n    var mat;\n    var props;\n    var iterations;\n    var k;\n    for (l = 0; l < lLen; l += 1) {\n      redraw = itemData.sh._mdf || isFirstFrame;\n      if (itemData.styles[l].lvl < lvl) {\n        mat = _matrixHelper.reset();\n        iterations = lvl - itemData.styles[l].lvl;\n        k = itemData.transformers.length - 1;\n        while (!redraw && iterations > 0) {\n          redraw = itemData.transformers[k].mProps._mdf || redraw;\n          iterations -= 1;\n          k -= 1;\n        }\n        if (redraw) {\n          iterations = lvl - itemData.styles[l].lvl;\n          k = itemData.transformers.length - 1;\n          while (iterations > 0) {\n            props = itemData.transformers[k].mProps.v.props;\n            mat.transform(props[0], props[1], props[2], props[3], props[4], props[5], props[6], props[7], props[8], props[9], props[10], props[11], props[12], props[13], props[14], props[15]);\n            iterations -= 1;\n            k -= 1;\n          }\n        }\n      } else {\n        mat = _identityMatrix;\n      }\n      paths = itemData.sh.paths;\n      jLen = paths._length;\n      if (redraw) {\n        pathStringTransformed = '';\n        for (j = 0; j < jLen; j += 1) {\n          pathNodes = paths.shapes[j];\n          if (pathNodes && pathNodes._length) {\n            pathStringTransformed += buildShapeString(pathNodes, pathNodes._length, pathNodes.c, mat);\n          }\n        }\n        itemData.caches[l] = pathStringTransformed;\n      } else {\n        pathStringTransformed = itemData.caches[l];\n      }\n      itemData.styles[l].d += styleData.hd === true ? '' : pathStringTransformed;\n      itemData.styles[l]._mdf = redraw || itemData.styles[l]._mdf;\n    }\n  }\n\n  function renderFill(styleData, itemData, isFirstFrame) {\n    var styleElem = itemData.style;\n\n    if (itemData.c._mdf || isFirstFrame) {\n      styleElem.pElem.setAttribute('fill', 'rgb(' + bmFloor(itemData.c.v[0]) + ',' + bmFloor(itemData.c.v[1]) + ',' + bmFloor(itemData.c.v[2]) + ')');\n    }\n    if (itemData.o._mdf || isFirstFrame) {\n      styleElem.pElem.setAttribute('fill-opacity', itemData.o.v);\n    }\n  }\n\n  function renderGradientStroke(styleData, itemData, isFirstFrame) {\n    renderGradient(styleData, itemData, isFirstFrame);\n    renderStroke(styleData, itemData, isFirstFrame);\n  }\n\n  function renderGradient(styleData, itemData, isFirstFrame) {\n    var gfill = itemData.gf;\n    var hasOpacity = itemData.g._hasOpacity;\n    var pt1 = itemData.s.v;\n    var pt2 = itemData.e.v;\n\n    if (itemData.o._mdf || isFirstFrame) {\n      var attr = styleData.ty === 'gf' ? 'fill-opacity' : 'stroke-opacity';\n      itemData.style.pElem.setAttribute(attr, itemData.o.v);\n    }\n    if (itemData.s._mdf || isFirstFrame) {\n      var attr1 = styleData.t === 1 ? 'x1' : 'cx';\n      var attr2 = attr1 === 'x1' ? 'y1' : 'cy';\n      gfill.setAttribute(attr1, pt1[0]);\n      gfill.setAttribute(attr2, pt1[1]);\n      if (hasOpacity && !itemData.g._collapsable) {\n        itemData.of.setAttribute(attr1, pt1[0]);\n        itemData.of.setAttribute(attr2, pt1[1]);\n      }\n    }\n    var stops;\n    var i;\n    var len;\n    var stop;\n    if (itemData.g._cmdf || isFirstFrame) {\n      stops = itemData.cst;\n      var cValues = itemData.g.c;\n      len = stops.length;\n      for (i = 0; i < len; i += 1) {\n        stop = stops[i];\n        stop.setAttribute('offset', cValues[i * 4] + '%');\n        stop.setAttribute('stop-color', 'rgb(' + cValues[i * 4 + 1] + ',' + cValues[i * 4 + 2] + ',' + cValues[i * 4 + 3] + ')');\n      }\n    }\n    if (hasOpacity && (itemData.g._omdf || isFirstFrame)) {\n      var oValues = itemData.g.o;\n      if (itemData.g._collapsable) {\n        stops = itemData.cst;\n      } else {\n        stops = itemData.ost;\n      }\n      len = stops.length;\n      for (i = 0; i < len; i += 1) {\n        stop = stops[i];\n        if (!itemData.g._collapsable) {\n          stop.setAttribute('offset', oValues[i * 2] + '%');\n        }\n        stop.setAttribute('stop-opacity', oValues[i * 2 + 1]);\n      }\n    }\n    if (styleData.t === 1) {\n      if (itemData.e._mdf || isFirstFrame) {\n        gfill.setAttribute('x2', pt2[0]);\n        gfill.setAttribute('y2', pt2[1]);\n        if (hasOpacity && !itemData.g._collapsable) {\n          itemData.of.setAttribute('x2', pt2[0]);\n          itemData.of.setAttribute('y2', pt2[1]);\n        }\n      }\n    } else {\n      var rad;\n      if (itemData.s._mdf || itemData.e._mdf || isFirstFrame) {\n        rad = Math.sqrt(Math.pow(pt1[0] - pt2[0], 2) + Math.pow(pt1[1] - pt2[1], 2));\n        gfill.setAttribute('r', rad);\n        if (hasOpacity && !itemData.g._collapsable) {\n          itemData.of.setAttribute('r', rad);\n        }\n      }\n      if (itemData.e._mdf || itemData.h._mdf || itemData.a._mdf || isFirstFrame) {\n        if (!rad) {\n          rad = Math.sqrt(Math.pow(pt1[0] - pt2[0], 2) + Math.pow(pt1[1] - pt2[1], 2));\n        }\n        var ang = Math.atan2(pt2[1] - pt1[1], pt2[0] - pt1[0]);\n\n        var percent = itemData.h.v;\n        if (percent >= 1) {\n          percent = 0.99;\n        } else if (percent <= -1) {\n          percent = -0.99;\n        }\n        var dist = rad * percent;\n        var x = Math.cos(ang + itemData.a.v) * dist + pt1[0];\n        var y = Math.sin(ang + itemData.a.v) * dist + pt1[1];\n        gfill.setAttribute('fx', x);\n        gfill.setAttribute('fy', y);\n        if (hasOpacity && !itemData.g._collapsable) {\n          itemData.of.setAttribute('fx', x);\n          itemData.of.setAttribute('fy', y);\n        }\n      }\n      // gfill.setAttribute('fy','200');\n    }\n  }\n\n  function renderStroke(styleData, itemData, isFirstFrame) {\n    var styleElem = itemData.style;\n    var d = itemData.d;\n    if (d && (d._mdf || isFirstFrame) && d.dashStr) {\n      styleElem.pElem.setAttribute('stroke-dasharray', d.dashStr);\n      styleElem.pElem.setAttribute('stroke-dashoffset', d.dashoffset[0]);\n    }\n    if (itemData.c && (itemData.c._mdf || isFirstFrame)) {\n      styleElem.pElem.setAttribute('stroke', 'rgb(' + bmFloor(itemData.c.v[0]) + ',' + bmFloor(itemData.c.v[1]) + ',' + bmFloor(itemData.c.v[2]) + ')');\n    }\n    if (itemData.o._mdf || isFirstFrame) {\n      styleElem.pElem.setAttribute('stroke-opacity', itemData.o.v);\n    }\n    if (itemData.w._mdf || isFirstFrame) {\n      styleElem.pElem.setAttribute('stroke-width', itemData.w.v);\n      if (styleElem.msElem) {\n        styleElem.msElem.setAttribute('stroke-width', itemData.w.v);\n      }\n    }\n  }\n\n  return ob;\n}());\n\nfunction SVGShapeElement(data, globalData, comp) {\n  // List of drawable elements\n  this.shapes = [];\n  // Full shape data\n  this.shapesData = data.shapes;\n  // List of styles that will be applied to shapes\n  this.stylesList = [];\n  // List of modifiers that will be applied to shapes\n  this.shapeModifiers = [];\n  // List of items in shape tree\n  this.itemsData = [];\n  // List of items in previous shape tree\n  this.processedElements = [];\n  // List of animated components\n  this.animatedContents = [];\n  this.initElement(data, globalData, comp);\n  // Moving any property that doesn't get too much access after initialization because of v8 way of handling more than 10 properties.\n  // List of elements that have been created\n  this.prevViewData = [];\n  // Moving any property that doesn't get too much access after initialization because of v8 way of handling more than 10 properties.\n}\n\nextendPrototype([BaseElement, TransformElement, SVGBaseElement, IShapeElement, HierarchyElement, FrameElement, RenderableDOMElement], SVGShapeElement);\n\nSVGShapeElement.prototype.initSecondaryElement = function () {\n};\n\nSVGShapeElement.prototype.identityMatrix = new Matrix();\n\nSVGShapeElement.prototype.buildExpressionInterface = function () {};\n\nSVGShapeElement.prototype.createContent = function () {\n  this.searchShapes(this.shapesData, this.itemsData, this.prevViewData, this.layerElement, 0, [], true);\n  this.filterUniqueShapes();\n};\n\n/*\nThis method searches for multiple shapes that affect a single element and one of them is animated\n*/\nSVGShapeElement.prototype.filterUniqueShapes = function () {\n  var i;\n  var len = this.shapes.length;\n  var shape;\n  var j;\n  var jLen = this.stylesList.length;\n  var style;\n  var tempShapes = [];\n  var areAnimated = false;\n  for (j = 0; j < jLen; j += 1) {\n    style = this.stylesList[j];\n    areAnimated = false;\n    tempShapes.length = 0;\n    for (i = 0; i < len; i += 1) {\n      shape = this.shapes[i];\n      if (shape.styles.indexOf(style) !== -1) {\n        tempShapes.push(shape);\n        areAnimated = shape._isAnimated || areAnimated;\n      }\n    }\n    if (tempShapes.length > 1 && areAnimated) {\n      this.setShapesAsAnimated(tempShapes);\n    }\n  }\n};\n\nSVGShapeElement.prototype.setShapesAsAnimated = function (shapes) {\n  var i;\n  var len = shapes.length;\n  for (i = 0; i < len; i += 1) {\n    shapes[i].setAsAnimated();\n  }\n};\n\nSVGShapeElement.prototype.createStyleElement = function (data, level) {\n  // TODO: prevent drawing of hidden styles\n  var elementData;\n  var styleOb = new SVGStyleData(data, level);\n\n  var pathElement = styleOb.pElem;\n  if (data.ty === 'st') {\n    elementData = new SVGStrokeStyleData(this, data, styleOb);\n  } else if (data.ty === 'fl') {\n    elementData = new SVGFillStyleData(this, data, styleOb);\n  } else if (data.ty === 'gf' || data.ty === 'gs') {\n    var GradientConstructor = data.ty === 'gf' ? SVGGradientFillStyleData : SVGGradientStrokeStyleData;\n    elementData = new GradientConstructor(this, data, styleOb);\n    this.globalData.defs.appendChild(elementData.gf);\n    if (elementData.maskId) {\n      this.globalData.defs.appendChild(elementData.ms);\n      this.globalData.defs.appendChild(elementData.of);\n      pathElement.setAttribute('mask', 'url(' + getLocationHref() + '#' + elementData.maskId + ')');\n    }\n  } else if (data.ty === 'no') {\n    elementData = new SVGNoStyleData(this, data, styleOb);\n  }\n\n  if (data.ty === 'st' || data.ty === 'gs') {\n    pathElement.setAttribute('stroke-linecap', lineCapEnum[data.lc || 2]);\n    pathElement.setAttribute('stroke-linejoin', lineJoinEnum[data.lj || 2]);\n    pathElement.setAttribute('fill-opacity', '0');\n    if (data.lj === 1) {\n      pathElement.setAttribute('stroke-miterlimit', data.ml);\n    }\n  }\n\n  if (data.r === 2) {\n    pathElement.setAttribute('fill-rule', 'evenodd');\n  }\n\n  if (data.ln) {\n    pathElement.setAttribute('id', data.ln);\n  }\n  if (data.cl) {\n    pathElement.setAttribute('class', data.cl);\n  }\n  if (data.bm) {\n    pathElement.style['mix-blend-mode'] = getBlendMode(data.bm);\n  }\n  this.stylesList.push(styleOb);\n  this.addToAnimatedContents(data, elementData);\n  return elementData;\n};\n\nSVGShapeElement.prototype.createGroupElement = function (data) {\n  var elementData = new ShapeGroupData();\n  if (data.ln) {\n    elementData.gr.setAttribute('id', data.ln);\n  }\n  if (data.cl) {\n    elementData.gr.setAttribute('class', data.cl);\n  }\n  if (data.bm) {\n    elementData.gr.style['mix-blend-mode'] = getBlendMode(data.bm);\n  }\n  return elementData;\n};\n\nSVGShapeElement.prototype.createTransformElement = function (data, container) {\n  var transformProperty = TransformPropertyFactory.getTransformProperty(this, data, this);\n  var elementData = new SVGTransformData(transformProperty, transformProperty.o, container);\n  this.addToAnimatedContents(data, elementData);\n  return elementData;\n};\n\nSVGShapeElement.prototype.createShapeElement = function (data, ownTransformers, level) {\n  var ty = 4;\n  if (data.ty === 'rc') {\n    ty = 5;\n  } else if (data.ty === 'el') {\n    ty = 6;\n  } else if (data.ty === 'sr') {\n    ty = 7;\n  }\n  var shapeProperty = ShapePropertyFactory.getShapeProp(this, data, ty, this);\n  var elementData = new SVGShapeData(ownTransformers, level, shapeProperty);\n  this.shapes.push(elementData);\n  this.addShapeToModifiers(elementData);\n  this.addToAnimatedContents(data, elementData);\n  return elementData;\n};\n\nSVGShapeElement.prototype.addToAnimatedContents = function (data, element) {\n  var i = 0;\n  var len = this.animatedContents.length;\n  while (i < len) {\n    if (this.animatedContents[i].element === element) {\n      return;\n    }\n    i += 1;\n  }\n  this.animatedContents.push({\n    fn: SVGElementsRenderer.createRenderFunction(data),\n    element: element,\n    data: data,\n  });\n};\n\nSVGShapeElement.prototype.setElementStyles = function (elementData) {\n  var arr = elementData.styles;\n  var j;\n  var jLen = this.stylesList.length;\n  for (j = 0; j < jLen; j += 1) {\n    if (!this.stylesList[j].closed) {\n      arr.push(this.stylesList[j]);\n    }\n  }\n};\n\nSVGShapeElement.prototype.reloadShapes = function () {\n  this._isFirstFrame = true;\n  var i;\n  var len = this.itemsData.length;\n  for (i = 0; i < len; i += 1) {\n    this.prevViewData[i] = this.itemsData[i];\n  }\n  this.searchShapes(this.shapesData, this.itemsData, this.prevViewData, this.layerElement, 0, [], true);\n  this.filterUniqueShapes();\n  len = this.dynamicProperties.length;\n  for (i = 0; i < len; i += 1) {\n    this.dynamicProperties[i].getValue();\n  }\n  this.renderModifiers();\n};\n\nSVGShapeElement.prototype.searchShapes = function (arr, itemsData, prevViewData, container, level, transformers, render) {\n  var ownTransformers = [].concat(transformers);\n  var i;\n  var len = arr.length - 1;\n  var j;\n  var jLen;\n  var ownStyles = [];\n  var ownModifiers = [];\n  var currentTransform;\n  var modifier;\n  var processedPos;\n  for (i = len; i >= 0; i -= 1) {\n    processedPos = this.searchProcessedElement(arr[i]);\n    if (!processedPos) {\n      arr[i]._render = render;\n    } else {\n      itemsData[i] = prevViewData[processedPos - 1];\n    }\n    if (arr[i].ty === 'fl' || arr[i].ty === 'st' || arr[i].ty === 'gf' || arr[i].ty === 'gs' || arr[i].ty === 'no') {\n      if (!processedPos) {\n        itemsData[i] = this.createStyleElement(arr[i], level);\n      } else {\n        itemsData[i].style.closed = false;\n      }\n      if (arr[i]._render) {\n        if (itemsData[i].style.pElem.parentNode !== container) {\n          container.appendChild(itemsData[i].style.pElem);\n        }\n      }\n      ownStyles.push(itemsData[i].style);\n    } else if (arr[i].ty === 'gr') {\n      if (!processedPos) {\n        itemsData[i] = this.createGroupElement(arr[i]);\n      } else {\n        jLen = itemsData[i].it.length;\n        for (j = 0; j < jLen; j += 1) {\n          itemsData[i].prevViewData[j] = itemsData[i].it[j];\n        }\n      }\n      this.searchShapes(arr[i].it, itemsData[i].it, itemsData[i].prevViewData, itemsData[i].gr, level + 1, ownTransformers, render);\n      if (arr[i]._render) {\n        if (itemsData[i].gr.parentNode !== container) {\n          container.appendChild(itemsData[i].gr);\n        }\n      }\n    } else if (arr[i].ty === 'tr') {\n      if (!processedPos) {\n        itemsData[i] = this.createTransformElement(arr[i], container);\n      }\n      currentTransform = itemsData[i].transform;\n      ownTransformers.push(currentTransform);\n    } else if (arr[i].ty === 'sh' || arr[i].ty === 'rc' || arr[i].ty === 'el' || arr[i].ty === 'sr') {\n      if (!processedPos) {\n        itemsData[i] = this.createShapeElement(arr[i], ownTransformers, level);\n      }\n      this.setElementStyles(itemsData[i]);\n    } else if (arr[i].ty === 'tm' || arr[i].ty === 'rd' || arr[i].ty === 'ms' || arr[i].ty === 'pb') {\n      if (!processedPos) {\n        modifier = ShapeModifiers.getModifier(arr[i].ty);\n        modifier.init(this, arr[i]);\n        itemsData[i] = modifier;\n        this.shapeModifiers.push(modifier);\n      } else {\n        modifier = itemsData[i];\n        modifier.closed = false;\n      }\n      ownModifiers.push(modifier);\n    } else if (arr[i].ty === 'rp') {\n      if (!processedPos) {\n        modifier = ShapeModifiers.getModifier(arr[i].ty);\n        itemsData[i] = modifier;\n        modifier.init(this, arr, i, itemsData);\n        this.shapeModifiers.push(modifier);\n        render = false;\n      } else {\n        modifier = itemsData[i];\n        modifier.closed = true;\n      }\n      ownModifiers.push(modifier);\n    }\n    this.addProcessedElement(arr[i], i + 1);\n  }\n  len = ownStyles.length;\n  for (i = 0; i < len; i += 1) {\n    ownStyles[i].closed = true;\n  }\n  len = ownModifiers.length;\n  for (i = 0; i < len; i += 1) {\n    ownModifiers[i].closed = true;\n  }\n};\n\nSVGShapeElement.prototype.renderInnerContent = function () {\n  this.renderModifiers();\n  var i;\n  var len = this.stylesList.length;\n  for (i = 0; i < len; i += 1) {\n    this.stylesList[i].reset();\n  }\n  this.renderShape();\n  for (i = 0; i < len; i += 1) {\n    if (this.stylesList[i]._mdf || this._isFirstFrame) {\n      if (this.stylesList[i].msElem) {\n        this.stylesList[i].msElem.setAttribute('d', this.stylesList[i].d);\n        // Adding M0 0 fixes same mask bug on all browsers\n        this.stylesList[i].d = 'M0 0' + this.stylesList[i].d;\n      }\n      this.stylesList[i].pElem.setAttribute('d', this.stylesList[i].d || 'M0 0');\n    }\n  }\n};\n\nSVGShapeElement.prototype.renderShape = function () {\n  var i;\n  var len = this.animatedContents.length;\n  var animatedContent;\n  for (i = 0; i < len; i += 1) {\n    animatedContent = this.animatedContents[i];\n    if ((this._isFirstFrame || animatedContent.element._isAnimated) && animatedContent.data !== true) {\n      animatedContent.fn(animatedContent.data, animatedContent.element, this._isFirstFrame);\n    }\n  }\n};\n\nSVGShapeElement.prototype.destroy = function () {\n  this.destroyBaseElement();\n  this.shapesData = null;\n  this.itemsData = null;\n};\n\nfunction LetterProps(o, sw, sc, fc, m, p) {\n  this.o = o;\n  this.sw = sw;\n  this.sc = sc;\n  this.fc = fc;\n  this.m = m;\n  this.p = p;\n  this._mdf = {\n    o: true,\n    sw: !!sw,\n    sc: !!sc,\n    fc: !!fc,\n    m: true,\n    p: true,\n  };\n}\n\nLetterProps.prototype.update = function (o, sw, sc, fc, m, p) {\n  this._mdf.o = false;\n  this._mdf.sw = false;\n  this._mdf.sc = false;\n  this._mdf.fc = false;\n  this._mdf.m = false;\n  this._mdf.p = false;\n  var updated = false;\n\n  if (this.o !== o) {\n    this.o = o;\n    this._mdf.o = true;\n    updated = true;\n  }\n  if (this.sw !== sw) {\n    this.sw = sw;\n    this._mdf.sw = true;\n    updated = true;\n  }\n  if (this.sc !== sc) {\n    this.sc = sc;\n    this._mdf.sc = true;\n    updated = true;\n  }\n  if (this.fc !== fc) {\n    this.fc = fc;\n    this._mdf.fc = true;\n    updated = true;\n  }\n  if (this.m !== m) {\n    this.m = m;\n    this._mdf.m = true;\n    updated = true;\n  }\n  if (p.length && (this.p[0] !== p[0] || this.p[1] !== p[1] || this.p[4] !== p[4] || this.p[5] !== p[5] || this.p[12] !== p[12] || this.p[13] !== p[13])) {\n    this.p = p;\n    this._mdf.p = true;\n    updated = true;\n  }\n  return updated;\n};\n\nfunction TextProperty(elem, data) {\n  this._frameId = initialDefaultFrame;\n  this.pv = '';\n  this.v = '';\n  this.kf = false;\n  this._isFirstFrame = true;\n  this._mdf = false;\n  this.data = data;\n  this.elem = elem;\n  this.comp = this.elem.comp;\n  this.keysIndex = 0;\n  this.canResize = false;\n  this.minimumFontSize = 1;\n  this.effectsSequence = [];\n  this.currentData = {\n    ascent: 0,\n    boxWidth: this.defaultBoxWidth,\n    f: '',\n    fStyle: '',\n    fWeight: '',\n    fc: '',\n    j: '',\n    justifyOffset: '',\n    l: [],\n    lh: 0,\n    lineWidths: [],\n    ls: '',\n    of: '',\n    s: '',\n    sc: '',\n    sw: 0,\n    t: 0,\n    tr: 0,\n    sz: 0,\n    ps: null,\n    fillColorAnim: false,\n    strokeColorAnim: false,\n    strokeWidthAnim: false,\n    yOffset: 0,\n    finalSize: 0,\n    finalText: [],\n    finalLineHeight: 0,\n    __complete: false,\n\n  };\n  this.copyData(this.currentData, this.data.d.k[0].s);\n\n  if (!this.searchProperty()) {\n    this.completeTextData(this.currentData);\n  }\n}\n\nTextProperty.prototype.defaultBoxWidth = [0, 0];\n\nTextProperty.prototype.copyData = function (obj, data) {\n  for (var s in data) {\n    if (Object.prototype.hasOwnProperty.call(data, s)) {\n      obj[s] = data[s];\n    }\n  }\n  return obj;\n};\n\nTextProperty.prototype.setCurrentData = function (data) {\n  if (!data.__complete) {\n    this.completeTextData(data);\n  }\n  this.currentData = data;\n  this.currentData.boxWidth = this.currentData.boxWidth || this.defaultBoxWidth;\n  this._mdf = true;\n};\n\nTextProperty.prototype.searchProperty = function () {\n  return this.searchKeyframes();\n};\n\nTextProperty.prototype.searchKeyframes = function () {\n  this.kf = this.data.d.k.length > 1;\n  if (this.kf) {\n    this.addEffect(this.getKeyframeValue.bind(this));\n  }\n  return this.kf;\n};\n\nTextProperty.prototype.addEffect = function (effectFunction) {\n  this.effectsSequence.push(effectFunction);\n  this.elem.addDynamicProperty(this);\n};\n\nTextProperty.prototype.getValue = function (_finalValue) {\n  if ((this.elem.globalData.frameId === this.frameId || !this.effectsSequence.length) && !_finalValue) {\n    return;\n  }\n  this.currentData.t = this.data.d.k[this.keysIndex].s.t;\n  var currentValue = this.currentData;\n  var currentIndex = this.keysIndex;\n  if (this.lock) {\n    this.setCurrentData(this.currentData);\n    return;\n  }\n  this.lock = true;\n  this._mdf = false;\n  var i; var\n    len = this.effectsSequence.length;\n  var finalValue = _finalValue || this.data.d.k[this.keysIndex].s;\n  for (i = 0; i < len; i += 1) {\n    // Checking if index changed to prevent creating a new object every time the expression updates.\n    if (currentIndex !== this.keysIndex) {\n      finalValue = this.effectsSequence[i](finalValue, finalValue.t);\n    } else {\n      finalValue = this.effectsSequence[i](this.currentData, finalValue.t);\n    }\n  }\n  if (currentValue !== finalValue) {\n    this.setCurrentData(finalValue);\n  }\n  this.v = this.currentData;\n  this.pv = this.v;\n  this.lock = false;\n  this.frameId = this.elem.globalData.frameId;\n};\n\nTextProperty.prototype.getKeyframeValue = function () {\n  var textKeys = this.data.d.k;\n  var frameNum = this.elem.comp.renderedFrame;\n  var i = 0; var\n    len = textKeys.length;\n  while (i <= len - 1) {\n    if (i === len - 1 || textKeys[i + 1].t > frameNum) {\n      break;\n    }\n    i += 1;\n  }\n  if (this.keysIndex !== i) {\n    this.keysIndex = i;\n  }\n  return this.data.d.k[this.keysIndex].s;\n};\n\nTextProperty.prototype.buildFinalText = function (text) {\n  var charactersArray = [];\n  var i = 0;\n  var len = text.length;\n  var charCode;\n  var secondCharCode;\n  var shouldCombine = false;\n  while (i < len) {\n    charCode = text.charCodeAt(i);\n    if (FontManager.isCombinedCharacter(charCode)) {\n      charactersArray[charactersArray.length - 1] += text.charAt(i);\n    } else if (charCode >= 0xD800 && charCode <= 0xDBFF) {\n      secondCharCode = text.charCodeAt(i + 1);\n      if (secondCharCode >= 0xDC00 && secondCharCode <= 0xDFFF) {\n        if (shouldCombine || FontManager.isModifier(charCode, secondCharCode)) {\n          charactersArray[charactersArray.length - 1] += text.substr(i, 2);\n          shouldCombine = false;\n        } else {\n          charactersArray.push(text.substr(i, 2));\n        }\n        i += 1;\n      } else {\n        charactersArray.push(text.charAt(i));\n      }\n    } else if (charCode > 0xDBFF) {\n      secondCharCode = text.charCodeAt(i + 1);\n      if (FontManager.isZeroWidthJoiner(charCode, secondCharCode)) {\n        shouldCombine = true;\n        charactersArray[charactersArray.length - 1] += text.substr(i, 2);\n        i += 1;\n      } else {\n        charactersArray.push(text.charAt(i));\n      }\n    } else if (FontManager.isZeroWidthJoiner(charCode)) {\n      charactersArray[charactersArray.length - 1] += text.charAt(i);\n      shouldCombine = true;\n    } else {\n      charactersArray.push(text.charAt(i));\n    }\n    i += 1;\n  }\n  return charactersArray;\n};\n\nTextProperty.prototype.completeTextData = function (documentData) {\n  documentData.__complete = true;\n  var fontManager = this.elem.globalData.fontManager;\n  var data = this.data;\n  var letters = [];\n  var i; var\n    len;\n  var newLineFlag; var index = 0; var\n    val;\n  var anchorGrouping = data.m.g;\n  var currentSize = 0; var currentPos = 0; var currentLine = 0; var\n    lineWidths = [];\n  var lineWidth = 0;\n  var maxLineWidth = 0;\n  var j; var\n    jLen;\n  var fontData = fontManager.getFontByName(documentData.f);\n  var charData; var\n    cLength = 0;\n\n  var fontProps = getFontProperties(fontData);\n  documentData.fWeight = fontProps.weight;\n  documentData.fStyle = fontProps.style;\n  documentData.finalSize = documentData.s;\n  documentData.finalText = this.buildFinalText(documentData.t);\n  len = documentData.finalText.length;\n  documentData.finalLineHeight = documentData.lh;\n  var trackingOffset = (documentData.tr / 1000) * documentData.finalSize;\n  var charCode;\n  if (documentData.sz) {\n    var flag = true;\n    var boxWidth = documentData.sz[0];\n    var boxHeight = documentData.sz[1];\n    var currentHeight; var\n      finalText;\n    while (flag) {\n      finalText = this.buildFinalText(documentData.t);\n      currentHeight = 0;\n      lineWidth = 0;\n      len = finalText.length;\n      trackingOffset = (documentData.tr / 1000) * documentData.finalSize;\n      var lastSpaceIndex = -1;\n      for (i = 0; i < len; i += 1) {\n        charCode = finalText[i].charCodeAt(0);\n        newLineFlag = false;\n        if (finalText[i] === ' ') {\n          lastSpaceIndex = i;\n        } else if (charCode === 13 || charCode === 3) {\n          lineWidth = 0;\n          newLineFlag = true;\n          currentHeight += documentData.finalLineHeight || documentData.finalSize * 1.2;\n        }\n        if (fontManager.chars) {\n          charData = fontManager.getCharData(finalText[i], fontData.fStyle, fontData.fFamily);\n          cLength = newLineFlag ? 0 : (charData.w * documentData.finalSize) / 100;\n        } else {\n          // tCanvasHelper.font = documentData.s + 'px '+ fontData.fFamily;\n          cLength = fontManager.measureText(finalText[i], documentData.f, documentData.finalSize);\n        }\n        if (lineWidth + cLength > boxWidth && finalText[i] !== ' ') {\n          if (lastSpaceIndex === -1) {\n            len += 1;\n          } else {\n            i = lastSpaceIndex;\n          }\n          currentHeight += documentData.finalLineHeight || documentData.finalSize * 1.2;\n          finalText.splice(i, lastSpaceIndex === i ? 1 : 0, '\\r');\n          // finalText = finalText.substr(0,i) + \"\\r\" + finalText.substr(i === lastSpaceIndex ? i + 1 : i);\n          lastSpaceIndex = -1;\n          lineWidth = 0;\n        } else {\n          lineWidth += cLength;\n          lineWidth += trackingOffset;\n        }\n      }\n      currentHeight += (fontData.ascent * documentData.finalSize) / 100;\n      if (this.canResize && documentData.finalSize > this.minimumFontSize && boxHeight < currentHeight) {\n        documentData.finalSize -= 1;\n        documentData.finalLineHeight = (documentData.finalSize * documentData.lh) / documentData.s;\n      } else {\n        documentData.finalText = finalText;\n        len = documentData.finalText.length;\n        flag = false;\n      }\n    }\n  }\n  lineWidth = -trackingOffset;\n  cLength = 0;\n  var uncollapsedSpaces = 0;\n  var currentChar;\n  for (i = 0; i < len; i += 1) {\n    newLineFlag = false;\n    currentChar = documentData.finalText[i];\n    charCode = currentChar.charCodeAt(0);\n    if (charCode === 13 || charCode === 3) {\n      uncollapsedSpaces = 0;\n      lineWidths.push(lineWidth);\n      maxLineWidth = lineWidth > maxLineWidth ? lineWidth : maxLineWidth;\n      lineWidth = -2 * trackingOffset;\n      val = '';\n      newLineFlag = true;\n      currentLine += 1;\n    } else {\n      val = currentChar;\n    }\n    if (fontManager.chars) {\n      charData = fontManager.getCharData(currentChar, fontData.fStyle, fontManager.getFontByName(documentData.f).fFamily);\n      cLength = newLineFlag ? 0 : (charData.w * documentData.finalSize) / 100;\n    } else {\n      // var charWidth = fontManager.measureText(val, documentData.f, documentData.finalSize);\n      // tCanvasHelper.font = documentData.finalSize + 'px '+ fontManager.getFontByName(documentData.f).fFamily;\n      cLength = fontManager.measureText(val, documentData.f, documentData.finalSize);\n    }\n\n    //\n    if (currentChar === ' ') {\n      uncollapsedSpaces += cLength + trackingOffset;\n    } else {\n      lineWidth += cLength + trackingOffset + uncollapsedSpaces;\n      uncollapsedSpaces = 0;\n    }\n    letters.push({\n      l: cLength, an: cLength, add: currentSize, n: newLineFlag, anIndexes: [], val: val, line: currentLine, animatorJustifyOffset: 0,\n    });\n    if (anchorGrouping == 2) { // eslint-disable-line eqeqeq\n      currentSize += cLength;\n      if (val === '' || val === ' ' || i === len - 1) {\n        if (val === '' || val === ' ') {\n          currentSize -= cLength;\n        }\n        while (currentPos <= i) {\n          letters[currentPos].an = currentSize;\n          letters[currentPos].ind = index;\n          letters[currentPos].extra = cLength;\n          currentPos += 1;\n        }\n        index += 1;\n        currentSize = 0;\n      }\n    } else if (anchorGrouping == 3) { // eslint-disable-line eqeqeq\n      currentSize += cLength;\n      if (val === '' || i === len - 1) {\n        if (val === '') {\n          currentSize -= cLength;\n        }\n        while (currentPos <= i) {\n          letters[currentPos].an = currentSize;\n          letters[currentPos].ind = index;\n          letters[currentPos].extra = cLength;\n          currentPos += 1;\n        }\n        currentSize = 0;\n        index += 1;\n      }\n    } else {\n      letters[index].ind = index;\n      letters[index].extra = 0;\n      index += 1;\n    }\n  }\n  documentData.l = letters;\n  maxLineWidth = lineWidth > maxLineWidth ? lineWidth : maxLineWidth;\n  lineWidths.push(lineWidth);\n  if (documentData.sz) {\n    documentData.boxWidth = documentData.sz[0];\n    documentData.justifyOffset = 0;\n  } else {\n    documentData.boxWidth = maxLineWidth;\n    switch (documentData.j) {\n      case 1:\n        documentData.justifyOffset = -documentData.boxWidth;\n        break;\n      case 2:\n        documentData.justifyOffset = -documentData.boxWidth / 2;\n        break;\n      default:\n        documentData.justifyOffset = 0;\n    }\n  }\n  documentData.lineWidths = lineWidths;\n\n  var animators = data.a; var animatorData; var\n    letterData;\n  jLen = animators.length;\n  var based; var ind; var\n    indexes = [];\n  for (j = 0; j < jLen; j += 1) {\n    animatorData = animators[j];\n    if (animatorData.a.sc) {\n      documentData.strokeColorAnim = true;\n    }\n    if (animatorData.a.sw) {\n      documentData.strokeWidthAnim = true;\n    }\n    if (animatorData.a.fc || animatorData.a.fh || animatorData.a.fs || animatorData.a.fb) {\n      documentData.fillColorAnim = true;\n    }\n    ind = 0;\n    based = animatorData.s.b;\n    for (i = 0; i < len; i += 1) {\n      letterData = letters[i];\n      letterData.anIndexes[j] = ind;\n      if ((based == 1 && letterData.val !== '') || (based == 2 && letterData.val !== '' && letterData.val !== ' ') || (based == 3 && (letterData.n || letterData.val == ' ' || i == len - 1)) || (based == 4 && (letterData.n || i == len - 1))) { // eslint-disable-line eqeqeq\n        if (animatorData.s.rn === 1) {\n          indexes.push(ind);\n        }\n        ind += 1;\n      }\n    }\n    data.a[j].s.totalChars = ind;\n    var currentInd = -1; var\n      newInd;\n    if (animatorData.s.rn === 1) {\n      for (i = 0; i < len; i += 1) {\n        letterData = letters[i];\n        if (currentInd != letterData.anIndexes[j]) { // eslint-disable-line eqeqeq\n          currentInd = letterData.anIndexes[j];\n          newInd = indexes.splice(Math.floor(Math.random() * indexes.length), 1)[0];\n        }\n        letterData.anIndexes[j] = newInd;\n      }\n    }\n  }\n  documentData.yOffset = documentData.finalLineHeight || documentData.finalSize * 1.2;\n  documentData.ls = documentData.ls || 0;\n  documentData.ascent = (fontData.ascent * documentData.finalSize) / 100;\n};\n\nTextProperty.prototype.updateDocumentData = function (newData, index) {\n  index = index === undefined ? this.keysIndex : index;\n  var dData = this.copyData({}, this.data.d.k[index].s);\n  dData = this.copyData(dData, newData);\n  this.data.d.k[index].s = dData;\n  this.recalculate(index);\n  this.elem.addDynamicProperty(this);\n};\n\nTextProperty.prototype.recalculate = function (index) {\n  var dData = this.data.d.k[index].s;\n  dData.__complete = false;\n  this.keysIndex = 0;\n  this._isFirstFrame = true;\n  this.getValue(dData);\n};\n\nTextProperty.prototype.canResizeFont = function (_canResize) {\n  this.canResize = _canResize;\n  this.recalculate(this.keysIndex);\n  this.elem.addDynamicProperty(this);\n};\n\nTextProperty.prototype.setMinimumFontSize = function (_fontValue) {\n  this.minimumFontSize = Math.floor(_fontValue) || 1;\n  this.recalculate(this.keysIndex);\n  this.elem.addDynamicProperty(this);\n};\n\nconst TextSelectorProp = (function () {\n  var max = Math.max;\n  var min = Math.min;\n  var floor = Math.floor;\n\n  function TextSelectorPropFactory(elem, data) {\n    this._currentTextLength = -1;\n    this.k = false;\n    this.data = data;\n    this.elem = elem;\n    this.comp = elem.comp;\n    this.finalS = 0;\n    this.finalE = 0;\n    this.initDynamicPropertyContainer(elem);\n    this.s = PropertyFactory.getProp(elem, data.s || { k: 0 }, 0, 0, this);\n    if ('e' in data) {\n      this.e = PropertyFactory.getProp(elem, data.e, 0, 0, this);\n    } else {\n      this.e = { v: 100 };\n    }\n    this.o = PropertyFactory.getProp(elem, data.o || { k: 0 }, 0, 0, this);\n    this.xe = PropertyFactory.getProp(elem, data.xe || { k: 0 }, 0, 0, this);\n    this.ne = PropertyFactory.getProp(elem, data.ne || { k: 0 }, 0, 0, this);\n    this.sm = PropertyFactory.getProp(elem, data.sm || { k: 100 }, 0, 0, this);\n    this.a = PropertyFactory.getProp(elem, data.a, 0, 0.01, this);\n    if (!this.dynamicProperties.length) {\n      this.getValue();\n    }\n  }\n\n  TextSelectorPropFactory.prototype = {\n    getMult: function (ind) {\n      if (this._currentTextLength !== this.elem.textProperty.currentData.l.length) {\n        this.getValue();\n      }\n      var x1 = 0;\n      var y1 = 0;\n      var x2 = 1;\n      var y2 = 1;\n      if (this.ne.v > 0) {\n        x1 = this.ne.v / 100.0;\n      } else {\n        y1 = -this.ne.v / 100.0;\n      }\n      if (this.xe.v > 0) {\n        x2 = 1.0 - this.xe.v / 100.0;\n      } else {\n        y2 = 1.0 + this.xe.v / 100.0;\n      }\n      var easer = BezierFactory.getBezierEasing(x1, y1, x2, y2).get;\n\n      var mult = 0;\n      var s = this.finalS;\n      var e = this.finalE;\n      var type = this.data.sh;\n      if (type === 2) {\n        if (e === s) {\n          mult = ind >= e ? 1 : 0;\n        } else {\n          mult = max(0, min(0.5 / (e - s) + (ind - s) / (e - s), 1));\n        }\n        mult = easer(mult);\n      } else if (type === 3) {\n        if (e === s) {\n          mult = ind >= e ? 0 : 1;\n        } else {\n          mult = 1 - max(0, min(0.5 / (e - s) + (ind - s) / (e - s), 1));\n        }\n\n        mult = easer(mult);\n      } else if (type === 4) {\n        if (e === s) {\n          mult = 0;\n        } else {\n          mult = max(0, min(0.5 / (e - s) + (ind - s) / (e - s), 1));\n          if (mult < 0.5) {\n            mult *= 2;\n          } else {\n            mult = 1 - 2 * (mult - 0.5);\n          }\n        }\n        mult = easer(mult);\n      } else if (type === 5) {\n        if (e === s) {\n          mult = 0;\n        } else {\n          var tot = e - s;\n          /* ind += 0.5;\n                    mult = -4/(tot*tot)*(ind*ind)+(4/tot)*ind; */\n          ind = min(max(0, ind + 0.5 - s), e - s);\n          var x = -tot / 2 + ind;\n          var a = tot / 2;\n          mult = Math.sqrt(1 - (x * x) / (a * a));\n        }\n        mult = easer(mult);\n      } else if (type === 6) {\n        if (e === s) {\n          mult = 0;\n        } else {\n          ind = min(max(0, ind + 0.5 - s), e - s);\n          mult = (1 + (Math.cos((Math.PI + Math.PI * 2 * (ind) / (e - s))))) / 2; // eslint-disable-line\n        }\n        mult = easer(mult);\n      } else {\n        if (ind >= floor(s)) {\n          if (ind - s < 0) {\n            mult = max(0, min(min(e, 1) - (s - ind), 1));\n          } else {\n            mult = max(0, min(e - ind, 1));\n          }\n        }\n        mult = easer(mult);\n      }\n      // Smoothness implementation.\n      // The smoothness represents a reduced range of the original [0; 1] range.\n      // if smoothness is 25%, the new range will be [0.375; 0.625]\n      // Steps are:\n      // - find the lower value of the new range (threshold)\n      // - if multiplier is smaller than that value, floor it to 0\n      // - if it is larger,\n      //     - subtract the threshold\n      //     - divide it by the smoothness (this will return the range to [0; 1])\n      // Note: If it doesn't work on some scenarios, consider applying it before the easer.\n      if (this.sm.v !== 100) {\n        var smoothness = this.sm.v * 0.01;\n        if (smoothness === 0) {\n          smoothness = 0.00000001;\n        }\n        var threshold = 0.5 - smoothness * 0.5;\n        if (mult < threshold) {\n          mult = 0;\n        } else {\n          mult = (mult - threshold) / smoothness;\n          if (mult > 1) {\n            mult = 1;\n          }\n        }\n      }\n      return mult * this.a.v;\n    },\n    getValue: function (newCharsFlag) {\n      this.iterateDynamicProperties();\n      this._mdf = newCharsFlag || this._mdf;\n      this._currentTextLength = this.elem.textProperty.currentData.l.length || 0;\n      if (newCharsFlag && this.data.r === 2) {\n        this.e.v = this._currentTextLength;\n      }\n      var divisor = this.data.r === 2 ? 1 : 100 / this.data.totalChars;\n      var o = this.o.v / divisor;\n      var s = this.s.v / divisor + o;\n      var e = (this.e.v / divisor) + o;\n      if (s > e) {\n        var _s = s;\n        s = e;\n        e = _s;\n      }\n      this.finalS = s;\n      this.finalE = e;\n    },\n  };\n  extendPrototype([DynamicPropertyContainer], TextSelectorPropFactory);\n\n  function getTextSelectorProp(elem, data, arr) {\n    return new TextSelectorPropFactory(elem, data, arr);\n  }\n\n  return {\n    getTextSelectorProp: getTextSelectorProp,\n  };\n}());\n\nfunction TextAnimatorDataProperty(elem, animatorProps, container) {\n  var defaultData = { propType: false };\n  var getProp = PropertyFactory.getProp;\n  var textAnimatorAnimatables = animatorProps.a;\n  this.a = {\n    r: textAnimatorAnimatables.r ? getProp(elem, textAnimatorAnimatables.r, 0, degToRads, container) : defaultData,\n    rx: textAnimatorAnimatables.rx ? getProp(elem, textAnimatorAnimatables.rx, 0, degToRads, container) : defaultData,\n    ry: textAnimatorAnimatables.ry ? getProp(elem, textAnimatorAnimatables.ry, 0, degToRads, container) : defaultData,\n    sk: textAnimatorAnimatables.sk ? getProp(elem, textAnimatorAnimatables.sk, 0, degToRads, container) : defaultData,\n    sa: textAnimatorAnimatables.sa ? getProp(elem, textAnimatorAnimatables.sa, 0, degToRads, container) : defaultData,\n    s: textAnimatorAnimatables.s ? getProp(elem, textAnimatorAnimatables.s, 1, 0.01, container) : defaultData,\n    a: textAnimatorAnimatables.a ? getProp(elem, textAnimatorAnimatables.a, 1, 0, container) : defaultData,\n    o: textAnimatorAnimatables.o ? getProp(elem, textAnimatorAnimatables.o, 0, 0.01, container) : defaultData,\n    p: textAnimatorAnimatables.p ? getProp(elem, textAnimatorAnimatables.p, 1, 0, container) : defaultData,\n    sw: textAnimatorAnimatables.sw ? getProp(elem, textAnimatorAnimatables.sw, 0, 0, container) : defaultData,\n    sc: textAnimatorAnimatables.sc ? getProp(elem, textAnimatorAnimatables.sc, 1, 0, container) : defaultData,\n    fc: textAnimatorAnimatables.fc ? getProp(elem, textAnimatorAnimatables.fc, 1, 0, container) : defaultData,\n    fh: textAnimatorAnimatables.fh ? getProp(elem, textAnimatorAnimatables.fh, 0, 0, container) : defaultData,\n    fs: textAnimatorAnimatables.fs ? getProp(elem, textAnimatorAnimatables.fs, 0, 0.01, container) : defaultData,\n    fb: textAnimatorAnimatables.fb ? getProp(elem, textAnimatorAnimatables.fb, 0, 0.01, container) : defaultData,\n    t: textAnimatorAnimatables.t ? getProp(elem, textAnimatorAnimatables.t, 0, 0, container) : defaultData,\n  };\n\n  this.s = TextSelectorProp.getTextSelectorProp(elem, animatorProps.s, container);\n  this.s.t = animatorProps.s.t;\n}\n\nfunction TextAnimatorProperty(textData, renderType, elem) {\n  this._isFirstFrame = true;\n  this._hasMaskedPath = false;\n  this._frameId = -1;\n  this._textData = textData;\n  this._renderType = renderType;\n  this._elem = elem;\n  this._animatorsData = createSizedArray(this._textData.a.length);\n  this._pathData = {};\n  this._moreOptions = {\n    alignment: {},\n  };\n  this.renderedLetters = [];\n  this.lettersChangedFlag = false;\n  this.initDynamicPropertyContainer(elem);\n}\n\nTextAnimatorProperty.prototype.searchProperties = function () {\n  var i;\n  var len = this._textData.a.length;\n  var animatorProps;\n  var getProp = PropertyFactory.getProp;\n  for (i = 0; i < len; i += 1) {\n    animatorProps = this._textData.a[i];\n    this._animatorsData[i] = new TextAnimatorDataProperty(this._elem, animatorProps, this);\n  }\n  if (this._textData.p && 'm' in this._textData.p) {\n    this._pathData = {\n      a: getProp(this._elem, this._textData.p.a, 0, 0, this),\n      f: getProp(this._elem, this._textData.p.f, 0, 0, this),\n      l: getProp(this._elem, this._textData.p.l, 0, 0, this),\n      r: getProp(this._elem, this._textData.p.r, 0, 0, this),\n      p: getProp(this._elem, this._textData.p.p, 0, 0, this),\n      m: this._elem.maskManager.getMaskProperty(this._textData.p.m),\n    };\n    this._hasMaskedPath = true;\n  } else {\n    this._hasMaskedPath = false;\n  }\n  this._moreOptions.alignment = getProp(this._elem, this._textData.m.a, 1, 0, this);\n};\n\nTextAnimatorProperty.prototype.getMeasures = function (documentData, lettersChangedFlag) {\n  this.lettersChangedFlag = lettersChangedFlag;\n  if (!this._mdf && !this._isFirstFrame && !lettersChangedFlag && (!this._hasMaskedPath || !this._pathData.m._mdf)) {\n    return;\n  }\n  this._isFirstFrame = false;\n  var alignment = this._moreOptions.alignment.v;\n  var animators = this._animatorsData;\n  var textData = this._textData;\n  var matrixHelper = this.mHelper;\n  var renderType = this._renderType;\n  var renderedLettersCount = this.renderedLetters.length;\n  var xPos;\n  var yPos;\n  var i;\n  var len;\n  var letters = documentData.l;\n  var pathInfo;\n  var currentLength;\n  var currentPoint;\n  var segmentLength;\n  var flag;\n  var pointInd;\n  var segmentInd;\n  var prevPoint;\n  var points;\n  var segments;\n  var partialLength;\n  var totalLength;\n  var perc;\n  var tanAngle;\n  var mask;\n  if (this._hasMaskedPath) {\n    mask = this._pathData.m;\n    if (!this._pathData.n || this._pathData._mdf) {\n      var paths = mask.v;\n      if (this._pathData.r.v) {\n        paths = paths.reverse();\n      }\n      // TODO: release bezier data cached from previous pathInfo: this._pathData.pi\n      pathInfo = {\n        tLength: 0,\n        segments: [],\n      };\n      len = paths._length - 1;\n      var bezierData;\n      totalLength = 0;\n      for (i = 0; i < len; i += 1) {\n        bezierData = bez.buildBezierData(paths.v[i],\n          paths.v[i + 1],\n          [paths.o[i][0] - paths.v[i][0], paths.o[i][1] - paths.v[i][1]],\n          [paths.i[i + 1][0] - paths.v[i + 1][0], paths.i[i + 1][1] - paths.v[i + 1][1]]);\n        pathInfo.tLength += bezierData.segmentLength;\n        pathInfo.segments.push(bezierData);\n        totalLength += bezierData.segmentLength;\n      }\n      i = len;\n      if (mask.v.c) {\n        bezierData = bez.buildBezierData(paths.v[i],\n          paths.v[0],\n          [paths.o[i][0] - paths.v[i][0], paths.o[i][1] - paths.v[i][1]],\n          [paths.i[0][0] - paths.v[0][0], paths.i[0][1] - paths.v[0][1]]);\n        pathInfo.tLength += bezierData.segmentLength;\n        pathInfo.segments.push(bezierData);\n        totalLength += bezierData.segmentLength;\n      }\n      this._pathData.pi = pathInfo;\n    }\n    pathInfo = this._pathData.pi;\n\n    currentLength = this._pathData.f.v;\n    segmentInd = 0;\n    pointInd = 1;\n    segmentLength = 0;\n    flag = true;\n    segments = pathInfo.segments;\n    if (currentLength < 0 && mask.v.c) {\n      if (pathInfo.tLength < Math.abs(currentLength)) {\n        currentLength = -Math.abs(currentLength) % pathInfo.tLength;\n      }\n      segmentInd = segments.length - 1;\n      points = segments[segmentInd].points;\n      pointInd = points.length - 1;\n      while (currentLength < 0) {\n        currentLength += points[pointInd].partialLength;\n        pointInd -= 1;\n        if (pointInd < 0) {\n          segmentInd -= 1;\n          points = segments[segmentInd].points;\n          pointInd = points.length - 1;\n        }\n      }\n    }\n    points = segments[segmentInd].points;\n    prevPoint = points[pointInd - 1];\n    currentPoint = points[pointInd];\n    partialLength = currentPoint.partialLength;\n  }\n\n  len = letters.length;\n  xPos = 0;\n  yPos = 0;\n  var yOff = documentData.finalSize * 1.2 * 0.714;\n  var firstLine = true;\n  var animatorProps;\n  var animatorSelector;\n  var j;\n  var jLen;\n  var letterValue;\n\n  jLen = animators.length;\n\n  var mult;\n  var ind = -1;\n  var offf;\n  var xPathPos;\n  var yPathPos;\n  var initPathPos = currentLength;\n  var initSegmentInd = segmentInd;\n  var initPointInd = pointInd;\n  var currentLine = -1;\n  var elemOpacity;\n  var sc;\n  var sw;\n  var fc;\n  var k;\n  var letterSw;\n  var letterSc;\n  var letterFc;\n  var letterM = '';\n  var letterP = this.defaultPropsArray;\n  var letterO;\n\n  //\n  if (documentData.j === 2 || documentData.j === 1) {\n    var animatorJustifyOffset = 0;\n    var animatorFirstCharOffset = 0;\n    var justifyOffsetMult = documentData.j === 2 ? -0.5 : -1;\n    var lastIndex = 0;\n    var isNewLine = true;\n\n    for (i = 0; i < len; i += 1) {\n      if (letters[i].n) {\n        if (animatorJustifyOffset) {\n          animatorJustifyOffset += animatorFirstCharOffset;\n        }\n        while (lastIndex < i) {\n          letters[lastIndex].animatorJustifyOffset = animatorJustifyOffset;\n          lastIndex += 1;\n        }\n        animatorJustifyOffset = 0;\n        isNewLine = true;\n      } else {\n        for (j = 0; j < jLen; j += 1) {\n          animatorProps = animators[j].a;\n          if (animatorProps.t.propType) {\n            if (isNewLine && documentData.j === 2) {\n              animatorFirstCharOffset += animatorProps.t.v * justifyOffsetMult;\n            }\n            animatorSelector = animators[j].s;\n            mult = animatorSelector.getMult(letters[i].anIndexes[j], textData.a[j].s.totalChars);\n            if (mult.length) {\n              animatorJustifyOffset += animatorProps.t.v * mult[0] * justifyOffsetMult;\n            } else {\n              animatorJustifyOffset += animatorProps.t.v * mult * justifyOffsetMult;\n            }\n          }\n        }\n        isNewLine = false;\n      }\n    }\n    if (animatorJustifyOffset) {\n      animatorJustifyOffset += animatorFirstCharOffset;\n    }\n    while (lastIndex < i) {\n      letters[lastIndex].animatorJustifyOffset = animatorJustifyOffset;\n      lastIndex += 1;\n    }\n  }\n  //\n\n  for (i = 0; i < len; i += 1) {\n    matrixHelper.reset();\n    elemOpacity = 1;\n    if (letters[i].n) {\n      xPos = 0;\n      yPos += documentData.yOffset;\n      yPos += firstLine ? 1 : 0;\n      currentLength = initPathPos;\n      firstLine = false;\n      if (this._hasMaskedPath) {\n        segmentInd = initSegmentInd;\n        pointInd = initPointInd;\n        points = segments[segmentInd].points;\n        prevPoint = points[pointInd - 1];\n        currentPoint = points[pointInd];\n        partialLength = currentPoint.partialLength;\n        segmentLength = 0;\n      }\n      letterM = '';\n      letterFc = '';\n      letterSw = '';\n      letterO = '';\n      letterP = this.defaultPropsArray;\n    } else {\n      if (this._hasMaskedPath) {\n        if (currentLine !== letters[i].line) {\n          switch (documentData.j) {\n            case 1:\n              currentLength += totalLength - documentData.lineWidths[letters[i].line];\n              break;\n            case 2:\n              currentLength += (totalLength - documentData.lineWidths[letters[i].line]) / 2;\n              break;\n            default:\n              break;\n          }\n          currentLine = letters[i].line;\n        }\n        if (ind !== letters[i].ind) {\n          if (letters[ind]) {\n            currentLength += letters[ind].extra;\n          }\n          currentLength += letters[i].an / 2;\n          ind = letters[i].ind;\n        }\n        currentLength += (alignment[0] * letters[i].an) * 0.005;\n        var animatorOffset = 0;\n        for (j = 0; j < jLen; j += 1) {\n          animatorProps = animators[j].a;\n          if (animatorProps.p.propType) {\n            animatorSelector = animators[j].s;\n            mult = animatorSelector.getMult(letters[i].anIndexes[j], textData.a[j].s.totalChars);\n            if (mult.length) {\n              animatorOffset += animatorProps.p.v[0] * mult[0];\n            } else {\n              animatorOffset += animatorProps.p.v[0] * mult;\n            }\n          }\n          if (animatorProps.a.propType) {\n            animatorSelector = animators[j].s;\n            mult = animatorSelector.getMult(letters[i].anIndexes[j], textData.a[j].s.totalChars);\n            if (mult.length) {\n              animatorOffset += animatorProps.a.v[0] * mult[0];\n            } else {\n              animatorOffset += animatorProps.a.v[0] * mult;\n            }\n          }\n        }\n        flag = true;\n        // Force alignment only works with a single line for now\n        if (this._pathData.a.v) {\n          currentLength = letters[0].an * 0.5 + ((totalLength - this._pathData.f.v - letters[0].an * 0.5 - letters[letters.length - 1].an * 0.5) * ind) / (len - 1);\n          currentLength += this._pathData.f.v;\n        }\n        while (flag) {\n          if (segmentLength + partialLength >= currentLength + animatorOffset || !points) {\n            perc = (currentLength + animatorOffset - segmentLength) / currentPoint.partialLength;\n            xPathPos = prevPoint.point[0] + (currentPoint.point[0] - prevPoint.point[0]) * perc;\n            yPathPos = prevPoint.point[1] + (currentPoint.point[1] - prevPoint.point[1]) * perc;\n            matrixHelper.translate((-alignment[0] * letters[i].an) * 0.005, -(alignment[1] * yOff) * 0.01);\n            flag = false;\n          } else if (points) {\n            segmentLength += currentPoint.partialLength;\n            pointInd += 1;\n            if (pointInd >= points.length) {\n              pointInd = 0;\n              segmentInd += 1;\n              if (!segments[segmentInd]) {\n                if (mask.v.c) {\n                  pointInd = 0;\n                  segmentInd = 0;\n                  points = segments[segmentInd].points;\n                } else {\n                  segmentLength -= currentPoint.partialLength;\n                  points = null;\n                }\n              } else {\n                points = segments[segmentInd].points;\n              }\n            }\n            if (points) {\n              prevPoint = currentPoint;\n              currentPoint = points[pointInd];\n              partialLength = currentPoint.partialLength;\n            }\n          }\n        }\n        offf = letters[i].an / 2 - letters[i].add;\n        matrixHelper.translate(-offf, 0, 0);\n      } else {\n        offf = letters[i].an / 2 - letters[i].add;\n        matrixHelper.translate(-offf, 0, 0);\n\n        // Grouping alignment\n        matrixHelper.translate((-alignment[0] * letters[i].an) * 0.005, (-alignment[1] * yOff) * 0.01, 0);\n      }\n\n      for (j = 0; j < jLen; j += 1) {\n        animatorProps = animators[j].a;\n        if (animatorProps.t.propType) {\n          animatorSelector = animators[j].s;\n          mult = animatorSelector.getMult(letters[i].anIndexes[j], textData.a[j].s.totalChars);\n          // This condition is to prevent applying tracking to first character in each line. Might be better to use a boolean \"isNewLine\"\n          if (xPos !== 0 || documentData.j !== 0) {\n            if (this._hasMaskedPath) {\n              if (mult.length) {\n                currentLength += animatorProps.t.v * mult[0];\n              } else {\n                currentLength += animatorProps.t.v * mult;\n              }\n            } else if (mult.length) {\n              xPos += animatorProps.t.v * mult[0];\n            } else {\n              xPos += animatorProps.t.v * mult;\n            }\n          }\n        }\n      }\n      if (documentData.strokeWidthAnim) {\n        sw = documentData.sw || 0;\n      }\n      if (documentData.strokeColorAnim) {\n        if (documentData.sc) {\n          sc = [documentData.sc[0], documentData.sc[1], documentData.sc[2]];\n        } else {\n          sc = [0, 0, 0];\n        }\n      }\n      if (documentData.fillColorAnim && documentData.fc) {\n        fc = [documentData.fc[0], documentData.fc[1], documentData.fc[2]];\n      }\n      for (j = 0; j < jLen; j += 1) {\n        animatorProps = animators[j].a;\n        if (animatorProps.a.propType) {\n          animatorSelector = animators[j].s;\n          mult = animatorSelector.getMult(letters[i].anIndexes[j], textData.a[j].s.totalChars);\n\n          if (mult.length) {\n            matrixHelper.translate(-animatorProps.a.v[0] * mult[0], -animatorProps.a.v[1] * mult[1], animatorProps.a.v[2] * mult[2]);\n          } else {\n            matrixHelper.translate(-animatorProps.a.v[0] * mult, -animatorProps.a.v[1] * mult, animatorProps.a.v[2] * mult);\n          }\n        }\n      }\n      for (j = 0; j < jLen; j += 1) {\n        animatorProps = animators[j].a;\n        if (animatorProps.s.propType) {\n          animatorSelector = animators[j].s;\n          mult = animatorSelector.getMult(letters[i].anIndexes[j], textData.a[j].s.totalChars);\n          if (mult.length) {\n            matrixHelper.scale(1 + ((animatorProps.s.v[0] - 1) * mult[0]), 1 + ((animatorProps.s.v[1] - 1) * mult[1]), 1);\n          } else {\n            matrixHelper.scale(1 + ((animatorProps.s.v[0] - 1) * mult), 1 + ((animatorProps.s.v[1] - 1) * mult), 1);\n          }\n        }\n      }\n      for (j = 0; j < jLen; j += 1) {\n        animatorProps = animators[j].a;\n        animatorSelector = animators[j].s;\n        mult = animatorSelector.getMult(letters[i].anIndexes[j], textData.a[j].s.totalChars);\n        if (animatorProps.sk.propType) {\n          if (mult.length) {\n            matrixHelper.skewFromAxis(-animatorProps.sk.v * mult[0], animatorProps.sa.v * mult[1]);\n          } else {\n            matrixHelper.skewFromAxis(-animatorProps.sk.v * mult, animatorProps.sa.v * mult);\n          }\n        }\n        if (animatorProps.r.propType) {\n          if (mult.length) {\n            matrixHelper.rotateZ(-animatorProps.r.v * mult[2]);\n          } else {\n            matrixHelper.rotateZ(-animatorProps.r.v * mult);\n          }\n        }\n        if (animatorProps.ry.propType) {\n          if (mult.length) {\n            matrixHelper.rotateY(animatorProps.ry.v * mult[1]);\n          } else {\n            matrixHelper.rotateY(animatorProps.ry.v * mult);\n          }\n        }\n        if (animatorProps.rx.propType) {\n          if (mult.length) {\n            matrixHelper.rotateX(animatorProps.rx.v * mult[0]);\n          } else {\n            matrixHelper.rotateX(animatorProps.rx.v * mult);\n          }\n        }\n        if (animatorProps.o.propType) {\n          if (mult.length) {\n            elemOpacity += ((animatorProps.o.v) * mult[0] - elemOpacity) * mult[0];\n          } else {\n            elemOpacity += ((animatorProps.o.v) * mult - elemOpacity) * mult;\n          }\n        }\n        if (documentData.strokeWidthAnim && animatorProps.sw.propType) {\n          if (mult.length) {\n            sw += animatorProps.sw.v * mult[0];\n          } else {\n            sw += animatorProps.sw.v * mult;\n          }\n        }\n        if (documentData.strokeColorAnim && animatorProps.sc.propType) {\n          for (k = 0; k < 3; k += 1) {\n            if (mult.length) {\n              sc[k] += (animatorProps.sc.v[k] - sc[k]) * mult[0];\n            } else {\n              sc[k] += (animatorProps.sc.v[k] - sc[k]) * mult;\n            }\n          }\n        }\n        if (documentData.fillColorAnim && documentData.fc) {\n          if (animatorProps.fc.propType) {\n            for (k = 0; k < 3; k += 1) {\n              if (mult.length) {\n                fc[k] += (animatorProps.fc.v[k] - fc[k]) * mult[0];\n              } else {\n                fc[k] += (animatorProps.fc.v[k] - fc[k]) * mult;\n              }\n            }\n          }\n          if (animatorProps.fh.propType) {\n            if (mult.length) {\n              fc = addHueToRGB(fc, animatorProps.fh.v * mult[0]);\n            } else {\n              fc = addHueToRGB(fc, animatorProps.fh.v * mult);\n            }\n          }\n          if (animatorProps.fs.propType) {\n            if (mult.length) {\n              fc = addSaturationToRGB(fc, animatorProps.fs.v * mult[0]);\n            } else {\n              fc = addSaturationToRGB(fc, animatorProps.fs.v * mult);\n            }\n          }\n          if (animatorProps.fb.propType) {\n            if (mult.length) {\n              fc = addBrightnessToRGB(fc, animatorProps.fb.v * mult[0]);\n            } else {\n              fc = addBrightnessToRGB(fc, animatorProps.fb.v * mult);\n            }\n          }\n        }\n      }\n\n      for (j = 0; j < jLen; j += 1) {\n        animatorProps = animators[j].a;\n\n        if (animatorProps.p.propType) {\n          animatorSelector = animators[j].s;\n          mult = animatorSelector.getMult(letters[i].anIndexes[j], textData.a[j].s.totalChars);\n          if (this._hasMaskedPath) {\n            if (mult.length) {\n              matrixHelper.translate(0, animatorProps.p.v[1] * mult[0], -animatorProps.p.v[2] * mult[1]);\n            } else {\n              matrixHelper.translate(0, animatorProps.p.v[1] * mult, -animatorProps.p.v[2] * mult);\n            }\n          } else if (mult.length) {\n            matrixHelper.translate(animatorProps.p.v[0] * mult[0], animatorProps.p.v[1] * mult[1], -animatorProps.p.v[2] * mult[2]);\n          } else {\n            matrixHelper.translate(animatorProps.p.v[0] * mult, animatorProps.p.v[1] * mult, -animatorProps.p.v[2] * mult);\n          }\n        }\n      }\n      if (documentData.strokeWidthAnim) {\n        letterSw = sw < 0 ? 0 : sw;\n      }\n      if (documentData.strokeColorAnim) {\n        letterSc = 'rgb(' + Math.round(sc[0] * 255) + ',' + Math.round(sc[1] * 255) + ',' + Math.round(sc[2] * 255) + ')';\n      }\n      if (documentData.fillColorAnim && documentData.fc) {\n        letterFc = 'rgb(' + Math.round(fc[0] * 255) + ',' + Math.round(fc[1] * 255) + ',' + Math.round(fc[2] * 255) + ')';\n      }\n\n      if (this._hasMaskedPath) {\n        matrixHelper.translate(0, -documentData.ls);\n\n        matrixHelper.translate(0, (alignment[1] * yOff) * 0.01 + yPos, 0);\n        if (this._pathData.p.v) {\n          tanAngle = (currentPoint.point[1] - prevPoint.point[1]) / (currentPoint.point[0] - prevPoint.point[0]);\n          var rot = (Math.atan(tanAngle) * 180) / Math.PI;\n          if (currentPoint.point[0] < prevPoint.point[0]) {\n            rot += 180;\n          }\n          matrixHelper.rotate((-rot * Math.PI) / 180);\n        }\n        matrixHelper.translate(xPathPos, yPathPos, 0);\n        currentLength -= (alignment[0] * letters[i].an) * 0.005;\n        if (letters[i + 1] && ind !== letters[i + 1].ind) {\n          currentLength += letters[i].an / 2;\n          currentLength += (documentData.tr * 0.001) * documentData.finalSize;\n        }\n      } else {\n        matrixHelper.translate(xPos, yPos, 0);\n\n        if (documentData.ps) {\n          // matrixHelper.translate(documentData.ps[0],documentData.ps[1],0);\n          matrixHelper.translate(documentData.ps[0], documentData.ps[1] + documentData.ascent, 0);\n        }\n        switch (documentData.j) {\n          case 1:\n            matrixHelper.translate(letters[i].animatorJustifyOffset + documentData.justifyOffset + (documentData.boxWidth - documentData.lineWidths[letters[i].line]), 0, 0);\n            break;\n          case 2:\n            matrixHelper.translate(letters[i].animatorJustifyOffset + documentData.justifyOffset + (documentData.boxWidth - documentData.lineWidths[letters[i].line]) / 2, 0, 0);\n            break;\n          default:\n            break;\n        }\n        matrixHelper.translate(0, -documentData.ls);\n        matrixHelper.translate(offf, 0, 0);\n        matrixHelper.translate((alignment[0] * letters[i].an) * 0.005, (alignment[1] * yOff) * 0.01, 0);\n        xPos += letters[i].l + (documentData.tr * 0.001) * documentData.finalSize;\n      }\n      if (renderType === 'html') {\n        letterM = matrixHelper.toCSS();\n      } else if (renderType === 'svg') {\n        letterM = matrixHelper.to2dCSS();\n      } else {\n        letterP = [matrixHelper.props[0], matrixHelper.props[1], matrixHelper.props[2], matrixHelper.props[3], matrixHelper.props[4], matrixHelper.props[5], matrixHelper.props[6], matrixHelper.props[7], matrixHelper.props[8], matrixHelper.props[9], matrixHelper.props[10], matrixHelper.props[11], matrixHelper.props[12], matrixHelper.props[13], matrixHelper.props[14], matrixHelper.props[15]];\n      }\n      letterO = elemOpacity;\n    }\n\n    if (renderedLettersCount <= i) {\n      letterValue = new LetterProps(letterO, letterSw, letterSc, letterFc, letterM, letterP);\n      this.renderedLetters.push(letterValue);\n      renderedLettersCount += 1;\n      this.lettersChangedFlag = true;\n    } else {\n      letterValue = this.renderedLetters[i];\n      this.lettersChangedFlag = letterValue.update(letterO, letterSw, letterSc, letterFc, letterM, letterP) || this.lettersChangedFlag;\n    }\n  }\n};\n\nTextAnimatorProperty.prototype.getValue = function () {\n  if (this._elem.globalData.frameId === this._frameId) {\n    return;\n  }\n  this._frameId = this._elem.globalData.frameId;\n  this.iterateDynamicProperties();\n};\n\nTextAnimatorProperty.prototype.mHelper = new Matrix();\nTextAnimatorProperty.prototype.defaultPropsArray = [];\nextendPrototype([DynamicPropertyContainer], TextAnimatorProperty);\n\nfunction ITextElement() {\n}\n\nITextElement.prototype.initElement = function (data, globalData, comp) {\n  this.lettersChangedFlag = true;\n  this.initFrame();\n  this.initBaseData(data, globalData, comp);\n  this.textProperty = new TextProperty(this, data.t, this.dynamicProperties);\n  this.textAnimator = new TextAnimatorProperty(data.t, this.renderType, this);\n  this.initTransform(data, globalData, comp);\n  this.initHierarchy();\n  this.initRenderable();\n  this.initRendererElement();\n  this.createContainerElements();\n  this.createRenderableComponents();\n  this.createContent();\n  this.hide();\n  this.textAnimator.searchProperties(this.dynamicProperties);\n};\n\nITextElement.prototype.prepareFrame = function (num) {\n  this._mdf = false;\n  this.prepareRenderableFrame(num);\n  this.prepareProperties(num, this.isInRange);\n  if (this.textProperty._mdf || this.textProperty._isFirstFrame) {\n    this.buildNewText();\n    this.textProperty._isFirstFrame = false;\n    this.textProperty._mdf = false;\n  }\n};\n\nITextElement.prototype.createPathShape = function (matrixHelper, shapes) {\n  var j;\n  var jLen = shapes.length;\n  var pathNodes;\n  var shapeStr = '';\n  for (j = 0; j < jLen; j += 1) {\n    if (shapes[j].ty === 'sh') {\n      pathNodes = shapes[j].ks.k;\n      shapeStr += buildShapeString(pathNodes, pathNodes.i.length, true, matrixHelper);\n    }\n  }\n  return shapeStr;\n};\n\nITextElement.prototype.updateDocumentData = function (newData, index) {\n  this.textProperty.updateDocumentData(newData, index);\n};\n\nITextElement.prototype.canResizeFont = function (_canResize) {\n  this.textProperty.canResizeFont(_canResize);\n};\n\nITextElement.prototype.setMinimumFontSize = function (_fontSize) {\n  this.textProperty.setMinimumFontSize(_fontSize);\n};\n\nITextElement.prototype.applyTextPropertiesToMatrix = function (documentData, matrixHelper, lineNumber, xPos, yPos) {\n  if (documentData.ps) {\n    matrixHelper.translate(documentData.ps[0], documentData.ps[1] + documentData.ascent, 0);\n  }\n  matrixHelper.translate(0, -documentData.ls, 0);\n  switch (documentData.j) {\n    case 1:\n      matrixHelper.translate(documentData.justifyOffset + (documentData.boxWidth - documentData.lineWidths[lineNumber]), 0, 0);\n      break;\n    case 2:\n      matrixHelper.translate(documentData.justifyOffset + (documentData.boxWidth - documentData.lineWidths[lineNumber]) / 2, 0, 0);\n      break;\n    default:\n      break;\n  }\n  matrixHelper.translate(xPos, yPos, 0);\n};\n\nITextElement.prototype.buildColor = function (colorData) {\n  return 'rgb(' + Math.round(colorData[0] * 255) + ',' + Math.round(colorData[1] * 255) + ',' + Math.round(colorData[2] * 255) + ')';\n};\n\nITextElement.prototype.emptyProp = new LetterProps();\n\nITextElement.prototype.destroy = function () {\n\n};\n\nvar emptyShapeData = {\n  shapes: [],\n};\n\nfunction SVGTextLottieElement(data, globalData, comp) {\n  this.textSpans = [];\n  this.renderType = 'svg';\n  this.initElement(data, globalData, comp);\n}\n\nextendPrototype([BaseElement, TransformElement, SVGBaseElement, HierarchyElement, FrameElement, RenderableDOMElement, ITextElement], SVGTextLottieElement);\n\nSVGTextLottieElement.prototype.createContent = function () {\n  if (this.data.singleShape && !this.globalData.fontManager.chars) {\n    this.textContainer = createNS('text');\n  }\n};\n\nSVGTextLottieElement.prototype.buildTextContents = function (textArray) {\n  var i = 0;\n  var len = textArray.length;\n  var textContents = [];\n  var currentTextContent = '';\n  while (i < len) {\n    if (textArray[i] === String.fromCharCode(13) || textArray[i] === String.fromCharCode(3)) {\n      textContents.push(currentTextContent);\n      currentTextContent = '';\n    } else {\n      currentTextContent += textArray[i];\n    }\n    i += 1;\n  }\n  textContents.push(currentTextContent);\n  return textContents;\n};\n\nSVGTextLottieElement.prototype.buildShapeData = function (data, scale) {\n  // data should probably be cloned to apply scale separately to each instance of a text on different layers\n  // but since text internal content gets only rendered once and then it's never rerendered,\n  // it's probably safe not to clone data and reuse always the same instance even if the object is mutated.\n  // Avoiding cloning is preferred since cloning each character shape data is expensive\n  if (data.shapes && data.shapes.length) {\n    var shape = data.shapes[0];\n    if (shape.it) {\n      var shapeItem = shape.it[shape.it.length - 1];\n      if (shapeItem.s) {\n        shapeItem.s.k[0] = scale;\n        shapeItem.s.k[1] = scale;\n      }\n    }\n  }\n  return data;\n};\n\nSVGTextLottieElement.prototype.buildNewText = function () {\n  this.addDynamicProperty(this);\n  var i;\n  var len;\n\n  var documentData = this.textProperty.currentData;\n  this.renderedLetters = createSizedArray(documentData ? documentData.l.length : 0);\n  if (documentData.fc) {\n    this.layerElement.setAttribute('fill', this.buildColor(documentData.fc));\n  } else {\n    this.layerElement.setAttribute('fill', 'rgba(0,0,0,0)');\n  }\n  if (documentData.sc) {\n    this.layerElement.setAttribute('stroke', this.buildColor(documentData.sc));\n    this.layerElement.setAttribute('stroke-width', documentData.sw);\n  }\n  this.layerElement.setAttribute('font-size', documentData.finalSize);\n  var fontData = this.globalData.fontManager.getFontByName(documentData.f);\n  if (fontData.fClass) {\n    this.layerElement.setAttribute('class', fontData.fClass);\n  } else {\n    this.layerElement.setAttribute('font-family', fontData.fFamily);\n    var fWeight = documentData.fWeight;\n    var fStyle = documentData.fStyle;\n    this.layerElement.setAttribute('font-style', fStyle);\n    this.layerElement.setAttribute('font-weight', fWeight);\n  }\n  this.layerElement.setAttribute('aria-label', documentData.t);\n\n  var letters = documentData.l || [];\n  var usesGlyphs = !!this.globalData.fontManager.chars;\n  len = letters.length;\n\n  var tSpan;\n  var matrixHelper = this.mHelper;\n  var shapeStr = '';\n  var singleShape = this.data.singleShape;\n  var xPos = 0;\n  var yPos = 0;\n  var firstLine = true;\n  var trackingOffset = documentData.tr * 0.001 * documentData.finalSize;\n  if (singleShape && !usesGlyphs && !documentData.sz) {\n    var tElement = this.textContainer;\n    var justify = 'start';\n    switch (documentData.j) {\n      case 1:\n        justify = 'end';\n        break;\n      case 2:\n        justify = 'middle';\n        break;\n      default:\n        justify = 'start';\n        break;\n    }\n    tElement.setAttribute('text-anchor', justify);\n    tElement.setAttribute('letter-spacing', trackingOffset);\n    var textContent = this.buildTextContents(documentData.finalText);\n    len = textContent.length;\n    yPos = documentData.ps ? documentData.ps[1] + documentData.ascent : 0;\n    for (i = 0; i < len; i += 1) {\n      tSpan = this.textSpans[i].span || createNS('tspan');\n      tSpan.textContent = textContent[i];\n      tSpan.setAttribute('x', 0);\n      tSpan.setAttribute('y', yPos);\n      tSpan.style.display = 'inherit';\n      tElement.appendChild(tSpan);\n      if (!this.textSpans[i]) {\n        this.textSpans[i] = {\n          span: null,\n          glyph: null,\n        };\n      }\n      this.textSpans[i].span = tSpan;\n      yPos += documentData.finalLineHeight;\n    }\n\n    this.layerElement.appendChild(tElement);\n  } else {\n    var cachedSpansLength = this.textSpans.length;\n    var charData;\n    for (i = 0; i < len; i += 1) {\n      if (!this.textSpans[i]) {\n        this.textSpans[i] = {\n          span: null,\n          childSpan: null,\n          glyph: null,\n        };\n      }\n      if (!usesGlyphs || !singleShape || i === 0) {\n        tSpan = cachedSpansLength > i ? this.textSpans[i].span : createNS(usesGlyphs ? 'g' : 'text');\n        if (cachedSpansLength <= i) {\n          tSpan.setAttribute('stroke-linecap', 'butt');\n          tSpan.setAttribute('stroke-linejoin', 'round');\n          tSpan.setAttribute('stroke-miterlimit', '4');\n          this.textSpans[i].span = tSpan;\n          if (usesGlyphs) {\n            var childSpan = createNS('g');\n            tSpan.appendChild(childSpan);\n            this.textSpans[i].childSpan = childSpan;\n          }\n          this.textSpans[i].span = tSpan;\n          this.layerElement.appendChild(tSpan);\n        }\n        tSpan.style.display = 'inherit';\n      }\n\n      matrixHelper.reset();\n      if (singleShape) {\n        if (letters[i].n) {\n          xPos = -trackingOffset;\n          yPos += documentData.yOffset;\n          yPos += firstLine ? 1 : 0;\n          firstLine = false;\n        }\n        this.applyTextPropertiesToMatrix(documentData, matrixHelper, letters[i].line, xPos, yPos);\n        xPos += letters[i].l || 0;\n        // xPos += letters[i].val === ' ' ? 0 : trackingOffset;\n        xPos += trackingOffset;\n      }\n      if (usesGlyphs) {\n        charData = this.globalData.fontManager.getCharData(\n          documentData.finalText[i],\n          fontData.fStyle,\n          this.globalData.fontManager.getFontByName(documentData.f).fFamily\n        );\n        var glyphElement;\n        // t === 1 means the character has been replaced with an animated shaped\n        if (charData.t === 1) {\n          glyphElement = new SVGCompElement(charData.data, this.globalData, this);\n        } else {\n          var data = emptyShapeData;\n          if (charData.data && charData.data.shapes) {\n            data = this.buildShapeData(charData.data, documentData.finalSize);\n          }\n          glyphElement = new SVGShapeElement(data, this.globalData, this);\n        }\n        if (this.textSpans[i].glyph) {\n          var glyph = this.textSpans[i].glyph;\n          this.textSpans[i].childSpan.removeChild(glyph.layerElement);\n          glyph.destroy();\n        }\n        this.textSpans[i].glyph = glyphElement;\n        glyphElement._debug = true;\n        glyphElement.prepareFrame(0);\n        glyphElement.renderFrame();\n        this.textSpans[i].childSpan.appendChild(glyphElement.layerElement);\n        // when using animated shapes, the layer will be scaled instead of replacing the internal scale\n        // this might have issues with strokes and might need a different solution\n        if (charData.t === 1) {\n          this.textSpans[i].childSpan.setAttribute('transform', 'scale(' + documentData.finalSize / 100 + ',' + documentData.finalSize / 100 + ')');\n        }\n      } else {\n        if (singleShape) {\n          tSpan.setAttribute('transform', 'translate(' + matrixHelper.props[12] + ',' + matrixHelper.props[13] + ')');\n        }\n        tSpan.textContent = letters[i].val;\n        tSpan.setAttributeNS('http://www.w3.org/XML/1998/namespace', 'xml:space', 'preserve');\n      }\n      //\n    }\n    if (singleShape && tSpan) {\n      tSpan.setAttribute('d', shapeStr);\n    }\n  }\n  while (i < this.textSpans.length) {\n    this.textSpans[i].span.style.display = 'none';\n    i += 1;\n  }\n\n  this._sizeChanged = true;\n};\n\nSVGTextLottieElement.prototype.sourceRectAtTime = function () {\n  this.prepareFrame(this.comp.renderedFrame - this.data.st);\n  this.renderInnerContent();\n  if (this._sizeChanged) {\n    this._sizeChanged = false;\n    var textBox = this.layerElement.getBBox();\n    this.bbox = {\n      top: textBox.y,\n      left: textBox.x,\n      width: textBox.width,\n      height: textBox.height,\n    };\n  }\n  return this.bbox;\n};\n\nSVGTextLottieElement.prototype.getValue = function () {\n  var i;\n  var len = this.textSpans.length;\n  var glyphElement;\n  this.renderedFrame = this.comp.renderedFrame;\n  for (i = 0; i < len; i += 1) {\n    glyphElement = this.textSpans[i].glyph;\n    if (glyphElement) {\n      glyphElement.prepareFrame(this.comp.renderedFrame - this.data.st);\n      if (glyphElement._mdf) {\n        this._mdf = true;\n      }\n    }\n  }\n};\n\nSVGTextLottieElement.prototype.renderInnerContent = function () {\n  if (!this.data.singleShape || this._mdf) {\n    this.textAnimator.getMeasures(this.textProperty.currentData, this.lettersChangedFlag);\n    if (this.lettersChangedFlag || this.textAnimator.lettersChangedFlag) {\n      this._sizeChanged = true;\n      var i;\n      var len;\n      var renderedLetters = this.textAnimator.renderedLetters;\n\n      var letters = this.textProperty.currentData.l;\n\n      len = letters.length;\n      var renderedLetter;\n      var textSpan;\n      var glyphElement;\n      for (i = 0; i < len; i += 1) {\n        if (!letters[i].n) {\n          renderedLetter = renderedLetters[i];\n          textSpan = this.textSpans[i].span;\n          glyphElement = this.textSpans[i].glyph;\n          if (glyphElement) {\n            glyphElement.renderFrame();\n          }\n          if (renderedLetter._mdf.m) {\n            textSpan.setAttribute('transform', renderedLetter.m);\n          }\n          if (renderedLetter._mdf.o) {\n            textSpan.setAttribute('opacity', renderedLetter.o);\n          }\n          if (renderedLetter._mdf.sw) {\n            textSpan.setAttribute('stroke-width', renderedLetter.sw);\n          }\n          if (renderedLetter._mdf.sc) {\n            textSpan.setAttribute('stroke', renderedLetter.sc);\n          }\n          if (renderedLetter._mdf.fc) {\n            textSpan.setAttribute('fill', renderedLetter.fc);\n          }\n        }\n      }\n    }\n  }\n};\n\nfunction ISolidElement(data, globalData, comp) {\n  this.initElement(data, globalData, comp);\n}\nextendPrototype([IImageElement], ISolidElement);\n\nISolidElement.prototype.createContent = function () {\n  var rect = createNS('rect');\n  /// /rect.style.width = this.data.sw;\n  /// /rect.style.height = this.data.sh;\n  /// /rect.style.fill = this.data.sc;\n  rect.setAttribute('width', this.data.sw);\n  rect.setAttribute('height', this.data.sh);\n  rect.setAttribute('fill', this.data.sc);\n  this.layerElement.appendChild(rect);\n};\n\nfunction NullElement(data, globalData, comp) {\n  this.initFrame();\n  this.initBaseData(data, globalData, comp);\n  this.initFrame();\n  this.initTransform(data, globalData, comp);\n  this.initHierarchy();\n}\n\nNullElement.prototype.prepareFrame = function (num) {\n  this.prepareProperties(num, true);\n};\n\nNullElement.prototype.renderFrame = function () {\n};\n\nNullElement.prototype.getBaseElement = function () {\n  return null;\n};\n\nNullElement.prototype.destroy = function () {\n};\n\nNullElement.prototype.sourceRectAtTime = function () {\n};\n\nNullElement.prototype.hide = function () {\n};\n\nextendPrototype([BaseElement, TransformElement, HierarchyElement, FrameElement], NullElement);\n\nfunction SVGRendererBase() {\n}\n\nextendPrototype([BaseRenderer], SVGRendererBase);\n\nSVGRendererBase.prototype.createNull = function (data) {\n  return new NullElement(data, this.globalData, this);\n};\n\nSVGRendererBase.prototype.createShape = function (data) {\n  return new SVGShapeElement(data, this.globalData, this);\n};\n\nSVGRendererBase.prototype.createText = function (data) {\n  return new SVGTextLottieElement(data, this.globalData, this);\n};\n\nSVGRendererBase.prototype.createImage = function (data) {\n  return new IImageElement(data, this.globalData, this);\n};\n\nSVGRendererBase.prototype.createSolid = function (data) {\n  return new ISolidElement(data, this.globalData, this);\n};\n\nSVGRendererBase.prototype.configAnimation = function (animData) {\n  this.svgElement.setAttribute('xmlns', 'http://www.w3.org/2000/svg');\n  if (this.renderConfig.viewBoxSize) {\n    this.svgElement.setAttribute('viewBox', this.renderConfig.viewBoxSize);\n  } else {\n    this.svgElement.setAttribute('viewBox', '0 0 ' + animData.w + ' ' + animData.h);\n  }\n\n  if (!this.renderConfig.viewBoxOnly) {\n    this.svgElement.setAttribute('width', animData.w);\n    this.svgElement.setAttribute('height', animData.h);\n    this.svgElement.style.width = '100%';\n    this.svgElement.style.height = '100%';\n    this.svgElement.style.transform = 'translate3d(0,0,0)';\n    this.svgElement.style.contentVisibility = this.renderConfig.contentVisibility;\n  }\n  if (this.renderConfig.width) {\n    this.svgElement.setAttribute('width', this.renderConfig.width);\n  }\n  if (this.renderConfig.height) {\n    this.svgElement.setAttribute('height', this.renderConfig.height);\n  }\n  if (this.renderConfig.className) {\n    this.svgElement.setAttribute('class', this.renderConfig.className);\n  }\n  if (this.renderConfig.id) {\n    this.svgElement.setAttribute('id', this.renderConfig.id);\n  }\n  if (this.renderConfig.focusable !== undefined) {\n    this.svgElement.setAttribute('focusable', this.renderConfig.focusable);\n  }\n  this.svgElement.setAttribute('preserveAspectRatio', this.renderConfig.preserveAspectRatio);\n  // this.layerElement.style.transform = 'translate3d(0,0,0)';\n  // this.layerElement.style.transformOrigin = this.layerElement.style.mozTransformOrigin = this.layerElement.style.webkitTransformOrigin = this.layerElement.style['-webkit-transform'] = \"0px 0px 0px\";\n  this.animationItem.wrapper.appendChild(this.svgElement);\n  // Mask animation\n  var defs = this.globalData.defs;\n\n  this.setupGlobalData(animData, defs);\n  this.globalData.progressiveLoad = this.renderConfig.progressiveLoad;\n  this.data = animData;\n\n  var maskElement = createNS('clipPath');\n  var rect = createNS('rect');\n  rect.setAttribute('width', animData.w);\n  rect.setAttribute('height', animData.h);\n  rect.setAttribute('x', 0);\n  rect.setAttribute('y', 0);\n  var maskId = createElementID();\n  maskElement.setAttribute('id', maskId);\n  maskElement.appendChild(rect);\n  this.layerElement.setAttribute('clip-path', 'url(' + getLocationHref() + '#' + maskId + ')');\n\n  defs.appendChild(maskElement);\n  this.layers = animData.layers;\n  this.elements = createSizedArray(animData.layers.length);\n};\n\nSVGRendererBase.prototype.destroy = function () {\n  if (this.animationItem.wrapper) {\n    this.animationItem.wrapper.innerText = '';\n  }\n  this.layerElement = null;\n  this.globalData.defs = null;\n  var i;\n  var len = this.layers ? this.layers.length : 0;\n  for (i = 0; i < len; i += 1) {\n    if (this.elements[i]) {\n      this.elements[i].destroy();\n    }\n  }\n  this.elements.length = 0;\n  this.destroyed = true;\n  this.animationItem = null;\n};\n\nSVGRendererBase.prototype.updateContainerSize = function () {\n};\n\nSVGRendererBase.prototype.buildItem = function (pos) {\n  var elements = this.elements;\n  if (elements[pos] || this.layers[pos].ty === 99) {\n    return;\n  }\n  elements[pos] = true;\n  var element = this.createItem(this.layers[pos]);\n\n  elements[pos] = element;\n  if (getExpressionsPlugin()) {\n    if (this.layers[pos].ty === 0) {\n      this.globalData.projectInterface.registerComposition(element);\n    }\n    element.initExpressions();\n  }\n  this.appendElementInPos(element, pos);\n  if (this.layers[pos].tt) {\n    if (!this.elements[pos - 1] || this.elements[pos - 1] === true) {\n      this.buildItem(pos - 1);\n      this.addPendingElement(element);\n    } else {\n      element.setMatte(elements[pos - 1].layerId);\n    }\n  }\n};\n\nSVGRendererBase.prototype.checkPendingElements = function () {\n  while (this.pendingElements.length) {\n    var element = this.pendingElements.pop();\n    element.checkParenting();\n    if (element.data.tt) {\n      var i = 0;\n      var len = this.elements.length;\n      while (i < len) {\n        if (this.elements[i] === element) {\n          element.setMatte(this.elements[i - 1].layerId);\n          break;\n        }\n        i += 1;\n      }\n    }\n  }\n};\n\nSVGRendererBase.prototype.renderFrame = function (num) {\n  if (this.renderedFrame === num || this.destroyed) {\n    return;\n  }\n  if (num === null) {\n    num = this.renderedFrame;\n  } else {\n    this.renderedFrame = num;\n  }\n  // console.log('-------');\n  // console.log('FRAME ',num);\n  this.globalData.frameNum = num;\n  this.globalData.frameId += 1;\n  this.globalData.projectInterface.currentFrame = num;\n  this.globalData._mdf = false;\n  var i;\n  var len = this.layers.length;\n  if (!this.completeLayers) {\n    this.checkLayers(num);\n  }\n  for (i = len - 1; i >= 0; i -= 1) {\n    if (this.completeLayers || this.elements[i]) {\n      this.elements[i].prepareFrame(num - this.layers[i].st);\n    }\n  }\n  if (this.globalData._mdf) {\n    for (i = 0; i < len; i += 1) {\n      if (this.completeLayers || this.elements[i]) {\n        this.elements[i].renderFrame();\n      }\n    }\n  }\n};\n\nSVGRendererBase.prototype.appendElementInPos = function (element, pos) {\n  var newElement = element.getBaseElement();\n  if (!newElement) {\n    return;\n  }\n  var i = 0;\n  var nextElement;\n  while (i < pos) {\n    if (this.elements[i] && this.elements[i] !== true && this.elements[i].getBaseElement()) {\n      nextElement = this.elements[i].getBaseElement();\n    }\n    i += 1;\n  }\n  if (nextElement) {\n    this.layerElement.insertBefore(newElement, nextElement);\n  } else {\n    this.layerElement.appendChild(newElement);\n  }\n};\n\nSVGRendererBase.prototype.hide = function () {\n  this.layerElement.style.display = 'none';\n};\n\nSVGRendererBase.prototype.show = function () {\n  this.layerElement.style.display = 'block';\n};\n\nfunction ICompElement() {}\n\nextendPrototype([BaseElement, TransformElement, HierarchyElement, FrameElement, RenderableDOMElement], ICompElement);\n\nICompElement.prototype.initElement = function (data, globalData, comp) {\n  this.initFrame();\n  this.initBaseData(data, globalData, comp);\n  this.initTransform(data, globalData, comp);\n  this.initRenderable();\n  this.initHierarchy();\n  this.initRendererElement();\n  this.createContainerElements();\n  this.createRenderableComponents();\n  if (this.data.xt || !globalData.progressiveLoad) {\n    this.buildAllItems();\n  }\n  this.hide();\n};\n\n/* ICompElement.prototype.hide = function(){\n    if(!this.hidden){\n        this.hideElement();\n        var i,len = this.elements.length;\n        for( i = 0; i < len; i+=1 ){\n            if(this.elements[i]){\n                this.elements[i].hide();\n            }\n        }\n    }\n}; */\n\nICompElement.prototype.prepareFrame = function (num) {\n  this._mdf = false;\n  this.prepareRenderableFrame(num);\n  this.prepareProperties(num, this.isInRange);\n  if (!this.isInRange && !this.data.xt) {\n    return;\n  }\n\n  if (!this.tm._placeholder) {\n    var timeRemapped = this.tm.v;\n    if (timeRemapped === this.data.op) {\n      timeRemapped = this.data.op - 1;\n    }\n    this.renderedFrame = timeRemapped;\n  } else {\n    this.renderedFrame = num / this.data.sr;\n  }\n  var i;\n  var len = this.elements.length;\n  if (!this.completeLayers) {\n    this.checkLayers(this.renderedFrame);\n  }\n  // This iteration needs to be backwards because of how expressions connect between each other\n  for (i = len - 1; i >= 0; i -= 1) {\n    if (this.completeLayers || this.elements[i]) {\n      this.elements[i].prepareFrame(this.renderedFrame - this.layers[i].st);\n      if (this.elements[i]._mdf) {\n        this._mdf = true;\n      }\n    }\n  }\n};\n\nICompElement.prototype.renderInnerContent = function () {\n  var i;\n  var len = this.layers.length;\n  for (i = 0; i < len; i += 1) {\n    if (this.completeLayers || this.elements[i]) {\n      this.elements[i].renderFrame();\n    }\n  }\n};\n\nICompElement.prototype.setElements = function (elems) {\n  this.elements = elems;\n};\n\nICompElement.prototype.getElements = function () {\n  return this.elements;\n};\n\nICompElement.prototype.destroyElements = function () {\n  var i;\n  var len = this.layers.length;\n  for (i = 0; i < len; i += 1) {\n    if (this.elements[i]) {\n      this.elements[i].destroy();\n    }\n  }\n};\n\nICompElement.prototype.destroy = function () {\n  this.destroyElements();\n  this.destroyBaseElement();\n};\n\nfunction SVGCompElement(data, globalData, comp) {\n  this.layers = data.layers;\n  this.supports3d = true;\n  this.completeLayers = false;\n  this.pendingElements = [];\n  this.elements = this.layers ? createSizedArray(this.layers.length) : [];\n  this.initElement(data, globalData, comp);\n  this.tm = data.tm ? PropertyFactory.getProp(this, data.tm, 0, globalData.frameRate, this) : { _placeholder: true };\n}\n\nextendPrototype([SVGRendererBase, ICompElement, SVGBaseElement], SVGCompElement);\n\nSVGCompElement.prototype.createComp = function (data) {\n  return new SVGCompElement(data, this.globalData, this);\n};\n\nfunction SVGRenderer(animationItem, config) {\n  this.animationItem = animationItem;\n  this.layers = null;\n  this.renderedFrame = -1;\n  this.svgElement = createNS('svg');\n  var ariaLabel = '';\n  if (config && config.title) {\n    var titleElement = createNS('title');\n    var titleId = createElementID();\n    titleElement.setAttribute('id', titleId);\n    titleElement.textContent = config.title;\n    this.svgElement.appendChild(titleElement);\n    ariaLabel += titleId;\n  }\n  if (config && config.description) {\n    var descElement = createNS('desc');\n    var descId = createElementID();\n    descElement.setAttribute('id', descId);\n    descElement.textContent = config.description;\n    this.svgElement.appendChild(descElement);\n    ariaLabel += ' ' + descId;\n  }\n  if (ariaLabel) {\n    this.svgElement.setAttribute('aria-labelledby', ariaLabel);\n  }\n  var defs = createNS('defs');\n  this.svgElement.appendChild(defs);\n  var maskElement = createNS('g');\n  this.svgElement.appendChild(maskElement);\n  this.layerElement = maskElement;\n  this.renderConfig = {\n    preserveAspectRatio: (config && config.preserveAspectRatio) || 'xMidYMid meet',\n    imagePreserveAspectRatio: (config && config.imagePreserveAspectRatio) || 'xMidYMid slice',\n    contentVisibility: (config && config.contentVisibility) || 'visible',\n    progressiveLoad: (config && config.progressiveLoad) || false,\n    hideOnTransparent: !((config && config.hideOnTransparent === false)),\n    viewBoxOnly: (config && config.viewBoxOnly) || false,\n    viewBoxSize: (config && config.viewBoxSize) || false,\n    className: (config && config.className) || '',\n    id: (config && config.id) || '',\n    focusable: config && config.focusable,\n    filterSize: {\n      width: (config && config.filterSize && config.filterSize.width) || '100%',\n      height: (config && config.filterSize && config.filterSize.height) || '100%',\n      x: (config && config.filterSize && config.filterSize.x) || '0%',\n      y: (config && config.filterSize && config.filterSize.y) || '0%',\n    },\n    width: (config && config.width),\n    height: (config && config.height),\n  };\n\n  this.globalData = {\n    _mdf: false,\n    frameNum: -1,\n    defs: defs,\n    renderConfig: this.renderConfig,\n  };\n  this.elements = [];\n  this.pendingElements = [];\n  this.destroyed = false;\n  this.rendererType = 'svg';\n}\n\nextendPrototype([SVGRendererBase], SVGRenderer);\n\nSVGRenderer.prototype.createComp = function (data) {\n  return new SVGCompElement(data, this.globalData, this);\n};\n\nfunction CVContextData() {\n  this.saved = [];\n  this.cArrPos = 0;\n  this.cTr = new Matrix();\n  this.cO = 1;\n  var i;\n  var len = 15;\n  this.savedOp = createTypedArray('float32', len);\n  for (i = 0; i < len; i += 1) {\n    this.saved[i] = createTypedArray('float32', 16);\n  }\n  this._length = len;\n}\n\nCVContextData.prototype.duplicate = function () {\n  var newLength = this._length * 2;\n  var currentSavedOp = this.savedOp;\n  this.savedOp = createTypedArray('float32', newLength);\n  this.savedOp.set(currentSavedOp);\n  var i = 0;\n  for (i = this._length; i < newLength; i += 1) {\n    this.saved[i] = createTypedArray('float32', 16);\n  }\n  this._length = newLength;\n};\n\nCVContextData.prototype.reset = function () {\n  this.cArrPos = 0;\n  this.cTr.reset();\n  this.cO = 1;\n};\n\nfunction ShapeTransformManager() {\n  this.sequences = {};\n  this.sequenceList = [];\n  this.transform_key_count = 0;\n}\n\nShapeTransformManager.prototype = {\n  addTransformSequence: function (transforms) {\n    var i;\n    var len = transforms.length;\n    var key = '_';\n    for (i = 0; i < len; i += 1) {\n      key += transforms[i].transform.key + '_';\n    }\n    var sequence = this.sequences[key];\n    if (!sequence) {\n      sequence = {\n        transforms: [].concat(transforms),\n        finalTransform: new Matrix(),\n        _mdf: false,\n      };\n      this.sequences[key] = sequence;\n      this.sequenceList.push(sequence);\n    }\n    return sequence;\n  },\n  processSequence: function (sequence, isFirstFrame) {\n    var i = 0;\n    var len = sequence.transforms.length;\n    var _mdf = isFirstFrame;\n    while (i < len && !isFirstFrame) {\n      if (sequence.transforms[i].transform.mProps._mdf) {\n        _mdf = true;\n        break;\n      }\n      i += 1;\n    }\n    if (_mdf) {\n      var props;\n      sequence.finalTransform.reset();\n      for (i = len - 1; i >= 0; i -= 1) {\n        props = sequence.transforms[i].transform.mProps.v.props;\n        sequence.finalTransform.transform(props[0], props[1], props[2], props[3], props[4], props[5], props[6], props[7], props[8], props[9], props[10], props[11], props[12], props[13], props[14], props[15]);\n      }\n    }\n    sequence._mdf = _mdf;\n  },\n  processSequences: function (isFirstFrame) {\n    var i;\n    var len = this.sequenceList.length;\n    for (i = 0; i < len; i += 1) {\n      this.processSequence(this.sequenceList[i], isFirstFrame);\n    }\n  },\n  getNewKey: function () {\n    this.transform_key_count += 1;\n    return '_' + this.transform_key_count;\n  },\n};\n\nfunction CVEffects() {\n\n}\nCVEffects.prototype.renderFrame = function () {};\n\nfunction CVMaskElement(data, element) {\n  this.data = data;\n  this.element = element;\n  this.masksProperties = this.data.masksProperties || [];\n  this.viewData = createSizedArray(this.masksProperties.length);\n  var i;\n  var len = this.masksProperties.length;\n  var hasMasks = false;\n  for (i = 0; i < len; i += 1) {\n    if (this.masksProperties[i].mode !== 'n') {\n      hasMasks = true;\n    }\n    this.viewData[i] = ShapePropertyFactory.getShapeProp(this.element, this.masksProperties[i], 3);\n  }\n  this.hasMasks = hasMasks;\n  if (hasMasks) {\n    this.element.addRenderableComponent(this);\n  }\n}\n\nCVMaskElement.prototype.renderFrame = function () {\n  if (!this.hasMasks) {\n    return;\n  }\n  var transform = this.element.finalTransform.mat;\n  var ctx = this.element.canvasContext;\n  var i;\n  var len = this.masksProperties.length;\n  var pt;\n  var pts;\n  var data;\n  ctx.beginPath();\n  for (i = 0; i < len; i += 1) {\n    if (this.masksProperties[i].mode !== 'n') {\n      if (this.masksProperties[i].inv) {\n        ctx.moveTo(0, 0);\n        ctx.lineTo(this.element.globalData.compSize.w, 0);\n        ctx.lineTo(this.element.globalData.compSize.w, this.element.globalData.compSize.h);\n        ctx.lineTo(0, this.element.globalData.compSize.h);\n        ctx.lineTo(0, 0);\n      }\n      data = this.viewData[i].v;\n      pt = transform.applyToPointArray(data.v[0][0], data.v[0][1], 0);\n      ctx.moveTo(pt[0], pt[1]);\n      var j;\n      var jLen = data._length;\n      for (j = 1; j < jLen; j += 1) {\n        pts = transform.applyToTriplePoints(data.o[j - 1], data.i[j], data.v[j]);\n        ctx.bezierCurveTo(pts[0], pts[1], pts[2], pts[3], pts[4], pts[5]);\n      }\n      pts = transform.applyToTriplePoints(data.o[j - 1], data.i[0], data.v[0]);\n      ctx.bezierCurveTo(pts[0], pts[1], pts[2], pts[3], pts[4], pts[5]);\n    }\n  }\n  this.element.globalData.renderer.save(true);\n  ctx.clip();\n};\n\nCVMaskElement.prototype.getMaskProperty = MaskElement.prototype.getMaskProperty;\n\nCVMaskElement.prototype.destroy = function () {\n  this.element = null;\n};\n\nfunction CVBaseElement() {\n}\n\nCVBaseElement.prototype = {\n  createElements: function () {},\n  initRendererElement: function () {},\n  createContainerElements: function () {\n    this.canvasContext = this.globalData.canvasContext;\n    this.renderableEffectsManager = new CVEffects(this);\n  },\n  createContent: function () {},\n  setBlendMode: function () {\n    var globalData = this.globalData;\n    if (globalData.blendMode !== this.data.bm) {\n      globalData.blendMode = this.data.bm;\n      var blendModeValue = getBlendMode(this.data.bm);\n      globalData.canvasContext.globalCompositeOperation = blendModeValue;\n    }\n  },\n  createRenderableComponents: function () {\n    this.maskManager = new CVMaskElement(this.data, this);\n  },\n  hideElement: function () {\n    if (!this.hidden && (!this.isInRange || this.isTransparent)) {\n      this.hidden = true;\n    }\n  },\n  showElement: function () {\n    if (this.isInRange && !this.isTransparent) {\n      this.hidden = false;\n      this._isFirstFrame = true;\n      this.maskManager._isFirstFrame = true;\n    }\n  },\n  renderFrame: function () {\n    if (this.hidden || this.data.hd) {\n      return;\n    }\n    this.renderTransform();\n    this.renderRenderable();\n    this.setBlendMode();\n    var forceRealStack = this.data.ty === 0;\n    this.globalData.renderer.save(forceRealStack);\n    this.globalData.renderer.ctxTransform(this.finalTransform.mat.props);\n    this.globalData.renderer.ctxOpacity(this.finalTransform.mProp.o.v);\n    this.renderInnerContent();\n    this.globalData.renderer.restore(forceRealStack);\n    if (this.maskManager.hasMasks) {\n      this.globalData.renderer.restore(true);\n    }\n    if (this._isFirstFrame) {\n      this._isFirstFrame = false;\n    }\n  },\n  destroy: function () {\n    this.canvasContext = null;\n    this.data = null;\n    this.globalData = null;\n    this.maskManager.destroy();\n  },\n  mHelper: new Matrix(),\n};\nCVBaseElement.prototype.hide = CVBaseElement.prototype.hideElement;\nCVBaseElement.prototype.show = CVBaseElement.prototype.showElement;\n\nfunction CVShapeData(element, data, styles, transformsManager) {\n  this.styledShapes = [];\n  this.tr = [0, 0, 0, 0, 0, 0];\n  var ty = 4;\n  if (data.ty === 'rc') {\n    ty = 5;\n  } else if (data.ty === 'el') {\n    ty = 6;\n  } else if (data.ty === 'sr') {\n    ty = 7;\n  }\n  this.sh = ShapePropertyFactory.getShapeProp(element, data, ty, element);\n  var i;\n  var len = styles.length;\n  var styledShape;\n  for (i = 0; i < len; i += 1) {\n    if (!styles[i].closed) {\n      styledShape = {\n        transforms: transformsManager.addTransformSequence(styles[i].transforms),\n        trNodes: [],\n      };\n      this.styledShapes.push(styledShape);\n      styles[i].elements.push(styledShape);\n    }\n  }\n}\n\nCVShapeData.prototype.setAsAnimated = SVGShapeData.prototype.setAsAnimated;\n\nfunction CVShapeElement(data, globalData, comp) {\n  this.shapes = [];\n  this.shapesData = data.shapes;\n  this.stylesList = [];\n  this.itemsData = [];\n  this.prevViewData = [];\n  this.shapeModifiers = [];\n  this.processedElements = [];\n  this.transformsManager = new ShapeTransformManager();\n  this.initElement(data, globalData, comp);\n}\n\nextendPrototype([BaseElement, TransformElement, CVBaseElement, IShapeElement, HierarchyElement, FrameElement, RenderableElement], CVShapeElement);\n\nCVShapeElement.prototype.initElement = RenderableDOMElement.prototype.initElement;\n\nCVShapeElement.prototype.transformHelper = { opacity: 1, _opMdf: false };\n\nCVShapeElement.prototype.dashResetter = [];\n\nCVShapeElement.prototype.createContent = function () {\n  this.searchShapes(this.shapesData, this.itemsData, this.prevViewData, true, []);\n};\n\nCVShapeElement.prototype.createStyleElement = function (data, transforms) {\n  var styleElem = {\n    data: data,\n    type: data.ty,\n    preTransforms: this.transformsManager.addTransformSequence(transforms),\n    transforms: [],\n    elements: [],\n    closed: data.hd === true,\n  };\n  var elementData = {};\n  if (data.ty === 'fl' || data.ty === 'st') {\n    elementData.c = PropertyFactory.getProp(this, data.c, 1, 255, this);\n    if (!elementData.c.k) {\n      styleElem.co = 'rgb(' + bmFloor(elementData.c.v[0]) + ',' + bmFloor(elementData.c.v[1]) + ',' + bmFloor(elementData.c.v[2]) + ')';\n    }\n  } else if (data.ty === 'gf' || data.ty === 'gs') {\n    elementData.s = PropertyFactory.getProp(this, data.s, 1, null, this);\n    elementData.e = PropertyFactory.getProp(this, data.e, 1, null, this);\n    elementData.h = PropertyFactory.getProp(this, data.h || { k: 0 }, 0, 0.01, this);\n    elementData.a = PropertyFactory.getProp(this, data.a || { k: 0 }, 0, degToRads, this);\n    elementData.g = new GradientProperty(this, data.g, this);\n  }\n  elementData.o = PropertyFactory.getProp(this, data.o, 0, 0.01, this);\n  if (data.ty === 'st' || data.ty === 'gs') {\n    styleElem.lc = lineCapEnum[data.lc || 2];\n    styleElem.lj = lineJoinEnum[data.lj || 2];\n    if (data.lj == 1) { // eslint-disable-line eqeqeq\n      styleElem.ml = data.ml;\n    }\n    elementData.w = PropertyFactory.getProp(this, data.w, 0, null, this);\n    if (!elementData.w.k) {\n      styleElem.wi = elementData.w.v;\n    }\n    if (data.d) {\n      var d = new DashProperty(this, data.d, 'canvas', this);\n      elementData.d = d;\n      if (!elementData.d.k) {\n        styleElem.da = elementData.d.dashArray;\n        styleElem.do = elementData.d.dashoffset[0];\n      }\n    }\n  } else {\n    styleElem.r = data.r === 2 ? 'evenodd' : 'nonzero';\n  }\n  this.stylesList.push(styleElem);\n  elementData.style = styleElem;\n  return elementData;\n};\n\nCVShapeElement.prototype.createGroupElement = function () {\n  var elementData = {\n    it: [],\n    prevViewData: [],\n  };\n  return elementData;\n};\n\nCVShapeElement.prototype.createTransformElement = function (data) {\n  var elementData = {\n    transform: {\n      opacity: 1,\n      _opMdf: false,\n      key: this.transformsManager.getNewKey(),\n      op: PropertyFactory.getProp(this, data.o, 0, 0.01, this),\n      mProps: TransformPropertyFactory.getTransformProperty(this, data, this),\n    },\n  };\n  return elementData;\n};\n\nCVShapeElement.prototype.createShapeElement = function (data) {\n  var elementData = new CVShapeData(this, data, this.stylesList, this.transformsManager);\n\n  this.shapes.push(elementData);\n  this.addShapeToModifiers(elementData);\n  return elementData;\n};\n\nCVShapeElement.prototype.reloadShapes = function () {\n  this._isFirstFrame = true;\n  var i;\n  var len = this.itemsData.length;\n  for (i = 0; i < len; i += 1) {\n    this.prevViewData[i] = this.itemsData[i];\n  }\n  this.searchShapes(this.shapesData, this.itemsData, this.prevViewData, true, []);\n  len = this.dynamicProperties.length;\n  for (i = 0; i < len; i += 1) {\n    this.dynamicProperties[i].getValue();\n  }\n  this.renderModifiers();\n  this.transformsManager.processSequences(this._isFirstFrame);\n};\n\nCVShapeElement.prototype.addTransformToStyleList = function (transform) {\n  var i;\n  var len = this.stylesList.length;\n  for (i = 0; i < len; i += 1) {\n    if (!this.stylesList[i].closed) {\n      this.stylesList[i].transforms.push(transform);\n    }\n  }\n};\n\nCVShapeElement.prototype.removeTransformFromStyleList = function () {\n  var i;\n  var len = this.stylesList.length;\n  for (i = 0; i < len; i += 1) {\n    if (!this.stylesList[i].closed) {\n      this.stylesList[i].transforms.pop();\n    }\n  }\n};\n\nCVShapeElement.prototype.closeStyles = function (styles) {\n  var i;\n  var len = styles.length;\n  for (i = 0; i < len; i += 1) {\n    styles[i].closed = true;\n  }\n};\n\nCVShapeElement.prototype.searchShapes = function (arr, itemsData, prevViewData, shouldRender, transforms) {\n  var i;\n  var len = arr.length - 1;\n  var j;\n  var jLen;\n  var ownStyles = [];\n  var ownModifiers = [];\n  var processedPos;\n  var modifier;\n  var currentTransform;\n  var ownTransforms = [].concat(transforms);\n  for (i = len; i >= 0; i -= 1) {\n    processedPos = this.searchProcessedElement(arr[i]);\n    if (!processedPos) {\n      arr[i]._shouldRender = shouldRender;\n    } else {\n      itemsData[i] = prevViewData[processedPos - 1];\n    }\n    if (arr[i].ty === 'fl' || arr[i].ty === 'st' || arr[i].ty === 'gf' || arr[i].ty === 'gs') {\n      if (!processedPos) {\n        itemsData[i] = this.createStyleElement(arr[i], ownTransforms);\n      } else {\n        itemsData[i].style.closed = false;\n      }\n\n      ownStyles.push(itemsData[i].style);\n    } else if (arr[i].ty === 'gr') {\n      if (!processedPos) {\n        itemsData[i] = this.createGroupElement(arr[i]);\n      } else {\n        jLen = itemsData[i].it.length;\n        for (j = 0; j < jLen; j += 1) {\n          itemsData[i].prevViewData[j] = itemsData[i].it[j];\n        }\n      }\n      this.searchShapes(arr[i].it, itemsData[i].it, itemsData[i].prevViewData, shouldRender, ownTransforms);\n    } else if (arr[i].ty === 'tr') {\n      if (!processedPos) {\n        currentTransform = this.createTransformElement(arr[i]);\n        itemsData[i] = currentTransform;\n      }\n      ownTransforms.push(itemsData[i]);\n      this.addTransformToStyleList(itemsData[i]);\n    } else if (arr[i].ty === 'sh' || arr[i].ty === 'rc' || arr[i].ty === 'el' || arr[i].ty === 'sr') {\n      if (!processedPos) {\n        itemsData[i] = this.createShapeElement(arr[i]);\n      }\n    } else if (arr[i].ty === 'tm' || arr[i].ty === 'rd' || arr[i].ty === 'pb') {\n      if (!processedPos) {\n        modifier = ShapeModifiers.getModifier(arr[i].ty);\n        modifier.init(this, arr[i]);\n        itemsData[i] = modifier;\n        this.shapeModifiers.push(modifier);\n      } else {\n        modifier = itemsData[i];\n        modifier.closed = false;\n      }\n      ownModifiers.push(modifier);\n    } else if (arr[i].ty === 'rp') {\n      if (!processedPos) {\n        modifier = ShapeModifiers.getModifier(arr[i].ty);\n        itemsData[i] = modifier;\n        modifier.init(this, arr, i, itemsData);\n        this.shapeModifiers.push(modifier);\n        shouldRender = false;\n      } else {\n        modifier = itemsData[i];\n        modifier.closed = true;\n      }\n      ownModifiers.push(modifier);\n    }\n    this.addProcessedElement(arr[i], i + 1);\n  }\n  this.removeTransformFromStyleList();\n  this.closeStyles(ownStyles);\n  len = ownModifiers.length;\n  for (i = 0; i < len; i += 1) {\n    ownModifiers[i].closed = true;\n  }\n};\n\nCVShapeElement.prototype.renderInnerContent = function () {\n  this.transformHelper.opacity = 1;\n  this.transformHelper._opMdf = false;\n  this.renderModifiers();\n  this.transformsManager.processSequences(this._isFirstFrame);\n  this.renderShape(this.transformHelper, this.shapesData, this.itemsData, true);\n};\n\nCVShapeElement.prototype.renderShapeTransform = function (parentTransform, groupTransform) {\n  if (parentTransform._opMdf || groupTransform.op._mdf || this._isFirstFrame) {\n    groupTransform.opacity = parentTransform.opacity;\n    groupTransform.opacity *= groupTransform.op.v;\n    groupTransform._opMdf = true;\n  }\n};\n\nCVShapeElement.prototype.drawLayer = function () {\n  var i;\n  var len = this.stylesList.length;\n  var j;\n  var jLen;\n  var k;\n  var kLen;\n  var elems;\n  var nodes;\n  var renderer = this.globalData.renderer;\n  var ctx = this.globalData.canvasContext;\n  var type;\n  var currentStyle;\n  for (i = 0; i < len; i += 1) {\n    currentStyle = this.stylesList[i];\n    type = currentStyle.type;\n\n    // Skipping style when\n    // Stroke width equals 0\n    // style should not be rendered (extra unused repeaters)\n    // current opacity equals 0\n    // global opacity equals 0\n    if (!(((type === 'st' || type === 'gs') && currentStyle.wi === 0) || !currentStyle.data._shouldRender || currentStyle.coOp === 0 || this.globalData.currentGlobalAlpha === 0)) {\n      renderer.save();\n      elems = currentStyle.elements;\n      if (type === 'st' || type === 'gs') {\n        ctx.strokeStyle = type === 'st' ? currentStyle.co : currentStyle.grd;\n        ctx.lineWidth = currentStyle.wi;\n        ctx.lineCap = currentStyle.lc;\n        ctx.lineJoin = currentStyle.lj;\n        ctx.miterLimit = currentStyle.ml || 0;\n      } else {\n        ctx.fillStyle = type === 'fl' ? currentStyle.co : currentStyle.grd;\n      }\n      renderer.ctxOpacity(currentStyle.coOp);\n      if (type !== 'st' && type !== 'gs') {\n        ctx.beginPath();\n      }\n      renderer.ctxTransform(currentStyle.preTransforms.finalTransform.props);\n      jLen = elems.length;\n      for (j = 0; j < jLen; j += 1) {\n        if (type === 'st' || type === 'gs') {\n          ctx.beginPath();\n          if (currentStyle.da) {\n            ctx.setLineDash(currentStyle.da);\n            ctx.lineDashOffset = currentStyle.do;\n          }\n        }\n        nodes = elems[j].trNodes;\n        kLen = nodes.length;\n\n        for (k = 0; k < kLen; k += 1) {\n          if (nodes[k].t === 'm') {\n            ctx.moveTo(nodes[k].p[0], nodes[k].p[1]);\n          } else if (nodes[k].t === 'c') {\n            ctx.bezierCurveTo(nodes[k].pts[0], nodes[k].pts[1], nodes[k].pts[2], nodes[k].pts[3], nodes[k].pts[4], nodes[k].pts[5]);\n          } else {\n            ctx.closePath();\n          }\n        }\n        if (type === 'st' || type === 'gs') {\n          ctx.stroke();\n          if (currentStyle.da) {\n            ctx.setLineDash(this.dashResetter);\n          }\n        }\n      }\n      if (type !== 'st' && type !== 'gs') {\n        ctx.fill(currentStyle.r);\n      }\n      renderer.restore();\n    }\n  }\n};\n\nCVShapeElement.prototype.renderShape = function (parentTransform, items, data, isMain) {\n  var i;\n  var len = items.length - 1;\n  var groupTransform;\n  groupTransform = parentTransform;\n  for (i = len; i >= 0; i -= 1) {\n    if (items[i].ty === 'tr') {\n      groupTransform = data[i].transform;\n      this.renderShapeTransform(parentTransform, groupTransform);\n    } else if (items[i].ty === 'sh' || items[i].ty === 'el' || items[i].ty === 'rc' || items[i].ty === 'sr') {\n      this.renderPath(items[i], data[i]);\n    } else if (items[i].ty === 'fl') {\n      this.renderFill(items[i], data[i], groupTransform);\n    } else if (items[i].ty === 'st') {\n      this.renderStroke(items[i], data[i], groupTransform);\n    } else if (items[i].ty === 'gf' || items[i].ty === 'gs') {\n      this.renderGradientFill(items[i], data[i], groupTransform);\n    } else if (items[i].ty === 'gr') {\n      this.renderShape(groupTransform, items[i].it, data[i].it);\n    } else if (items[i].ty === 'tm') {\n      //\n    }\n  }\n  if (isMain) {\n    this.drawLayer();\n  }\n};\n\nCVShapeElement.prototype.renderStyledShape = function (styledShape, shape) {\n  if (this._isFirstFrame || shape._mdf || styledShape.transforms._mdf) {\n    var shapeNodes = styledShape.trNodes;\n    var paths = shape.paths;\n    var i;\n    var len;\n    var j;\n    var jLen = paths._length;\n    shapeNodes.length = 0;\n    var groupTransformMat = styledShape.transforms.finalTransform;\n    for (j = 0; j < jLen; j += 1) {\n      var pathNodes = paths.shapes[j];\n      if (pathNodes && pathNodes.v) {\n        len = pathNodes._length;\n        for (i = 1; i < len; i += 1) {\n          if (i === 1) {\n            shapeNodes.push({\n              t: 'm',\n              p: groupTransformMat.applyToPointArray(pathNodes.v[0][0], pathNodes.v[0][1], 0),\n            });\n          }\n          shapeNodes.push({\n            t: 'c',\n            pts: groupTransformMat.applyToTriplePoints(pathNodes.o[i - 1], pathNodes.i[i], pathNodes.v[i]),\n          });\n        }\n        if (len === 1) {\n          shapeNodes.push({\n            t: 'm',\n            p: groupTransformMat.applyToPointArray(pathNodes.v[0][0], pathNodes.v[0][1], 0),\n          });\n        }\n        if (pathNodes.c && len) {\n          shapeNodes.push({\n            t: 'c',\n            pts: groupTransformMat.applyToTriplePoints(pathNodes.o[i - 1], pathNodes.i[0], pathNodes.v[0]),\n          });\n          shapeNodes.push({\n            t: 'z',\n          });\n        }\n      }\n    }\n    styledShape.trNodes = shapeNodes;\n  }\n};\n\nCVShapeElement.prototype.renderPath = function (pathData, itemData) {\n  if (pathData.hd !== true && pathData._shouldRender) {\n    var i;\n    var len = itemData.styledShapes.length;\n    for (i = 0; i < len; i += 1) {\n      this.renderStyledShape(itemData.styledShapes[i], itemData.sh);\n    }\n  }\n};\n\nCVShapeElement.prototype.renderFill = function (styleData, itemData, groupTransform) {\n  var styleElem = itemData.style;\n\n  if (itemData.c._mdf || this._isFirstFrame) {\n    styleElem.co = 'rgb('\n        + bmFloor(itemData.c.v[0]) + ','\n        + bmFloor(itemData.c.v[1]) + ','\n        + bmFloor(itemData.c.v[2]) + ')';\n  }\n  if (itemData.o._mdf || groupTransform._opMdf || this._isFirstFrame) {\n    styleElem.coOp = itemData.o.v * groupTransform.opacity;\n  }\n};\n\nCVShapeElement.prototype.renderGradientFill = function (styleData, itemData, groupTransform) {\n  var styleElem = itemData.style;\n  var grd;\n  if (!styleElem.grd || itemData.g._mdf || itemData.s._mdf || itemData.e._mdf || (styleData.t !== 1 && (itemData.h._mdf || itemData.a._mdf))) {\n    var ctx = this.globalData.canvasContext;\n    var pt1 = itemData.s.v;\n    var pt2 = itemData.e.v;\n    if (styleData.t === 1) {\n      grd = ctx.createLinearGradient(pt1[0], pt1[1], pt2[0], pt2[1]);\n    } else {\n      var rad = Math.sqrt(Math.pow(pt1[0] - pt2[0], 2) + Math.pow(pt1[1] - pt2[1], 2));\n      var ang = Math.atan2(pt2[1] - pt1[1], pt2[0] - pt1[0]);\n\n      var percent = itemData.h.v;\n      if (percent >= 1) {\n        percent = 0.99;\n      } else if (percent <= -1) {\n        percent = -0.99;\n      }\n      var dist = rad * percent;\n      var x = Math.cos(ang + itemData.a.v) * dist + pt1[0];\n      var y = Math.sin(ang + itemData.a.v) * dist + pt1[1];\n      grd = ctx.createRadialGradient(x, y, 0, pt1[0], pt1[1], rad);\n    }\n\n    var i;\n    var len = styleData.g.p;\n    var cValues = itemData.g.c;\n    var opacity = 1;\n\n    for (i = 0; i < len; i += 1) {\n      if (itemData.g._hasOpacity && itemData.g._collapsable) {\n        opacity = itemData.g.o[i * 2 + 1];\n      }\n      grd.addColorStop(cValues[i * 4] / 100, 'rgba(' + cValues[i * 4 + 1] + ',' + cValues[i * 4 + 2] + ',' + cValues[i * 4 + 3] + ',' + opacity + ')');\n    }\n    styleElem.grd = grd;\n  }\n  styleElem.coOp = itemData.o.v * groupTransform.opacity;\n};\n\nCVShapeElement.prototype.renderStroke = function (styleData, itemData, groupTransform) {\n  var styleElem = itemData.style;\n  var d = itemData.d;\n  if (d && (d._mdf || this._isFirstFrame)) {\n    styleElem.da = d.dashArray;\n    styleElem.do = d.dashoffset[0];\n  }\n  if (itemData.c._mdf || this._isFirstFrame) {\n    styleElem.co = 'rgb(' + bmFloor(itemData.c.v[0]) + ',' + bmFloor(itemData.c.v[1]) + ',' + bmFloor(itemData.c.v[2]) + ')';\n  }\n  if (itemData.o._mdf || groupTransform._opMdf || this._isFirstFrame) {\n    styleElem.coOp = itemData.o.v * groupTransform.opacity;\n  }\n  if (itemData.w._mdf || this._isFirstFrame) {\n    styleElem.wi = itemData.w.v;\n  }\n};\n\nCVShapeElement.prototype.destroy = function () {\n  this.shapesData = null;\n  this.globalData = null;\n  this.canvasContext = null;\n  this.stylesList.length = 0;\n  this.itemsData.length = 0;\n};\n\nfunction CVTextElement(data, globalData, comp) {\n  this.textSpans = [];\n  this.yOffset = 0;\n  this.fillColorAnim = false;\n  this.strokeColorAnim = false;\n  this.strokeWidthAnim = false;\n  this.stroke = false;\n  this.fill = false;\n  this.justifyOffset = 0;\n  this.currentRender = null;\n  this.renderType = 'canvas';\n  this.values = {\n    fill: 'rgba(0,0,0,0)',\n    stroke: 'rgba(0,0,0,0)',\n    sWidth: 0,\n    fValue: '',\n  };\n  this.initElement(data, globalData, comp);\n}\nextendPrototype([BaseElement, TransformElement, CVBaseElement, HierarchyElement, FrameElement, RenderableElement, ITextElement], CVTextElement);\n\nCVTextElement.prototype.tHelper = createTag('canvas').getContext('2d');\n\nCVTextElement.prototype.buildNewText = function () {\n  var documentData = this.textProperty.currentData;\n  this.renderedLetters = createSizedArray(documentData.l ? documentData.l.length : 0);\n\n  var hasFill = false;\n  if (documentData.fc) {\n    hasFill = true;\n    this.values.fill = this.buildColor(documentData.fc);\n  } else {\n    this.values.fill = 'rgba(0,0,0,0)';\n  }\n  this.fill = hasFill;\n  var hasStroke = false;\n  if (documentData.sc) {\n    hasStroke = true;\n    this.values.stroke = this.buildColor(documentData.sc);\n    this.values.sWidth = documentData.sw;\n  }\n  var fontData = this.globalData.fontManager.getFontByName(documentData.f);\n  var i;\n  var len;\n  var letters = documentData.l;\n  var matrixHelper = this.mHelper;\n  this.stroke = hasStroke;\n  this.values.fValue = documentData.finalSize + 'px ' + this.globalData.fontManager.getFontByName(documentData.f).fFamily;\n  len = documentData.finalText.length;\n  // this.tHelper.font = this.values.fValue;\n  var charData;\n  var shapeData;\n  var k;\n  var kLen;\n  var shapes;\n  var j;\n  var jLen;\n  var pathNodes;\n  var commands;\n  var pathArr;\n  var singleShape = this.data.singleShape;\n  var trackingOffset = documentData.tr * 0.001 * documentData.finalSize;\n  var xPos = 0;\n  var yPos = 0;\n  var firstLine = true;\n  var cnt = 0;\n  for (i = 0; i < len; i += 1) {\n    charData = this.globalData.fontManager.getCharData(documentData.finalText[i], fontData.fStyle, this.globalData.fontManager.getFontByName(documentData.f).fFamily);\n    shapeData = (charData && charData.data) || {};\n    matrixHelper.reset();\n    if (singleShape && letters[i].n) {\n      xPos = -trackingOffset;\n      yPos += documentData.yOffset;\n      yPos += firstLine ? 1 : 0;\n      firstLine = false;\n    }\n    shapes = shapeData.shapes ? shapeData.shapes[0].it : [];\n    jLen = shapes.length;\n    matrixHelper.scale(documentData.finalSize / 100, documentData.finalSize / 100);\n    if (singleShape) {\n      this.applyTextPropertiesToMatrix(documentData, matrixHelper, letters[i].line, xPos, yPos);\n    }\n    commands = createSizedArray(jLen - 1);\n    var commandsCounter = 0;\n    for (j = 0; j < jLen; j += 1) {\n      if (shapes[j].ty === 'sh') {\n        kLen = shapes[j].ks.k.i.length;\n        pathNodes = shapes[j].ks.k;\n        pathArr = [];\n        for (k = 1; k < kLen; k += 1) {\n          if (k === 1) {\n            pathArr.push(matrixHelper.applyToX(pathNodes.v[0][0], pathNodes.v[0][1], 0), matrixHelper.applyToY(pathNodes.v[0][0], pathNodes.v[0][1], 0));\n          }\n          pathArr.push(matrixHelper.applyToX(pathNodes.o[k - 1][0], pathNodes.o[k - 1][1], 0), matrixHelper.applyToY(pathNodes.o[k - 1][0], pathNodes.o[k - 1][1], 0), matrixHelper.applyToX(pathNodes.i[k][0], pathNodes.i[k][1], 0), matrixHelper.applyToY(pathNodes.i[k][0], pathNodes.i[k][1], 0), matrixHelper.applyToX(pathNodes.v[k][0], pathNodes.v[k][1], 0), matrixHelper.applyToY(pathNodes.v[k][0], pathNodes.v[k][1], 0));\n        }\n        pathArr.push(matrixHelper.applyToX(pathNodes.o[k - 1][0], pathNodes.o[k - 1][1], 0), matrixHelper.applyToY(pathNodes.o[k - 1][0], pathNodes.o[k - 1][1], 0), matrixHelper.applyToX(pathNodes.i[0][0], pathNodes.i[0][1], 0), matrixHelper.applyToY(pathNodes.i[0][0], pathNodes.i[0][1], 0), matrixHelper.applyToX(pathNodes.v[0][0], pathNodes.v[0][1], 0), matrixHelper.applyToY(pathNodes.v[0][0], pathNodes.v[0][1], 0));\n        commands[commandsCounter] = pathArr;\n        commandsCounter += 1;\n      }\n    }\n    if (singleShape) {\n      xPos += letters[i].l;\n      xPos += trackingOffset;\n    }\n    if (this.textSpans[cnt]) {\n      this.textSpans[cnt].elem = commands;\n    } else {\n      this.textSpans[cnt] = { elem: commands };\n    }\n    cnt += 1;\n  }\n};\n\nCVTextElement.prototype.renderInnerContent = function () {\n  var ctx = this.canvasContext;\n  ctx.font = this.values.fValue;\n  ctx.lineCap = 'butt';\n  ctx.lineJoin = 'miter';\n  ctx.miterLimit = 4;\n\n  if (!this.data.singleShape) {\n    this.textAnimator.getMeasures(this.textProperty.currentData, this.lettersChangedFlag);\n  }\n\n  var i;\n  var len;\n  var j;\n  var jLen;\n  var k;\n  var kLen;\n  var renderedLetters = this.textAnimator.renderedLetters;\n\n  var letters = this.textProperty.currentData.l;\n\n  len = letters.length;\n  var renderedLetter;\n  var lastFill = null;\n  var lastStroke = null;\n  var lastStrokeW = null;\n  var commands;\n  var pathArr;\n  for (i = 0; i < len; i += 1) {\n    if (!letters[i].n) {\n      renderedLetter = renderedLetters[i];\n      if (renderedLetter) {\n        this.globalData.renderer.save();\n        this.globalData.renderer.ctxTransform(renderedLetter.p);\n        this.globalData.renderer.ctxOpacity(renderedLetter.o);\n      }\n      if (this.fill) {\n        if (renderedLetter && renderedLetter.fc) {\n          if (lastFill !== renderedLetter.fc) {\n            lastFill = renderedLetter.fc;\n            ctx.fillStyle = renderedLetter.fc;\n          }\n        } else if (lastFill !== this.values.fill) {\n          lastFill = this.values.fill;\n          ctx.fillStyle = this.values.fill;\n        }\n        commands = this.textSpans[i].elem;\n        jLen = commands.length;\n        this.globalData.canvasContext.beginPath();\n        for (j = 0; j < jLen; j += 1) {\n          pathArr = commands[j];\n          kLen = pathArr.length;\n          this.globalData.canvasContext.moveTo(pathArr[0], pathArr[1]);\n          for (k = 2; k < kLen; k += 6) {\n            this.globalData.canvasContext.bezierCurveTo(pathArr[k], pathArr[k + 1], pathArr[k + 2], pathArr[k + 3], pathArr[k + 4], pathArr[k + 5]);\n          }\n        }\n        this.globalData.canvasContext.closePath();\n        this.globalData.canvasContext.fill();\n        /// ctx.fillText(this.textSpans[i].val,0,0);\n      }\n      if (this.stroke) {\n        if (renderedLetter && renderedLetter.sw) {\n          if (lastStrokeW !== renderedLetter.sw) {\n            lastStrokeW = renderedLetter.sw;\n            ctx.lineWidth = renderedLetter.sw;\n          }\n        } else if (lastStrokeW !== this.values.sWidth) {\n          lastStrokeW = this.values.sWidth;\n          ctx.lineWidth = this.values.sWidth;\n        }\n        if (renderedLetter && renderedLetter.sc) {\n          if (lastStroke !== renderedLetter.sc) {\n            lastStroke = renderedLetter.sc;\n            ctx.strokeStyle = renderedLetter.sc;\n          }\n        } else if (lastStroke !== this.values.stroke) {\n          lastStroke = this.values.stroke;\n          ctx.strokeStyle = this.values.stroke;\n        }\n        commands = this.textSpans[i].elem;\n        jLen = commands.length;\n        this.globalData.canvasContext.beginPath();\n        for (j = 0; j < jLen; j += 1) {\n          pathArr = commands[j];\n          kLen = pathArr.length;\n          this.globalData.canvasContext.moveTo(pathArr[0], pathArr[1]);\n          for (k = 2; k < kLen; k += 6) {\n            this.globalData.canvasContext.bezierCurveTo(pathArr[k], pathArr[k + 1], pathArr[k + 2], pathArr[k + 3], pathArr[k + 4], pathArr[k + 5]);\n          }\n        }\n        this.globalData.canvasContext.closePath();\n        this.globalData.canvasContext.stroke();\n        /// ctx.strokeText(letters[i].val,0,0);\n      }\n      if (renderedLetter) {\n        this.globalData.renderer.restore();\n      }\n    }\n  }\n};\n\nfunction CVImageElement(data, globalData, comp) {\n  this.assetData = globalData.getAssetData(data.refId);\n  this.img = globalData.imageLoader.getAsset(this.assetData);\n  this.initElement(data, globalData, comp);\n}\nextendPrototype([BaseElement, TransformElement, CVBaseElement, HierarchyElement, FrameElement, RenderableElement], CVImageElement);\n\nCVImageElement.prototype.initElement = SVGShapeElement.prototype.initElement;\nCVImageElement.prototype.prepareFrame = IImageElement.prototype.prepareFrame;\n\nCVImageElement.prototype.createContent = function () {\n  if (this.img.width && (this.assetData.w !== this.img.width || this.assetData.h !== this.img.height)) {\n    var canvas = createTag('canvas');\n    canvas.width = this.assetData.w;\n    canvas.height = this.assetData.h;\n    var ctx = canvas.getContext('2d');\n\n    var imgW = this.img.width;\n    var imgH = this.img.height;\n    var imgRel = imgW / imgH;\n    var canvasRel = this.assetData.w / this.assetData.h;\n    var widthCrop;\n    var heightCrop;\n    var par = this.assetData.pr || this.globalData.renderConfig.imagePreserveAspectRatio;\n    if ((imgRel > canvasRel && par === 'xMidYMid slice') || (imgRel < canvasRel && par !== 'xMidYMid slice')) {\n      heightCrop = imgH;\n      widthCrop = heightCrop * canvasRel;\n    } else {\n      widthCrop = imgW;\n      heightCrop = widthCrop / canvasRel;\n    }\n    ctx.drawImage(this.img, (imgW - widthCrop) / 2, (imgH - heightCrop) / 2, widthCrop, heightCrop, 0, 0, this.assetData.w, this.assetData.h);\n    this.img = canvas;\n  }\n};\n\nCVImageElement.prototype.renderInnerContent = function () {\n  this.canvasContext.drawImage(this.img, 0, 0);\n};\n\nCVImageElement.prototype.destroy = function () {\n  this.img = null;\n};\n\nfunction CVSolidElement(data, globalData, comp) {\n  this.initElement(data, globalData, comp);\n}\nextendPrototype([BaseElement, TransformElement, CVBaseElement, HierarchyElement, FrameElement, RenderableElement], CVSolidElement);\n\nCVSolidElement.prototype.initElement = SVGShapeElement.prototype.initElement;\nCVSolidElement.prototype.prepareFrame = IImageElement.prototype.prepareFrame;\n\nCVSolidElement.prototype.renderInnerContent = function () {\n  var ctx = this.canvasContext;\n  ctx.fillStyle = this.data.sc;\n  ctx.fillRect(0, 0, this.data.sw, this.data.sh);\n  //\n};\n\nfunction CanvasRendererBase(animationItem, config) {\n  this.animationItem = animationItem;\n  this.renderConfig = {\n    clearCanvas: (config && config.clearCanvas !== undefined) ? config.clearCanvas : true,\n    context: (config && config.context) || null,\n    progressiveLoad: (config && config.progressiveLoad) || false,\n    preserveAspectRatio: (config && config.preserveAspectRatio) || 'xMidYMid meet',\n    imagePreserveAspectRatio: (config && config.imagePreserveAspectRatio) || 'xMidYMid slice',\n    contentVisibility: (config && config.contentVisibility) || 'visible',\n    className: (config && config.className) || '',\n    id: (config && config.id) || '',\n  };\n  this.renderConfig.dpr = (config && config.dpr) || 1;\n  if (this.animationItem.wrapper) {\n    this.renderConfig.dpr = (config && config.dpr) || window.devicePixelRatio || 1;\n  }\n  this.renderedFrame = -1;\n  this.globalData = {\n    frameNum: -1,\n    _mdf: false,\n    renderConfig: this.renderConfig,\n    currentGlobalAlpha: -1,\n  };\n  this.contextData = new CVContextData();\n  this.elements = [];\n  this.pendingElements = [];\n  this.transformMat = new Matrix();\n  this.completeLayers = false;\n  this.rendererType = 'canvas';\n}\nextendPrototype([BaseRenderer], CanvasRendererBase);\n\nCanvasRendererBase.prototype.createShape = function (data) {\n  return new CVShapeElement(data, this.globalData, this);\n};\n\nCanvasRendererBase.prototype.createText = function (data) {\n  return new CVTextElement(data, this.globalData, this);\n};\n\nCanvasRendererBase.prototype.createImage = function (data) {\n  return new CVImageElement(data, this.globalData, this);\n};\n\nCanvasRendererBase.prototype.createSolid = function (data) {\n  return new CVSolidElement(data, this.globalData, this);\n};\n\nCanvasRendererBase.prototype.createNull = SVGRenderer.prototype.createNull;\n\nCanvasRendererBase.prototype.ctxTransform = function (props) {\n  if (props[0] === 1 && props[1] === 0 && props[4] === 0 && props[5] === 1 && props[12] === 0 && props[13] === 0) {\n    return;\n  }\n  if (!this.renderConfig.clearCanvas) {\n    this.canvasContext.transform(props[0], props[1], props[4], props[5], props[12], props[13]);\n    return;\n  }\n  this.transformMat.cloneFromProps(props);\n  var cProps = this.contextData.cTr.props;\n  this.transformMat.transform(cProps[0], cProps[1], cProps[2], cProps[3], cProps[4], cProps[5], cProps[6], cProps[7], cProps[8], cProps[9], cProps[10], cProps[11], cProps[12], cProps[13], cProps[14], cProps[15]);\n  // this.contextData.cTr.transform(props[0],props[1],props[2],props[3],props[4],props[5],props[6],props[7],props[8],props[9],props[10],props[11],props[12],props[13],props[14],props[15]);\n  this.contextData.cTr.cloneFromProps(this.transformMat.props);\n  var trProps = this.contextData.cTr.props;\n  this.canvasContext.setTransform(trProps[0], trProps[1], trProps[4], trProps[5], trProps[12], trProps[13]);\n};\n\nCanvasRendererBase.prototype.ctxOpacity = function (op) {\n  /* if(op === 1){\n        return;\n    } */\n  if (!this.renderConfig.clearCanvas) {\n    this.canvasContext.globalAlpha *= op < 0 ? 0 : op;\n    this.globalData.currentGlobalAlpha = this.contextData.cO;\n    return;\n  }\n  this.contextData.cO *= op < 0 ? 0 : op;\n  if (this.globalData.currentGlobalAlpha !== this.contextData.cO) {\n    this.canvasContext.globalAlpha = this.contextData.cO;\n    this.globalData.currentGlobalAlpha = this.contextData.cO;\n  }\n};\n\nCanvasRendererBase.prototype.reset = function () {\n  if (!this.renderConfig.clearCanvas) {\n    this.canvasContext.restore();\n    return;\n  }\n  this.contextData.reset();\n};\n\nCanvasRendererBase.prototype.save = function (actionFlag) {\n  if (!this.renderConfig.clearCanvas) {\n    this.canvasContext.save();\n    return;\n  }\n  if (actionFlag) {\n    this.canvasContext.save();\n  }\n  var props = this.contextData.cTr.props;\n  if (this.contextData._length <= this.contextData.cArrPos) {\n    this.contextData.duplicate();\n  }\n  var i;\n  var arr = this.contextData.saved[this.contextData.cArrPos];\n  for (i = 0; i < 16; i += 1) {\n    arr[i] = props[i];\n  }\n  this.contextData.savedOp[this.contextData.cArrPos] = this.contextData.cO;\n  this.contextData.cArrPos += 1;\n};\n\nCanvasRendererBase.prototype.restore = function (actionFlag) {\n  if (!this.renderConfig.clearCanvas) {\n    this.canvasContext.restore();\n    return;\n  }\n  if (actionFlag) {\n    this.canvasContext.restore();\n    this.globalData.blendMode = 'source-over';\n  }\n  this.contextData.cArrPos -= 1;\n  var popped = this.contextData.saved[this.contextData.cArrPos];\n  var i;\n  var arr = this.contextData.cTr.props;\n  for (i = 0; i < 16; i += 1) {\n    arr[i] = popped[i];\n  }\n  this.canvasContext.setTransform(popped[0], popped[1], popped[4], popped[5], popped[12], popped[13]);\n  popped = this.contextData.savedOp[this.contextData.cArrPos];\n  this.contextData.cO = popped;\n  if (this.globalData.currentGlobalAlpha !== popped) {\n    this.canvasContext.globalAlpha = popped;\n    this.globalData.currentGlobalAlpha = popped;\n  }\n};\n\nCanvasRendererBase.prototype.configAnimation = function (animData) {\n  if (this.animationItem.wrapper) {\n    this.animationItem.container = createTag('canvas');\n    var containerStyle = this.animationItem.container.style;\n    containerStyle.width = '100%';\n    containerStyle.height = '100%';\n    var origin = '0px 0px 0px';\n    containerStyle.transformOrigin = origin;\n    containerStyle.mozTransformOrigin = origin;\n    containerStyle.webkitTransformOrigin = origin;\n    containerStyle['-webkit-transform'] = origin;\n    containerStyle.contentVisibility = this.renderConfig.contentVisibility;\n    this.animationItem.wrapper.appendChild(this.animationItem.container);\n    this.canvasContext = this.animationItem.container.getContext('2d');\n    if (this.renderConfig.className) {\n      this.animationItem.container.setAttribute('class', this.renderConfig.className);\n    }\n    if (this.renderConfig.id) {\n      this.animationItem.container.setAttribute('id', this.renderConfig.id);\n    }\n  } else {\n    this.canvasContext = this.renderConfig.context;\n  }\n  this.data = animData;\n  this.layers = animData.layers;\n  this.transformCanvas = {\n    w: animData.w,\n    h: animData.h,\n    sx: 0,\n    sy: 0,\n    tx: 0,\n    ty: 0,\n  };\n  this.setupGlobalData(animData, document.body);\n  this.globalData.canvasContext = this.canvasContext;\n  this.globalData.renderer = this;\n  this.globalData.isDashed = false;\n  this.globalData.progressiveLoad = this.renderConfig.progressiveLoad;\n  this.globalData.transformCanvas = this.transformCanvas;\n  this.elements = createSizedArray(animData.layers.length);\n\n  this.updateContainerSize();\n};\n\nCanvasRendererBase.prototype.updateContainerSize = function () {\n  this.reset();\n  var elementWidth;\n  var elementHeight;\n  if (this.animationItem.wrapper && this.animationItem.container) {\n    elementWidth = this.animationItem.wrapper.offsetWidth;\n    elementHeight = this.animationItem.wrapper.offsetHeight;\n    this.animationItem.container.setAttribute('width', elementWidth * this.renderConfig.dpr);\n    this.animationItem.container.setAttribute('height', elementHeight * this.renderConfig.dpr);\n  } else {\n    elementWidth = this.canvasContext.canvas.width * this.renderConfig.dpr;\n    elementHeight = this.canvasContext.canvas.height * this.renderConfig.dpr;\n  }\n  var elementRel;\n  var animationRel;\n  if (this.renderConfig.preserveAspectRatio.indexOf('meet') !== -1 || this.renderConfig.preserveAspectRatio.indexOf('slice') !== -1) {\n    var par = this.renderConfig.preserveAspectRatio.split(' ');\n    var fillType = par[1] || 'meet';\n    var pos = par[0] || 'xMidYMid';\n    var xPos = pos.substr(0, 4);\n    var yPos = pos.substr(4);\n    elementRel = elementWidth / elementHeight;\n    animationRel = this.transformCanvas.w / this.transformCanvas.h;\n    if ((animationRel > elementRel && fillType === 'meet') || (animationRel < elementRel && fillType === 'slice')) {\n      this.transformCanvas.sx = elementWidth / (this.transformCanvas.w / this.renderConfig.dpr);\n      this.transformCanvas.sy = elementWidth / (this.transformCanvas.w / this.renderConfig.dpr);\n    } else {\n      this.transformCanvas.sx = elementHeight / (this.transformCanvas.h / this.renderConfig.dpr);\n      this.transformCanvas.sy = elementHeight / (this.transformCanvas.h / this.renderConfig.dpr);\n    }\n\n    if (xPos === 'xMid' && ((animationRel < elementRel && fillType === 'meet') || (animationRel > elementRel && fillType === 'slice'))) {\n      this.transformCanvas.tx = ((elementWidth - this.transformCanvas.w * (elementHeight / this.transformCanvas.h)) / 2) * this.renderConfig.dpr;\n    } else if (xPos === 'xMax' && ((animationRel < elementRel && fillType === 'meet') || (animationRel > elementRel && fillType === 'slice'))) {\n      this.transformCanvas.tx = (elementWidth - this.transformCanvas.w * (elementHeight / this.transformCanvas.h)) * this.renderConfig.dpr;\n    } else {\n      this.transformCanvas.tx = 0;\n    }\n    if (yPos === 'YMid' && ((animationRel > elementRel && fillType === 'meet') || (animationRel < elementRel && fillType === 'slice'))) {\n      this.transformCanvas.ty = ((elementHeight - this.transformCanvas.h * (elementWidth / this.transformCanvas.w)) / 2) * this.renderConfig.dpr;\n    } else if (yPos === 'YMax' && ((animationRel > elementRel && fillType === 'meet') || (animationRel < elementRel && fillType === 'slice'))) {\n      this.transformCanvas.ty = ((elementHeight - this.transformCanvas.h * (elementWidth / this.transformCanvas.w))) * this.renderConfig.dpr;\n    } else {\n      this.transformCanvas.ty = 0;\n    }\n  } else if (this.renderConfig.preserveAspectRatio === 'none') {\n    this.transformCanvas.sx = elementWidth / (this.transformCanvas.w / this.renderConfig.dpr);\n    this.transformCanvas.sy = elementHeight / (this.transformCanvas.h / this.renderConfig.dpr);\n    this.transformCanvas.tx = 0;\n    this.transformCanvas.ty = 0;\n  } else {\n    this.transformCanvas.sx = this.renderConfig.dpr;\n    this.transformCanvas.sy = this.renderConfig.dpr;\n    this.transformCanvas.tx = 0;\n    this.transformCanvas.ty = 0;\n  }\n  this.transformCanvas.props = [this.transformCanvas.sx, 0, 0, 0, 0, this.transformCanvas.sy, 0, 0, 0, 0, 1, 0, this.transformCanvas.tx, this.transformCanvas.ty, 0, 1];\n  /* var i, len = this.elements.length;\n    for(i=0;i<len;i+=1){\n        if(this.elements[i] && this.elements[i].data.ty === 0){\n            this.elements[i].resize(this.globalData.transformCanvas);\n        }\n    } */\n  this.ctxTransform(this.transformCanvas.props);\n  this.canvasContext.beginPath();\n  this.canvasContext.rect(0, 0, this.transformCanvas.w, this.transformCanvas.h);\n  this.canvasContext.closePath();\n  this.canvasContext.clip();\n\n  this.renderFrame(this.renderedFrame, true);\n};\n\nCanvasRendererBase.prototype.destroy = function () {\n  if (this.renderConfig.clearCanvas && this.animationItem.wrapper) {\n    this.animationItem.wrapper.innerText = '';\n  }\n  var i;\n  var len = this.layers ? this.layers.length : 0;\n  for (i = len - 1; i >= 0; i -= 1) {\n    if (this.elements[i]) {\n      this.elements[i].destroy();\n    }\n  }\n  this.elements.length = 0;\n  this.globalData.canvasContext = null;\n  this.animationItem.container = null;\n  this.destroyed = true;\n};\n\nCanvasRendererBase.prototype.renderFrame = function (num, forceRender) {\n  if ((this.renderedFrame === num && this.renderConfig.clearCanvas === true && !forceRender) || this.destroyed || num === -1) {\n    return;\n  }\n  this.renderedFrame = num;\n  this.globalData.frameNum = num - this.animationItem._isFirstFrame;\n  this.globalData.frameId += 1;\n  this.globalData._mdf = !this.renderConfig.clearCanvas || forceRender;\n  this.globalData.projectInterface.currentFrame = num;\n\n  // console.log('--------');\n  // console.log('NEW: ',num);\n  var i;\n  var len = this.layers.length;\n  if (!this.completeLayers) {\n    this.checkLayers(num);\n  }\n\n  for (i = 0; i < len; i += 1) {\n    if (this.completeLayers || this.elements[i]) {\n      this.elements[i].prepareFrame(num - this.layers[i].st);\n    }\n  }\n  if (this.globalData._mdf) {\n    if (this.renderConfig.clearCanvas === true) {\n      this.canvasContext.clearRect(0, 0, this.transformCanvas.w, this.transformCanvas.h);\n    } else {\n      this.save();\n    }\n    for (i = len - 1; i >= 0; i -= 1) {\n      if (this.completeLayers || this.elements[i]) {\n        this.elements[i].renderFrame();\n      }\n    }\n    if (this.renderConfig.clearCanvas !== true) {\n      this.restore();\n    }\n  }\n};\n\nCanvasRendererBase.prototype.buildItem = function (pos) {\n  var elements = this.elements;\n  if (elements[pos] || this.layers[pos].ty === 99) {\n    return;\n  }\n  var element = this.createItem(this.layers[pos], this, this.globalData);\n  elements[pos] = element;\n  element.initExpressions();\n  /* if(this.layers[pos].ty === 0){\n        element.resize(this.globalData.transformCanvas);\n    } */\n};\n\nCanvasRendererBase.prototype.checkPendingElements = function () {\n  while (this.pendingElements.length) {\n    var element = this.pendingElements.pop();\n    element.checkParenting();\n  }\n};\n\nCanvasRendererBase.prototype.hide = function () {\n  this.animationItem.container.style.display = 'none';\n};\n\nCanvasRendererBase.prototype.show = function () {\n  this.animationItem.container.style.display = 'block';\n};\n\nfunction CVCompElement(data, globalData, comp) {\n  this.completeLayers = false;\n  this.layers = data.layers;\n  this.pendingElements = [];\n  this.elements = createSizedArray(this.layers.length);\n  this.initElement(data, globalData, comp);\n  this.tm = data.tm ? PropertyFactory.getProp(this, data.tm, 0, globalData.frameRate, this) : { _placeholder: true };\n}\n\nextendPrototype([CanvasRendererBase, ICompElement, CVBaseElement], CVCompElement);\n\nCVCompElement.prototype.renderInnerContent = function () {\n  var ctx = this.canvasContext;\n  ctx.beginPath();\n  ctx.moveTo(0, 0);\n  ctx.lineTo(this.data.w, 0);\n  ctx.lineTo(this.data.w, this.data.h);\n  ctx.lineTo(0, this.data.h);\n  ctx.lineTo(0, 0);\n  ctx.clip();\n  var i;\n  var len = this.layers.length;\n  for (i = len - 1; i >= 0; i -= 1) {\n    if (this.completeLayers || this.elements[i]) {\n      this.elements[i].renderFrame();\n    }\n  }\n};\n\nCVCompElement.prototype.destroy = function () {\n  var i;\n  var len = this.layers.length;\n  for (i = len - 1; i >= 0; i -= 1) {\n    if (this.elements[i]) {\n      this.elements[i].destroy();\n    }\n  }\n  this.layers = null;\n  this.elements = null;\n};\n\nCVCompElement.prototype.createComp = function (data) {\n  return new CVCompElement(data, this.globalData, this);\n};\n\nfunction CanvasRenderer(animationItem, config) {\n  this.animationItem = animationItem;\n  this.renderConfig = {\n    clearCanvas: (config && config.clearCanvas !== undefined) ? config.clearCanvas : true,\n    context: (config && config.context) || null,\n    progressiveLoad: (config && config.progressiveLoad) || false,\n    preserveAspectRatio: (config && config.preserveAspectRatio) || 'xMidYMid meet',\n    imagePreserveAspectRatio: (config && config.imagePreserveAspectRatio) || 'xMidYMid slice',\n    contentVisibility: (config && config.contentVisibility) || 'visible',\n    className: (config && config.className) || '',\n    id: (config && config.id) || '',\n  };\n  this.renderConfig.dpr = (config && config.dpr) || 1;\n  if (this.animationItem.wrapper) {\n    this.renderConfig.dpr = (config && config.dpr) || window.devicePixelRatio || 1;\n  }\n  this.renderedFrame = -1;\n  this.globalData = {\n    frameNum: -1,\n    _mdf: false,\n    renderConfig: this.renderConfig,\n    currentGlobalAlpha: -1,\n  };\n  this.contextData = new CVContextData();\n  this.elements = [];\n  this.pendingElements = [];\n  this.transformMat = new Matrix();\n  this.completeLayers = false;\n  this.rendererType = 'canvas';\n}\nextendPrototype([CanvasRendererBase], CanvasRenderer);\n\nCanvasRenderer.prototype.createComp = function (data) {\n  return new CVCompElement(data, this.globalData, this);\n};\n\n// Registering renderers\nregisterRenderer('canvas', CanvasRenderer);\n\n// Registering shape modifiers\nShapeModifiers.registerModifier('tm', TrimModifier);\nShapeModifiers.registerModifier('pb', PuckerAndBloatModifier);\nShapeModifiers.registerModifier('rp', RepeaterModifier);\nShapeModifiers.registerModifier('rd', RoundCornersModifier);\n\nconst Expressions = (function () {\n  var ob = {};\n  ob.initExpressions = initExpressions;\n\n  function initExpressions(animation) {\n    var stackCount = 0;\n    var registers = [];\n\n    function pushExpression() {\n      stackCount += 1;\n    }\n\n    function popExpression() {\n      stackCount -= 1;\n      if (stackCount === 0) {\n        releaseInstances();\n      }\n    }\n\n    function registerExpressionProperty(expression) {\n      if (registers.indexOf(expression) === -1) {\n        registers.push(expression);\n      }\n    }\n\n    function releaseInstances() {\n      var i;\n      var len = registers.length;\n      for (i = 0; i < len; i += 1) {\n        registers[i].release();\n      }\n      registers.length = 0;\n    }\n\n    animation.renderer.compInterface = CompExpressionInterface(animation.renderer);\n    animation.renderer.globalData.projectInterface.registerComposition(animation.renderer);\n    animation.renderer.globalData.pushExpression = pushExpression;\n    animation.renderer.globalData.popExpression = popExpression;\n    animation.renderer.globalData.registerExpressionProperty = registerExpressionProperty;\n  }\n  return ob;\n}());\n\n/* eslint-disable */\n/*\n Copyright 2014 David Bau.\n\n Permission is hereby granted, free of charge, to any person obtaining\n a copy of this software and associated documentation files (the\n \"Software\"), to deal in the Software without restriction, including\n without limitation the rights to use, copy, modify, merge, publish,\n distribute, sublicense, and/or sell copies of the Software, and to\n permit persons to whom the Software is furnished to do so, subject to\n the following conditions:\n\n The above copyright notice and this permission notice shall be\n included in all copies or substantial portions of the Software.\n\n THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.\n IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY\n CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,\n TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n */\n\nfunction seedRandom(pool, math) {\n//\n// The following constants are related to IEEE 754 limits.\n//\n    var global = this,\n        width = 256,        // each RC4 output is 0 <= x < 256\n        chunks = 6,         // at least six RC4 outputs for each double\n        digits = 52,        // there are 52 significant digits in a double\n        rngname = 'random', // rngname: name for Math.random and Math.seedrandom\n        startdenom = math.pow(width, chunks),\n        significance = math.pow(2, digits),\n        overflow = significance * 2,\n        mask = width - 1,\n        nodecrypto;         // node.js crypto module, initialized at the bottom.\n\n//\n// seedrandom()\n// This is the seedrandom function described above.\n//\n    function seedrandom(seed, options, callback) {\n        var key = [];\n        options = (options === true) ? { entropy: true } : (options || {});\n\n        // Flatten the seed string or build one from local entropy if needed.\n        var shortseed = mixkey(flatten(\n            options.entropy ? [seed, tostring(pool)] :\n                (seed === null) ? autoseed() : seed, 3), key);\n\n        // Use the seed to initialize an ARC4 generator.\n        var arc4 = new ARC4(key);\n\n        // This function returns a random double in [0, 1) that contains\n        // randomness in every bit of the mantissa of the IEEE 754 value.\n        var prng = function() {\n            var n = arc4.g(chunks),             // Start with a numerator n < 2 ^ 48\n                d = startdenom,                 //   and denominator d = 2 ^ 48.\n                x = 0;                          //   and no 'extra last byte'.\n            while (n < significance) {          // Fill up all significant digits by\n                n = (n + x) * width;              //   shifting numerator and\n                d *= width;                       //   denominator and generating a\n                x = arc4.g(1);                    //   new least-significant-byte.\n            }\n            while (n >= overflow) {             // To avoid rounding up, before adding\n                n /= 2;                           //   last byte, shift everything\n                d /= 2;                           //   right using integer math until\n                x >>>= 1;                         //   we have exactly the desired bits.\n            }\n            return (n + x) / d;                 // Form the number within [0, 1).\n        };\n\n        prng.int32 = function() { return arc4.g(4) | 0; };\n        prng.quick = function() { return arc4.g(4) / 0x100000000; };\n        prng.double = prng;\n\n        // Mix the randomness into accumulated entropy.\n        mixkey(tostring(arc4.S), pool);\n\n        // Calling convention: what to return as a function of prng, seed, is_math.\n        return (options.pass || callback ||\n        function(prng, seed, is_math_call, state) {\n            if (state) {\n                // Load the arc4 state from the given state if it has an S array.\n                if (state.S) { copy(state, arc4); }\n                // Only provide the .state method if requested via options.state.\n                prng.state = function() { return copy(arc4, {}); };\n            }\n\n            // If called as a method of Math (Math.seedrandom()), mutate\n            // Math.random because that is how seedrandom.js has worked since v1.0.\n            if (is_math_call) { math[rngname] = prng; return seed; }\n\n            // Otherwise, it is a newer calling convention, so return the\n            // prng directly.\n            else return prng;\n        })(\n            prng,\n            shortseed,\n            'global' in options ? options.global : (this == math),\n            options.state);\n    }\n    math['seed' + rngname] = seedrandom;\n\n//\n// ARC4\n//\n// An ARC4 implementation.  The constructor takes a key in the form of\n// an array of at most (width) integers that should be 0 <= x < (width).\n//\n// The g(count) method returns a pseudorandom integer that concatenates\n// the next (count) outputs from ARC4.  Its return value is a number x\n// that is in the range 0 <= x < (width ^ count).\n//\n    function ARC4(key) {\n        var t, keylen = key.length,\n            me = this, i = 0, j = me.i = me.j = 0, s = me.S = [];\n\n        // The empty key [] is treated as [0].\n        if (!keylen) { key = [keylen++]; }\n\n        // Set up S using the standard key scheduling algorithm.\n        while (i < width) {\n            s[i] = i++;\n        }\n        for (i = 0; i < width; i++) {\n            s[i] = s[j = mask & (j + key[i % keylen] + (t = s[i]))];\n            s[j] = t;\n        }\n\n        // The \"g\" method returns the next (count) outputs as one number.\n        me.g = function(count) {\n            // Using instance members instead of closure state nearly doubles speed.\n            var t, r = 0,\n                i = me.i, j = me.j, s = me.S;\n            while (count--) {\n                t = s[i = mask & (i + 1)];\n                r = r * width + s[mask & ((s[i] = s[j = mask & (j + t)]) + (s[j] = t))];\n            }\n            me.i = i; me.j = j;\n            return r;\n            // For robust unpredictability, the function call below automatically\n            // discards an initial batch of values.  This is called RC4-drop[256].\n            // See http://google.com/search?q=rsa+fluhrer+response&btnI\n        };\n    }\n\n//\n// copy()\n// Copies internal state of ARC4 to or from a plain object.\n//\n    function copy(f, t) {\n        t.i = f.i;\n        t.j = f.j;\n        t.S = f.S.slice();\n        return t;\n    }\n\n//\n// flatten()\n// Converts an object tree to nested arrays of strings.\n//\n    function flatten(obj, depth) {\n        var result = [], typ = (typeof obj), prop;\n        if (depth && typ == 'object') {\n            for (prop in obj) {\n                try { result.push(flatten(obj[prop], depth - 1)); } catch (e) {}\n            }\n        }\n        return (result.length ? result : typ == 'string' ? obj : obj + '\\0');\n    }\n\n//\n// mixkey()\n// Mixes a string seed into a key that is an array of integers, and\n// returns a shortened string seed that is equivalent to the result key.\n//\n    function mixkey(seed, key) {\n        var stringseed = seed + '', smear, j = 0;\n        while (j < stringseed.length) {\n            key[mask & j] =\n                mask & ((smear ^= key[mask & j] * 19) + stringseed.charCodeAt(j++));\n        }\n        return tostring(key);\n    }\n\n//\n// autoseed()\n// Returns an object for autoseeding, using window.crypto and Node crypto\n// module if available.\n//\n    function autoseed() {\n        try {\n            if (nodecrypto) { return tostring(nodecrypto.randomBytes(width)); }\n            var out = new Uint8Array(width);\n            (global.crypto || global.msCrypto).getRandomValues(out);\n            return tostring(out);\n        } catch (e) {\n            var browser = global.navigator,\n                plugins = browser && browser.plugins;\n            return [+new Date(), global, plugins, global.screen, tostring(pool)];\n        }\n    }\n\n//\n// tostring()\n// Converts an array of charcodes to a string\n//\n    function tostring(a) {\n        return String.fromCharCode.apply(0, a);\n    }\n\n//\n// When seedrandom.js is loaded, we immediately mix a few bits\n// from the built-in RNG into the entropy pool.  Because we do\n// not want to interfere with deterministic PRNG state later,\n// seedrandom will not call math.random on its own again after\n// initialization.\n//\n    mixkey(math.random(), pool);\n\n//\n// Nodejs and AMD support: export the implementation as a module using\n// either convention.\n//\n\n// End anonymous scope, and pass initial values.\n};\n\nfunction initialize$2(BMMath) {\n    seedRandom([], BMMath);\n}\n\nvar propTypes = {\n  SHAPE: 'shape',\n};\n\n/* eslint-disable camelcase */\n\nconst ExpressionManager = (function () {\n  'use strict';\n\n  var ob = {};\n  var Math = BMMath;\n  var window = null;\n  var document = null;\n  var XMLHttpRequest = null;\n  var fetch = null;\n  var frames = null;\n  initialize$2(BMMath);\n\n  function $bm_isInstanceOfArray(arr) {\n    return arr.constructor === Array || arr.constructor === Float32Array;\n  }\n\n  function isNumerable(tOfV, v) {\n    return tOfV === 'number' || tOfV === 'boolean' || tOfV === 'string' || v instanceof Number;\n  }\n\n  function $bm_neg(a) {\n    var tOfA = typeof a;\n    if (tOfA === 'number' || tOfA === 'boolean' || a instanceof Number) {\n      return -a;\n    }\n    if ($bm_isInstanceOfArray(a)) {\n      var i;\n      var lenA = a.length;\n      var retArr = [];\n      for (i = 0; i < lenA; i += 1) {\n        retArr[i] = -a[i];\n      }\n      return retArr;\n    }\n    if (a.propType) {\n      return a.v;\n    }\n    return -a;\n  }\n\n  var easeInBez = BezierFactory.getBezierEasing(0.333, 0, 0.833, 0.833, 'easeIn').get;\n  var easeOutBez = BezierFactory.getBezierEasing(0.167, 0.167, 0.667, 1, 'easeOut').get;\n  var easeInOutBez = BezierFactory.getBezierEasing(0.33, 0, 0.667, 1, 'easeInOut').get;\n\n  function sum(a, b) {\n    var tOfA = typeof a;\n    var tOfB = typeof b;\n    if (tOfA === 'string' || tOfB === 'string') {\n      return a + b;\n    }\n    if (isNumerable(tOfA, a) && isNumerable(tOfB, b)) {\n      return a + b;\n    }\n    if ($bm_isInstanceOfArray(a) && isNumerable(tOfB, b)) {\n      a = a.slice(0);\n      a[0] += b;\n      return a;\n    }\n    if (isNumerable(tOfA, a) && $bm_isInstanceOfArray(b)) {\n      b = b.slice(0);\n      b[0] = a + b[0];\n      return b;\n    }\n    if ($bm_isInstanceOfArray(a) && $bm_isInstanceOfArray(b)) {\n      var i = 0;\n      var lenA = a.length;\n      var lenB = b.length;\n      var retArr = [];\n      while (i < lenA || i < lenB) {\n        if ((typeof a[i] === 'number' || a[i] instanceof Number) && (typeof b[i] === 'number' || b[i] instanceof Number)) {\n          retArr[i] = a[i] + b[i];\n        } else {\n          retArr[i] = b[i] === undefined ? a[i] : a[i] || b[i];\n        }\n        i += 1;\n      }\n      return retArr;\n    }\n    return 0;\n  }\n  var add = sum;\n\n  function sub(a, b) {\n    var tOfA = typeof a;\n    var tOfB = typeof b;\n    if (isNumerable(tOfA, a) && isNumerable(tOfB, b)) {\n      if (tOfA === 'string') {\n        a = parseInt(a, 10);\n      }\n      if (tOfB === 'string') {\n        b = parseInt(b, 10);\n      }\n      return a - b;\n    }\n    if ($bm_isInstanceOfArray(a) && isNumerable(tOfB, b)) {\n      a = a.slice(0);\n      a[0] -= b;\n      return a;\n    }\n    if (isNumerable(tOfA, a) && $bm_isInstanceOfArray(b)) {\n      b = b.slice(0);\n      b[0] = a - b[0];\n      return b;\n    }\n    if ($bm_isInstanceOfArray(a) && $bm_isInstanceOfArray(b)) {\n      var i = 0;\n      var lenA = a.length;\n      var lenB = b.length;\n      var retArr = [];\n      while (i < lenA || i < lenB) {\n        if ((typeof a[i] === 'number' || a[i] instanceof Number) && (typeof b[i] === 'number' || b[i] instanceof Number)) {\n          retArr[i] = a[i] - b[i];\n        } else {\n          retArr[i] = b[i] === undefined ? a[i] : a[i] || b[i];\n        }\n        i += 1;\n      }\n      return retArr;\n    }\n    return 0;\n  }\n\n  function mul(a, b) {\n    var tOfA = typeof a;\n    var tOfB = typeof b;\n    var arr;\n    if (isNumerable(tOfA, a) && isNumerable(tOfB, b)) {\n      return a * b;\n    }\n\n    var i;\n    var len;\n    if ($bm_isInstanceOfArray(a) && isNumerable(tOfB, b)) {\n      len = a.length;\n      arr = createTypedArray('float32', len);\n      for (i = 0; i < len; i += 1) {\n        arr[i] = a[i] * b;\n      }\n      return arr;\n    }\n    if (isNumerable(tOfA, a) && $bm_isInstanceOfArray(b)) {\n      len = b.length;\n      arr = createTypedArray('float32', len);\n      for (i = 0; i < len; i += 1) {\n        arr[i] = a * b[i];\n      }\n      return arr;\n    }\n    return 0;\n  }\n\n  function div(a, b) {\n    var tOfA = typeof a;\n    var tOfB = typeof b;\n    var arr;\n    if (isNumerable(tOfA, a) && isNumerable(tOfB, b)) {\n      return a / b;\n    }\n    var i;\n    var len;\n    if ($bm_isInstanceOfArray(a) && isNumerable(tOfB, b)) {\n      len = a.length;\n      arr = createTypedArray('float32', len);\n      for (i = 0; i < len; i += 1) {\n        arr[i] = a[i] / b;\n      }\n      return arr;\n    }\n    if (isNumerable(tOfA, a) && $bm_isInstanceOfArray(b)) {\n      len = b.length;\n      arr = createTypedArray('float32', len);\n      for (i = 0; i < len; i += 1) {\n        arr[i] = a / b[i];\n      }\n      return arr;\n    }\n    return 0;\n  }\n  function mod(a, b) {\n    if (typeof a === 'string') {\n      a = parseInt(a, 10);\n    }\n    if (typeof b === 'string') {\n      b = parseInt(b, 10);\n    }\n    return a % b;\n  }\n  var $bm_sum = sum;\n  var $bm_sub = sub;\n  var $bm_mul = mul;\n  var $bm_div = div;\n  var $bm_mod = mod;\n\n  function clamp(num, min, max) {\n    if (min > max) {\n      var mm = max;\n      max = min;\n      min = mm;\n    }\n    return Math.min(Math.max(num, min), max);\n  }\n\n  function radiansToDegrees(val) {\n    return val / degToRads;\n  }\n  var radians_to_degrees = radiansToDegrees;\n\n  function degreesToRadians(val) {\n    return val * degToRads;\n  }\n  var degrees_to_radians = radiansToDegrees;\n\n  var helperLengthArray = [0, 0, 0, 0, 0, 0];\n\n  function length(arr1, arr2) {\n    if (typeof arr1 === 'number' || arr1 instanceof Number) {\n      arr2 = arr2 || 0;\n      return Math.abs(arr1 - arr2);\n    }\n    if (!arr2) {\n      arr2 = helperLengthArray;\n    }\n    var i;\n    var len = Math.min(arr1.length, arr2.length);\n    var addedLength = 0;\n    for (i = 0; i < len; i += 1) {\n      addedLength += Math.pow(arr2[i] - arr1[i], 2);\n    }\n    return Math.sqrt(addedLength);\n  }\n\n  function normalize(vec) {\n    return div(vec, length(vec));\n  }\n\n  function rgbToHsl(val) {\n    var r = val[0]; var g = val[1]; var b = val[2];\n    var max = Math.max(r, g, b);\n    var min = Math.min(r, g, b);\n    var h;\n    var s;\n    var l = (max + min) / 2;\n\n    if (max === min) {\n      h = 0; // achromatic\n      s = 0; // achromatic\n    } else {\n      var d = max - min;\n      s = l > 0.5 ? d / (2 - max - min) : d / (max + min);\n      switch (max) {\n        case r: h = (g - b) / d + (g < b ? 6 : 0); break;\n        case g: h = (b - r) / d + 2; break;\n        case b: h = (r - g) / d + 4; break;\n        default: break;\n      }\n      h /= 6;\n    }\n\n    return [h, s, l, val[3]];\n  }\n\n  function hue2rgb(p, q, t) {\n    if (t < 0) t += 1;\n    if (t > 1) t -= 1;\n    if (t < 1 / 6) return p + (q - p) * 6 * t;\n    if (t < 1 / 2) return q;\n    if (t < 2 / 3) return p + (q - p) * (2 / 3 - t) * 6;\n    return p;\n  }\n\n  function hslToRgb(val) {\n    var h = val[0];\n    var s = val[1];\n    var l = val[2];\n\n    var r;\n    var g;\n    var b;\n\n    if (s === 0) {\n      r = l; // achromatic\n      b = l; // achromatic\n      g = l; // achromatic\n    } else {\n      var q = l < 0.5 ? l * (1 + s) : l + s - l * s;\n      var p = 2 * l - q;\n      r = hue2rgb(p, q, h + 1 / 3);\n      g = hue2rgb(p, q, h);\n      b = hue2rgb(p, q, h - 1 / 3);\n    }\n\n    return [r, g, b, val[3]];\n  }\n\n  function linear(t, tMin, tMax, value1, value2) {\n    if (value1 === undefined || value2 === undefined) {\n      value1 = tMin;\n      value2 = tMax;\n      tMin = 0;\n      tMax = 1;\n    }\n    if (tMax < tMin) {\n      var _tMin = tMax;\n      tMax = tMin;\n      tMin = _tMin;\n    }\n    if (t <= tMin) {\n      return value1;\n    } if (t >= tMax) {\n      return value2;\n    }\n    var perc = tMax === tMin ? 0 : (t - tMin) / (tMax - tMin);\n    if (!value1.length) {\n      return value1 + (value2 - value1) * perc;\n    }\n    var i;\n    var len = value1.length;\n    var arr = createTypedArray('float32', len);\n    for (i = 0; i < len; i += 1) {\n      arr[i] = value1[i] + (value2[i] - value1[i]) * perc;\n    }\n    return arr;\n  }\n  function random(min, max) {\n    if (max === undefined) {\n      if (min === undefined) {\n        min = 0;\n        max = 1;\n      } else {\n        max = min;\n        min = undefined;\n      }\n    }\n    if (max.length) {\n      var i;\n      var len = max.length;\n      if (!min) {\n        min = createTypedArray('float32', len);\n      }\n      var arr = createTypedArray('float32', len);\n      var rnd = BMMath.random();\n      for (i = 0; i < len; i += 1) {\n        arr[i] = min[i] + rnd * (max[i] - min[i]);\n      }\n      return arr;\n    }\n    if (min === undefined) {\n      min = 0;\n    }\n    var rndm = BMMath.random();\n    return min + rndm * (max - min);\n  }\n\n  function createPath(points, inTangents, outTangents, closed) {\n    var i;\n    var len = points.length;\n    var path = shapePool.newElement();\n    path.setPathData(!!closed, len);\n    var arrPlaceholder = [0, 0];\n    var inVertexPoint;\n    var outVertexPoint;\n    for (i = 0; i < len; i += 1) {\n      inVertexPoint = (inTangents && inTangents[i]) ? inTangents[i] : arrPlaceholder;\n      outVertexPoint = (outTangents && outTangents[i]) ? outTangents[i] : arrPlaceholder;\n      path.setTripleAt(points[i][0], points[i][1], outVertexPoint[0] + points[i][0], outVertexPoint[1] + points[i][1], inVertexPoint[0] + points[i][0], inVertexPoint[1] + points[i][1], i, true);\n    }\n    return path;\n  }\n\n  function initiateExpression(elem, data, property) {\n    var val = data.x;\n    var needsVelocity = /velocity(?![\\w\\d])/.test(val);\n    var _needsRandom = val.indexOf('random') !== -1;\n    var elemType = elem.data.ty;\n    var transform;\n    var $bm_transform;\n    var content;\n    var effect;\n    var thisProperty = property;\n    thisProperty.valueAtTime = thisProperty.getValueAtTime;\n    Object.defineProperty(thisProperty, 'value', {\n      get: function () {\n        return thisProperty.v;\n      },\n    });\n    elem.comp.frameDuration = 1 / elem.comp.globalData.frameRate;\n    elem.comp.displayStartTime = 0;\n    var inPoint = elem.data.ip / elem.comp.globalData.frameRate;\n    var outPoint = elem.data.op / elem.comp.globalData.frameRate;\n    var width = elem.data.sw ? elem.data.sw : 0;\n    var height = elem.data.sh ? elem.data.sh : 0;\n    var name = elem.data.nm;\n    var loopIn;\n    var loop_in;\n    var loopOut;\n    var loop_out;\n    var smooth;\n    var toWorld;\n    var fromWorld;\n    var fromComp;\n    var toComp;\n    var fromCompToSurface;\n    var position;\n    var rotation;\n    var anchorPoint;\n    var scale;\n    var thisLayer;\n    var thisComp;\n    var mask;\n    var valueAtTime;\n    var velocityAtTime;\n\n    var scoped_bm_rt;\n    // val = val.replace(/(\\\\?\"|')((http)(s)?(:\\/))?\\/.*?(\\\\?\"|')/g, \"\\\"\\\"\"); // deter potential network calls\n    var expression_function = eval('[function _expression_function(){' + val + ';scoped_bm_rt=$bm_rt}]')[0]; // eslint-disable-line no-eval\n    var numKeys = property.kf ? data.k.length : 0;\n\n    var active = !this.data || this.data.hd !== true;\n\n    var wiggle = function wiggle(freq, amp) {\n      var iWiggle;\n      var j;\n      var lenWiggle = this.pv.length ? this.pv.length : 1;\n      var addedAmps = createTypedArray('float32', lenWiggle);\n      freq = 5;\n      var iterations = Math.floor(time * freq);\n      iWiggle = 0;\n      j = 0;\n      while (iWiggle < iterations) {\n        // var rnd = BMMath.random();\n        for (j = 0; j < lenWiggle; j += 1) {\n          addedAmps[j] += -amp + amp * 2 * BMMath.random();\n          // addedAmps[j] += -amp + amp*2*rnd;\n        }\n        iWiggle += 1;\n      }\n      // var rnd2 = BMMath.random();\n      var periods = time * freq;\n      var perc = periods - Math.floor(periods);\n      var arr = createTypedArray('float32', lenWiggle);\n      if (lenWiggle > 1) {\n        for (j = 0; j < lenWiggle; j += 1) {\n          arr[j] = this.pv[j] + addedAmps[j] + (-amp + amp * 2 * BMMath.random()) * perc;\n          // arr[j] = this.pv[j] + addedAmps[j] + (-amp + amp*2*rnd)*perc;\n          // arr[i] = this.pv[i] + addedAmp + amp1*perc + amp2*(1-perc);\n        }\n        return arr;\n      }\n      return this.pv + addedAmps[0] + (-amp + amp * 2 * BMMath.random()) * perc;\n    }.bind(this);\n\n    if (thisProperty.loopIn) {\n      loopIn = thisProperty.loopIn.bind(thisProperty);\n      loop_in = loopIn;\n    }\n\n    if (thisProperty.loopOut) {\n      loopOut = thisProperty.loopOut.bind(thisProperty);\n      loop_out = loopOut;\n    }\n\n    if (thisProperty.smooth) {\n      smooth = thisProperty.smooth.bind(thisProperty);\n    }\n\n    function loopInDuration(type, duration) {\n      return loopIn(type, duration, true);\n    }\n\n    function loopOutDuration(type, duration) {\n      return loopOut(type, duration, true);\n    }\n\n    if (this.getValueAtTime) {\n      valueAtTime = this.getValueAtTime.bind(this);\n    }\n\n    if (this.getVelocityAtTime) {\n      velocityAtTime = this.getVelocityAtTime.bind(this);\n    }\n\n    var comp = elem.comp.globalData.projectInterface.bind(elem.comp.globalData.projectInterface);\n\n    function lookAt(elem1, elem2) {\n      var fVec = [elem2[0] - elem1[0], elem2[1] - elem1[1], elem2[2] - elem1[2]];\n      var pitch = Math.atan2(fVec[0], Math.sqrt(fVec[1] * fVec[1] + fVec[2] * fVec[2])) / degToRads;\n      var yaw = -Math.atan2(fVec[1], fVec[2]) / degToRads;\n      return [yaw, pitch, 0];\n    }\n\n    function easeOut(t, tMin, tMax, val1, val2) {\n      return applyEase(easeOutBez, t, tMin, tMax, val1, val2);\n    }\n\n    function easeIn(t, tMin, tMax, val1, val2) {\n      return applyEase(easeInBez, t, tMin, tMax, val1, val2);\n    }\n\n    function ease(t, tMin, tMax, val1, val2) {\n      return applyEase(easeInOutBez, t, tMin, tMax, val1, val2);\n    }\n\n    function applyEase(fn, t, tMin, tMax, val1, val2) {\n      if (val1 === undefined) {\n        val1 = tMin;\n        val2 = tMax;\n      } else {\n        t = (t - tMin) / (tMax - tMin);\n      }\n      if (t > 1) {\n        t = 1;\n      } else if (t < 0) {\n        t = 0;\n      }\n      var mult = fn(t);\n      if ($bm_isInstanceOfArray(val1)) {\n        var iKey;\n        var lenKey = val1.length;\n        var arr = createTypedArray('float32', lenKey);\n        for (iKey = 0; iKey < lenKey; iKey += 1) {\n          arr[iKey] = (val2[iKey] - val1[iKey]) * mult + val1[iKey];\n        }\n        return arr;\n      }\n      return (val2 - val1) * mult + val1;\n    }\n\n    function nearestKey(time) {\n      var iKey;\n      var lenKey = data.k.length;\n      var index;\n      var keyTime;\n      if (!data.k.length || typeof (data.k[0]) === 'number') {\n        index = 0;\n        keyTime = 0;\n      } else {\n        index = -1;\n        time *= elem.comp.globalData.frameRate;\n        if (time < data.k[0].t) {\n          index = 1;\n          keyTime = data.k[0].t;\n        } else {\n          for (iKey = 0; iKey < lenKey - 1; iKey += 1) {\n            if (time === data.k[iKey].t) {\n              index = iKey + 1;\n              keyTime = data.k[iKey].t;\n              break;\n            } else if (time > data.k[iKey].t && time < data.k[iKey + 1].t) {\n              if (time - data.k[iKey].t > data.k[iKey + 1].t - time) {\n                index = iKey + 2;\n                keyTime = data.k[iKey + 1].t;\n              } else {\n                index = iKey + 1;\n                keyTime = data.k[iKey].t;\n              }\n              break;\n            }\n          }\n          if (index === -1) {\n            index = iKey + 1;\n            keyTime = data.k[iKey].t;\n          }\n        }\n      }\n      var obKey = {};\n      obKey.index = index;\n      obKey.time = keyTime / elem.comp.globalData.frameRate;\n      return obKey;\n    }\n\n    function key(ind) {\n      var obKey;\n      var iKey;\n      var lenKey;\n      if (!data.k.length || typeof (data.k[0]) === 'number') {\n        throw new Error('The property has no keyframe at index ' + ind);\n      }\n      ind -= 1;\n      obKey = {\n        time: data.k[ind].t / elem.comp.globalData.frameRate,\n        value: [],\n      };\n      var arr = Object.prototype.hasOwnProperty.call(data.k[ind], 's') ? data.k[ind].s : data.k[ind - 1].e;\n\n      lenKey = arr.length;\n      for (iKey = 0; iKey < lenKey; iKey += 1) {\n        obKey[iKey] = arr[iKey];\n        obKey.value[iKey] = arr[iKey];\n      }\n      return obKey;\n    }\n\n    function framesToTime(fr, fps) {\n      if (!fps) {\n        fps = elem.comp.globalData.frameRate;\n      }\n      return fr / fps;\n    }\n\n    function timeToFrames(t, fps) {\n      if (!t && t !== 0) {\n        t = time;\n      }\n      if (!fps) {\n        fps = elem.comp.globalData.frameRate;\n      }\n      return t * fps;\n    }\n\n    function seedRandom(seed) {\n      BMMath.seedrandom(randSeed + seed);\n    }\n\n    function sourceRectAtTime() {\n      return elem.sourceRectAtTime();\n    }\n\n    function substring(init, end) {\n      if (typeof value === 'string') {\n        if (end === undefined) {\n          return value.substring(init);\n        }\n        return value.substring(init, end);\n      }\n      return '';\n    }\n\n    function substr(init, end) {\n      if (typeof value === 'string') {\n        if (end === undefined) {\n          return value.substr(init);\n        }\n        return value.substr(init, end);\n      }\n      return '';\n    }\n\n    function posterizeTime(framesPerSecond) {\n      time = framesPerSecond === 0 ? 0 : Math.floor(time * framesPerSecond) / framesPerSecond;\n      value = valueAtTime(time);\n    }\n\n    var time;\n    var velocity;\n    var value;\n    var text;\n    var textIndex;\n    var textTotal;\n    var selectorValue;\n    var index = elem.data.ind;\n    var hasParent = !!(elem.hierarchy && elem.hierarchy.length);\n    var parent;\n    var randSeed = Math.floor(Math.random() * 1000000);\n    var globalData = elem.globalData;\n    function executeExpression(_value) {\n      // globalData.pushExpression();\n      value = _value;\n      if (this.frameExpressionId === elem.globalData.frameId && this.propType !== 'textSelector') {\n        return value;\n      }\n      if (this.propType === 'textSelector') {\n        textIndex = this.textIndex;\n        textTotal = this.textTotal;\n        selectorValue = this.selectorValue;\n      }\n      if (!thisLayer) {\n        text = elem.layerInterface.text;\n        thisLayer = elem.layerInterface;\n        thisComp = elem.comp.compInterface;\n        toWorld = thisLayer.toWorld.bind(thisLayer);\n        fromWorld = thisLayer.fromWorld.bind(thisLayer);\n        fromComp = thisLayer.fromComp.bind(thisLayer);\n        toComp = thisLayer.toComp.bind(thisLayer);\n        mask = thisLayer.mask ? thisLayer.mask.bind(thisLayer) : null;\n        fromCompToSurface = fromComp;\n      }\n      if (!transform) {\n        transform = elem.layerInterface('ADBE Transform Group');\n        $bm_transform = transform;\n        if (transform) {\n          anchorPoint = transform.anchorPoint;\n          /* position = transform.position;\n                    rotation = transform.rotation;\n                    scale = transform.scale; */\n        }\n      }\n\n      if (elemType === 4 && !content) {\n        content = thisLayer('ADBE Root Vectors Group');\n      }\n      if (!effect) {\n        effect = thisLayer(4);\n      }\n      hasParent = !!(elem.hierarchy && elem.hierarchy.length);\n      if (hasParent && !parent) {\n        parent = elem.hierarchy[0].layerInterface;\n      }\n      time = this.comp.renderedFrame / this.comp.globalData.frameRate;\n      if (_needsRandom) {\n        seedRandom(randSeed + time);\n      }\n      if (needsVelocity) {\n        velocity = velocityAtTime(time);\n      }\n      expression_function();\n      this.frameExpressionId = elem.globalData.frameId;\n\n      // TODO: Check if it's possible to return on ShapeInterface the .v value\n      // Changed this to a ternary operation because Rollup failed compiling it correctly\n      scoped_bm_rt = scoped_bm_rt.propType === propTypes.SHAPE\n        ? scoped_bm_rt.v\n        : scoped_bm_rt;\n      return scoped_bm_rt;\n    }\n    // Bundlers will see these as dead code and unless we reference them\n    executeExpression.__preventDeadCodeRemoval = [$bm_transform, anchorPoint, time, velocity, inPoint, outPoint, width, height, name, loop_in, loop_out, smooth, toComp, fromCompToSurface, toWorld, fromWorld, mask, position, rotation, scale, thisComp, numKeys, active, wiggle, loopInDuration, loopOutDuration, comp, lookAt, easeOut, easeIn, ease, nearestKey, key, text, textIndex, textTotal, selectorValue, framesToTime, timeToFrames, sourceRectAtTime, substring, substr, posterizeTime, index, globalData];\n    return executeExpression;\n  }\n\n  ob.initiateExpression = initiateExpression;\n  ob.__preventDeadCodeRemoval = [window, document, XMLHttpRequest, fetch, frames, $bm_neg, add, $bm_sum, $bm_sub, $bm_mul, $bm_div, $bm_mod, clamp, radians_to_degrees, degreesToRadians, degrees_to_radians, normalize, rgbToHsl, hslToRgb, linear, random, createPath];\n  return ob;\n}());\n\nconst expressionHelpers = (function () {\n  function searchExpressions(elem, data, prop) {\n    if (data.x) {\n      prop.k = true;\n      prop.x = true;\n      prop.initiateExpression = ExpressionManager.initiateExpression;\n      prop.effectsSequence.push(prop.initiateExpression(elem, data, prop).bind(prop));\n    }\n  }\n\n  function getValueAtTime(frameNum) {\n    frameNum *= this.elem.globalData.frameRate;\n    frameNum -= this.offsetTime;\n    if (frameNum !== this._cachingAtTime.lastFrame) {\n      this._cachingAtTime.lastIndex = this._cachingAtTime.lastFrame < frameNum ? this._cachingAtTime.lastIndex : 0;\n      this._cachingAtTime.value = this.interpolateValue(frameNum, this._cachingAtTime);\n      this._cachingAtTime.lastFrame = frameNum;\n    }\n    return this._cachingAtTime.value;\n  }\n\n  function getSpeedAtTime(frameNum) {\n    var delta = -0.01;\n    var v1 = this.getValueAtTime(frameNum);\n    var v2 = this.getValueAtTime(frameNum + delta);\n    var speed = 0;\n    if (v1.length) {\n      var i;\n      for (i = 0; i < v1.length; i += 1) {\n        speed += Math.pow(v2[i] - v1[i], 2);\n      }\n      speed = Math.sqrt(speed) * 100;\n    } else {\n      speed = 0;\n    }\n    return speed;\n  }\n\n  function getVelocityAtTime(frameNum) {\n    if (this.vel !== undefined) {\n      return this.vel;\n    }\n    var delta = -0.001;\n    // frameNum += this.elem.data.st;\n    var v1 = this.getValueAtTime(frameNum);\n    var v2 = this.getValueAtTime(frameNum + delta);\n    var velocity;\n    if (v1.length) {\n      velocity = createTypedArray('float32', v1.length);\n      var i;\n      for (i = 0; i < v1.length; i += 1) {\n        // removing frameRate\n        // if needed, don't add it here\n        // velocity[i] = this.elem.globalData.frameRate*((v2[i] - v1[i])/delta);\n        velocity[i] = (v2[i] - v1[i]) / delta;\n      }\n    } else {\n      velocity = (v2 - v1) / delta;\n    }\n    return velocity;\n  }\n\n  function getStaticValueAtTime() {\n    return this.pv;\n  }\n\n  function setGroupProperty(propertyGroup) {\n    this.propertyGroup = propertyGroup;\n  }\n\n  return {\n    searchExpressions: searchExpressions,\n    getSpeedAtTime: getSpeedAtTime,\n    getVelocityAtTime: getVelocityAtTime,\n    getValueAtTime: getValueAtTime,\n    getStaticValueAtTime: getStaticValueAtTime,\n    setGroupProperty: setGroupProperty,\n  };\n}());\n\nfunction addPropertyDecorator() {\n  function loopOut(type, duration, durationFlag) {\n    if (!this.k || !this.keyframes) {\n      return this.pv;\n    }\n    type = type ? type.toLowerCase() : '';\n    var currentFrame = this.comp.renderedFrame;\n    var keyframes = this.keyframes;\n    var lastKeyFrame = keyframes[keyframes.length - 1].t;\n    if (currentFrame <= lastKeyFrame) {\n      return this.pv;\n    }\n    var cycleDuration;\n    var firstKeyFrame;\n    if (!durationFlag) {\n      if (!duration || duration > keyframes.length - 1) {\n        duration = keyframes.length - 1;\n      }\n      firstKeyFrame = keyframes[keyframes.length - 1 - duration].t;\n      cycleDuration = lastKeyFrame - firstKeyFrame;\n    } else {\n      if (!duration) {\n        cycleDuration = Math.max(0, lastKeyFrame - this.elem.data.ip);\n      } else {\n        cycleDuration = Math.abs(lastKeyFrame - this.elem.comp.globalData.frameRate * duration);\n      }\n      firstKeyFrame = lastKeyFrame - cycleDuration;\n    }\n    var i;\n    var len;\n    var ret;\n    if (type === 'pingpong') {\n      var iterations = Math.floor((currentFrame - firstKeyFrame) / cycleDuration);\n      if (iterations % 2 !== 0) {\n          return this.getValueAtTime(((cycleDuration - (currentFrame - firstKeyFrame) % cycleDuration + firstKeyFrame)) / this.comp.globalData.frameRate, 0); // eslint-disable-line\n      }\n    } else if (type === 'offset') {\n      var initV = this.getValueAtTime(firstKeyFrame / this.comp.globalData.frameRate, 0);\n      var endV = this.getValueAtTime(lastKeyFrame / this.comp.globalData.frameRate, 0);\n        var current = this.getValueAtTime(((currentFrame - firstKeyFrame) % cycleDuration + firstKeyFrame) / this.comp.globalData.frameRate, 0); // eslint-disable-line\n      var repeats = Math.floor((currentFrame - firstKeyFrame) / cycleDuration);\n      if (this.pv.length) {\n        ret = new Array(initV.length);\n        len = ret.length;\n        for (i = 0; i < len; i += 1) {\n          ret[i] = (endV[i] - initV[i]) * repeats + current[i];\n        }\n        return ret;\n      }\n      return (endV - initV) * repeats + current;\n    } else if (type === 'continue') {\n      var lastValue = this.getValueAtTime(lastKeyFrame / this.comp.globalData.frameRate, 0);\n      var nextLastValue = this.getValueAtTime((lastKeyFrame - 0.001) / this.comp.globalData.frameRate, 0);\n      if (this.pv.length) {\n        ret = new Array(lastValue.length);\n        len = ret.length;\n        for (i = 0; i < len; i += 1) {\n            ret[i] = lastValue[i] + (lastValue[i] - nextLastValue[i]) * ((currentFrame - lastKeyFrame) / this.comp.globalData.frameRate) / 0.0005; // eslint-disable-line\n        }\n        return ret;\n      }\n      return lastValue + (lastValue - nextLastValue) * (((currentFrame - lastKeyFrame)) / 0.001);\n    }\n      return this.getValueAtTime((((currentFrame - firstKeyFrame) % cycleDuration + firstKeyFrame)) / this.comp.globalData.frameRate, 0); // eslint-disable-line\n\n  }\n\n  function loopIn(type, duration, durationFlag) {\n    if (!this.k) {\n      return this.pv;\n    }\n    type = type ? type.toLowerCase() : '';\n    var currentFrame = this.comp.renderedFrame;\n    var keyframes = this.keyframes;\n    var firstKeyFrame = keyframes[0].t;\n    if (currentFrame >= firstKeyFrame) {\n      return this.pv;\n    }\n    var cycleDuration;\n    var lastKeyFrame;\n    if (!durationFlag) {\n      if (!duration || duration > keyframes.length - 1) {\n        duration = keyframes.length - 1;\n      }\n      lastKeyFrame = keyframes[duration].t;\n      cycleDuration = lastKeyFrame - firstKeyFrame;\n    } else {\n      if (!duration) {\n        cycleDuration = Math.max(0, this.elem.data.op - firstKeyFrame);\n      } else {\n        cycleDuration = Math.abs(this.elem.comp.globalData.frameRate * duration);\n      }\n      lastKeyFrame = firstKeyFrame + cycleDuration;\n    }\n    var i;\n    var len;\n    var ret;\n    if (type === 'pingpong') {\n      var iterations = Math.floor((firstKeyFrame - currentFrame) / cycleDuration);\n      if (iterations % 2 === 0) {\n          return this.getValueAtTime((((firstKeyFrame - currentFrame) % cycleDuration + firstKeyFrame)) / this.comp.globalData.frameRate, 0); // eslint-disable-line\n      }\n    } else if (type === 'offset') {\n      var initV = this.getValueAtTime(firstKeyFrame / this.comp.globalData.frameRate, 0);\n      var endV = this.getValueAtTime(lastKeyFrame / this.comp.globalData.frameRate, 0);\n      var current = this.getValueAtTime((cycleDuration - ((firstKeyFrame - currentFrame) % cycleDuration) + firstKeyFrame) / this.comp.globalData.frameRate, 0);\n      var repeats = Math.floor((firstKeyFrame - currentFrame) / cycleDuration) + 1;\n      if (this.pv.length) {\n        ret = new Array(initV.length);\n        len = ret.length;\n        for (i = 0; i < len; i += 1) {\n          ret[i] = current[i] - (endV[i] - initV[i]) * repeats;\n        }\n        return ret;\n      }\n      return current - (endV - initV) * repeats;\n    } else if (type === 'continue') {\n      var firstValue = this.getValueAtTime(firstKeyFrame / this.comp.globalData.frameRate, 0);\n      var nextFirstValue = this.getValueAtTime((firstKeyFrame + 0.001) / this.comp.globalData.frameRate, 0);\n      if (this.pv.length) {\n        ret = new Array(firstValue.length);\n        len = ret.length;\n        for (i = 0; i < len; i += 1) {\n          ret[i] = firstValue[i] + ((firstValue[i] - nextFirstValue[i]) * (firstKeyFrame - currentFrame)) / 0.001;\n        }\n        return ret;\n      }\n      return firstValue + ((firstValue - nextFirstValue) * (firstKeyFrame - currentFrame)) / 0.001;\n    }\n      return this.getValueAtTime(((cycleDuration - ((firstKeyFrame - currentFrame) % cycleDuration + firstKeyFrame))) / this.comp.globalData.frameRate, 0); // eslint-disable-line\n\n  }\n\n  function smooth(width, samples) {\n    if (!this.k) {\n      return this.pv;\n    }\n    width = (width || 0.4) * 0.5;\n    samples = Math.floor(samples || 5);\n    if (samples <= 1) {\n      return this.pv;\n    }\n    var currentTime = this.comp.renderedFrame / this.comp.globalData.frameRate;\n    var initFrame = currentTime - width;\n    var endFrame = currentTime + width;\n    var sampleFrequency = samples > 1 ? (endFrame - initFrame) / (samples - 1) : 1;\n    var i = 0;\n    var j = 0;\n    var value;\n    if (this.pv.length) {\n      value = createTypedArray('float32', this.pv.length);\n    } else {\n      value = 0;\n    }\n    var sampleValue;\n    while (i < samples) {\n      sampleValue = this.getValueAtTime(initFrame + i * sampleFrequency);\n      if (this.pv.length) {\n        for (j = 0; j < this.pv.length; j += 1) {\n          value[j] += sampleValue[j];\n        }\n      } else {\n        value += sampleValue;\n      }\n      i += 1;\n    }\n    if (this.pv.length) {\n      for (j = 0; j < this.pv.length; j += 1) {\n        value[j] /= samples;\n      }\n    } else {\n      value /= samples;\n    }\n    return value;\n  }\n\n  function getTransformValueAtTime(time) {\n    if (!this._transformCachingAtTime) {\n      this._transformCachingAtTime = {\n        v: new Matrix(),\n      };\n    }\n    /// /\n    var matrix = this._transformCachingAtTime.v;\n    matrix.cloneFromProps(this.pre.props);\n    if (this.appliedTransformations < 1) {\n      var anchor = this.a.getValueAtTime(time);\n      matrix.translate(\n        -anchor[0] * this.a.mult,\n        -anchor[1] * this.a.mult,\n        anchor[2] * this.a.mult\n      );\n    }\n    if (this.appliedTransformations < 2) {\n      var scale = this.s.getValueAtTime(time);\n      matrix.scale(\n        scale[0] * this.s.mult,\n        scale[1] * this.s.mult,\n        scale[2] * this.s.mult\n      );\n    }\n    if (this.sk && this.appliedTransformations < 3) {\n      var skew = this.sk.getValueAtTime(time);\n      var skewAxis = this.sa.getValueAtTime(time);\n      matrix.skewFromAxis(-skew * this.sk.mult, skewAxis * this.sa.mult);\n    }\n    if (this.r && this.appliedTransformations < 4) {\n      var rotation = this.r.getValueAtTime(time);\n      matrix.rotate(-rotation * this.r.mult);\n    } else if (!this.r && this.appliedTransformations < 4) {\n      var rotationZ = this.rz.getValueAtTime(time);\n      var rotationY = this.ry.getValueAtTime(time);\n      var rotationX = this.rx.getValueAtTime(time);\n      var orientation = this.or.getValueAtTime(time);\n      matrix.rotateZ(-rotationZ * this.rz.mult)\n        .rotateY(rotationY * this.ry.mult)\n        .rotateX(rotationX * this.rx.mult)\n        .rotateZ(-orientation[2] * this.or.mult)\n        .rotateY(orientation[1] * this.or.mult)\n        .rotateX(orientation[0] * this.or.mult);\n    }\n    if (this.data.p && this.data.p.s) {\n      var positionX = this.px.getValueAtTime(time);\n      var positionY = this.py.getValueAtTime(time);\n      if (this.data.p.z) {\n        var positionZ = this.pz.getValueAtTime(time);\n        matrix.translate(\n          positionX * this.px.mult,\n          positionY * this.py.mult,\n          -positionZ * this.pz.mult\n        );\n      } else {\n        matrix.translate(positionX * this.px.mult, positionY * this.py.mult, 0);\n      }\n    } else {\n      var position = this.p.getValueAtTime(time);\n      matrix.translate(\n        position[0] * this.p.mult,\n        position[1] * this.p.mult,\n        -position[2] * this.p.mult\n      );\n    }\n    return matrix;\n    /// /\n  }\n\n  function getTransformStaticValueAtTime() {\n    return this.v.clone(new Matrix());\n  }\n\n  var getTransformProperty = TransformPropertyFactory.getTransformProperty;\n  TransformPropertyFactory.getTransformProperty = function (elem, data, container) {\n    var prop = getTransformProperty(elem, data, container);\n    if (prop.dynamicProperties.length) {\n      prop.getValueAtTime = getTransformValueAtTime.bind(prop);\n    } else {\n      prop.getValueAtTime = getTransformStaticValueAtTime.bind(prop);\n    }\n    prop.setGroupProperty = expressionHelpers.setGroupProperty;\n    return prop;\n  };\n\n  var propertyGetProp = PropertyFactory.getProp;\n  PropertyFactory.getProp = function (elem, data, type, mult, container) {\n    var prop = propertyGetProp(elem, data, type, mult, container);\n    // prop.getVelocityAtTime = getVelocityAtTime;\n    // prop.loopOut = loopOut;\n    // prop.loopIn = loopIn;\n    if (prop.kf) {\n      prop.getValueAtTime = expressionHelpers.getValueAtTime.bind(prop);\n    } else {\n      prop.getValueAtTime = expressionHelpers.getStaticValueAtTime.bind(prop);\n    }\n    prop.setGroupProperty = expressionHelpers.setGroupProperty;\n    prop.loopOut = loopOut;\n    prop.loopIn = loopIn;\n    prop.smooth = smooth;\n    prop.getVelocityAtTime = expressionHelpers.getVelocityAtTime.bind(prop);\n    prop.getSpeedAtTime = expressionHelpers.getSpeedAtTime.bind(prop);\n    prop.numKeys = data.a === 1 ? data.k.length : 0;\n    prop.propertyIndex = data.ix;\n    var value = 0;\n    if (type !== 0) {\n      value = createTypedArray('float32', data.a === 1 ? data.k[0].s.length : data.k.length);\n    }\n    prop._cachingAtTime = {\n      lastFrame: initialDefaultFrame,\n      lastIndex: 0,\n      value: value,\n    };\n    expressionHelpers.searchExpressions(elem, data, prop);\n    if (prop.k) {\n      container.addDynamicProperty(prop);\n    }\n\n    return prop;\n  };\n\n  function getShapeValueAtTime(frameNum) {\n    // For now this caching object is created only when needed instead of creating it when the shape is initialized.\n    if (!this._cachingAtTime) {\n      this._cachingAtTime = {\n        shapeValue: shapePool.clone(this.pv),\n        lastIndex: 0,\n        lastTime: initialDefaultFrame,\n      };\n    }\n\n    frameNum *= this.elem.globalData.frameRate;\n    frameNum -= this.offsetTime;\n    if (frameNum !== this._cachingAtTime.lastTime) {\n      this._cachingAtTime.lastIndex = this._cachingAtTime.lastTime < frameNum ? this._caching.lastIndex : 0;\n      this._cachingAtTime.lastTime = frameNum;\n      this.interpolateShape(frameNum, this._cachingAtTime.shapeValue, this._cachingAtTime);\n    }\n    return this._cachingAtTime.shapeValue;\n  }\n\n  var ShapePropertyConstructorFunction = ShapePropertyFactory.getConstructorFunction();\n  var KeyframedShapePropertyConstructorFunction = ShapePropertyFactory.getKeyframedConstructorFunction();\n\n  function ShapeExpressions() {}\n  ShapeExpressions.prototype = {\n    vertices: function (prop, time) {\n      if (this.k) {\n        this.getValue();\n      }\n      var shapePath = this.v;\n      if (time !== undefined) {\n        shapePath = this.getValueAtTime(time, 0);\n      }\n      var i;\n      var len = shapePath._length;\n      var vertices = shapePath[prop];\n      var points = shapePath.v;\n      var arr = createSizedArray(len);\n      for (i = 0; i < len; i += 1) {\n        if (prop === 'i' || prop === 'o') {\n          arr[i] = [vertices[i][0] - points[i][0], vertices[i][1] - points[i][1]];\n        } else {\n          arr[i] = [vertices[i][0], vertices[i][1]];\n        }\n      }\n      return arr;\n    },\n    points: function (time) {\n      return this.vertices('v', time);\n    },\n    inTangents: function (time) {\n      return this.vertices('i', time);\n    },\n    outTangents: function (time) {\n      return this.vertices('o', time);\n    },\n    isClosed: function () {\n      return this.v.c;\n    },\n    pointOnPath: function (perc, time) {\n      var shapePath = this.v;\n      if (time !== undefined) {\n        shapePath = this.getValueAtTime(time, 0);\n      }\n      if (!this._segmentsLength) {\n        this._segmentsLength = bez.getSegmentsLength(shapePath);\n      }\n\n      var segmentsLength = this._segmentsLength;\n      var lengths = segmentsLength.lengths;\n      var lengthPos = segmentsLength.totalLength * perc;\n      var i = 0;\n      var len = lengths.length;\n      var accumulatedLength = 0;\n      var pt;\n      while (i < len) {\n        if (accumulatedLength + lengths[i].addedLength > lengthPos) {\n          var initIndex = i;\n          var endIndex = (shapePath.c && i === len - 1) ? 0 : i + 1;\n          var segmentPerc = (lengthPos - accumulatedLength) / lengths[i].addedLength;\n          pt = bez.getPointInSegment(shapePath.v[initIndex], shapePath.v[endIndex], shapePath.o[initIndex], shapePath.i[endIndex], segmentPerc, lengths[i]);\n          break;\n        } else {\n          accumulatedLength += lengths[i].addedLength;\n        }\n        i += 1;\n      }\n      if (!pt) {\n        pt = shapePath.c ? [shapePath.v[0][0], shapePath.v[0][1]] : [shapePath.v[shapePath._length - 1][0], shapePath.v[shapePath._length - 1][1]];\n      }\n      return pt;\n    },\n    vectorOnPath: function (perc, time, vectorType) {\n      // perc doesn't use triple equality because it can be a Number object as well as a primitive.\n      if (perc == 1) { // eslint-disable-line eqeqeq\n        perc = this.v.c;\n      } else if (perc == 0) { // eslint-disable-line eqeqeq\n        perc = 0.999;\n      }\n      var pt1 = this.pointOnPath(perc, time);\n      var pt2 = this.pointOnPath(perc + 0.001, time);\n      var xLength = pt2[0] - pt1[0];\n      var yLength = pt2[1] - pt1[1];\n      var magnitude = Math.sqrt(Math.pow(xLength, 2) + Math.pow(yLength, 2));\n      if (magnitude === 0) {\n        return [0, 0];\n      }\n      var unitVector = vectorType === 'tangent' ? [xLength / magnitude, yLength / magnitude] : [-yLength / magnitude, xLength / magnitude];\n      return unitVector;\n    },\n    tangentOnPath: function (perc, time) {\n      return this.vectorOnPath(perc, time, 'tangent');\n    },\n    normalOnPath: function (perc, time) {\n      return this.vectorOnPath(perc, time, 'normal');\n    },\n    setGroupProperty: expressionHelpers.setGroupProperty,\n    getValueAtTime: expressionHelpers.getStaticValueAtTime,\n  };\n  extendPrototype([ShapeExpressions], ShapePropertyConstructorFunction);\n  extendPrototype([ShapeExpressions], KeyframedShapePropertyConstructorFunction);\n  KeyframedShapePropertyConstructorFunction.prototype.getValueAtTime = getShapeValueAtTime;\n  KeyframedShapePropertyConstructorFunction.prototype.initiateExpression = ExpressionManager.initiateExpression;\n\n  var propertyGetShapeProp = ShapePropertyFactory.getShapeProp;\n  ShapePropertyFactory.getShapeProp = function (elem, data, type, arr, trims) {\n    var prop = propertyGetShapeProp(elem, data, type, arr, trims);\n    prop.propertyIndex = data.ix;\n    prop.lock = false;\n    if (type === 3) {\n      expressionHelpers.searchExpressions(elem, data.pt, prop);\n    } else if (type === 4) {\n      expressionHelpers.searchExpressions(elem, data.ks, prop);\n    }\n    if (prop.k) {\n      elem.addDynamicProperty(prop);\n    }\n    return prop;\n  };\n}\n\nfunction initialize$1() {\n  addPropertyDecorator();\n}\n\nfunction addDecorator() {\n  function searchExpressions() {\n    if (this.data.d.x) {\n      this.calculateExpression = ExpressionManager.initiateExpression.bind(this)(this.elem, this.data.d, this);\n      this.addEffect(this.getExpressionValue.bind(this));\n      return true;\n    }\n    return null;\n  }\n\n  TextProperty.prototype.getExpressionValue = function (currentValue, text) {\n    var newValue = this.calculateExpression(text);\n    if (currentValue.t !== newValue) {\n      var newData = {};\n      this.copyData(newData, currentValue);\n      newData.t = newValue.toString();\n      newData.__complete = false;\n      return newData;\n    }\n    return currentValue;\n  };\n\n  TextProperty.prototype.searchProperty = function () {\n    var isKeyframed = this.searchKeyframes();\n    var hasExpressions = this.searchExpressions();\n    this.kf = isKeyframed || hasExpressions;\n    return this.kf;\n  };\n\n  TextProperty.prototype.searchExpressions = searchExpressions;\n}\n\nfunction initialize() {\n  addDecorator();\n}\n\n// Registering expression plugin\nsetExpressionsPlugin(Expressions);\ninitialize$1();\ninitialize();\n\n}\n\nexport { lottie as default };\n"],"mappings":"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","ignoreList":[]}