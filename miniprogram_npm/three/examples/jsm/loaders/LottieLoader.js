import{FileLoader,Loader,CanvasTexture,NearestFilter,SRGBColorSpace}from"three";import lottie from"../libs/lottie_canvas.module.js";class LottieLoader extends Loader{constructor(e){super(e),console.warn("THREE.LottieLoader: The loader has been deprecated and will be removed with r186. Use lottie-web instead and create your animated texture manually.")}setQuality(e){this._quality=e}load(e,t,a,o){const i=this._quality||1,n=new CanvasTexture;n.minFilter=NearestFilter,n.generateMipmaps=!1,n.colorSpace=SRGBColorSpace;const r=new FileLoader(this.manager);return r.setPath(this.path),r.setWithCredentials(this.withCredentials),r.load(e,(function(e){const a=JSON.parse(e),o=document.createElement("div");o.style.width=a.w+"px",o.style.height=a.h+"px",document.body.appendChild(o);const r=lottie.loadAnimation({container:o,animType:"canvas",loop:!0,autoplay:!0,animationData:a,rendererSettings:{dpr:i}});n.animation=r,n.image=r.container,r.addEventListener("enterFrame",(function(){n.needsUpdate=!0})),o.style.display="none",void 0!==t&&t(n)}),a,o),n}}export{LottieLoader};
//# sourceMappingURL=LottieLoader.js.map