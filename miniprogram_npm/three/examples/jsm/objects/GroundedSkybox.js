import{Mesh,MeshBasicMaterial,SphereGeometry,Vector3}from"three";class GroundedSkybox extends Mesh{constructor(e,r,t,o=128){if(r<=0||t<=0||o<=0)throw new Error("GroundedSkybox height, radius, and resolution must be positive.");const s=new SphereGeometry(t,2*o,o);s.scale(1,1,-1);const i=s.getAttribute("position"),a=new Vector3;for(let e=0;e<i.count;++e)if(a.fromBufferAttribute(i,e),a.y<0){const t=3*-r/2,o=a.y<t?-r/a.y:1-a.y*a.y/(3*t*t);a.multiplyScalar(o),a.toArray(i.array,3*e)}i.needsUpdate=!0,super(s,new MeshBasicMaterial({map:e,depthWrite:!1}))}}export{GroundedSkybox};
//# sourceMappingURL=GroundedSkybox.js.map