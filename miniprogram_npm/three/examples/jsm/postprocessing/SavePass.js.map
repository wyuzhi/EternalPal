{"version":3,"file":"node_modules/three/examples/jsm/postprocessing/SavePass.js","names":["HalfFloatType","NoBlending","ShaderMaterial","UniformsUtils","WebGLRenderTarget","Pass","FullScreenQuad","CopyShader","SavePass","constructor","renderTarget","super","this","uniforms","clone","material","vertexShader","fragmentShader","blending","undefined","type","texture","name","needsSwap","_fsQuad","render","renderer","writeBuffer","readBuffer","value","setRenderTarget","clear","setSize","width","height","dispose"],"sources":["node_modules/three/examples/jsm/postprocessing/SavePass.js"],"sourcesContent":["import {\n\tHalfFloatType,\n\tNoBlending,\n\tShaderMaterial,\n\tUniformsUtils,\n\tWebGLRenderTarget\n} from 'three';\nimport { Pass, FullScreenQuad } from './Pass.js';\nimport { CopyShader } from '../shaders/CopyShader.js';\n\n/**\n * A pass that saves the contents of the current read buffer in a render target.\n *\n * ```js\n * const savePass = new SavePass( customRenderTarget );\n * composer.addPass( savePass );\n * ```\n *\n * @augments Pass\n * @three_import import { SavePass } from 'three/addons/postprocessing/SavePass.js';\n */\nclass SavePass extends Pass {\n\n\t/**\n\t * Constructs a new save pass.\n\t *\n\t * @param {WebGLRenderTarget} [renderTarget] - The render target for saving the read buffer.\n\t * If not provided, the pass automatically creates a render target.\n\t */\n\tconstructor( renderTarget ) {\n\n\t\tsuper();\n\n\t\t/**\n\t\t * The pass uniforms.\n\t\t *\n\t\t * @type {Object}\n\t\t */\n\t\tthis.uniforms = UniformsUtils.clone( CopyShader.uniforms );\n\n\t\t/**\n\t\t * The pass material.\n\t\t *\n\t\t * @type {ShaderMaterial}\n\t\t */\n\t\tthis.material = new ShaderMaterial( {\n\n\t\t\tuniforms: this.uniforms,\n\t\t\tvertexShader: CopyShader.vertexShader,\n\t\t\tfragmentShader: CopyShader.fragmentShader,\n\t\t\tblending: NoBlending\n\n\t\t} );\n\n\t\t/**\n\t\t * The render target which is used to save the read buffer.\n\t\t *\n\t\t * @type {WebGLRenderTarget}\n\t\t */\n\t\tthis.renderTarget = renderTarget;\n\n\t\tif ( this.renderTarget === undefined ) {\n\n\t\t\tthis.renderTarget = new WebGLRenderTarget( 1, 1, { type: HalfFloatType } ); // will be resized later\n\t\t\tthis.renderTarget.texture.name = 'SavePass.rt';\n\n\t\t}\n\n\t\t/**\n\t\t * Overwritten to disable the swap.\n\t\t *\n\t\t * @type {boolean}\n\t\t * @default false\n\t\t */\n\t\tthis.needsSwap = false;\n\n\t\t// internals\n\n\t\tthis._fsQuad = new FullScreenQuad( this.material );\n\n\t}\n\n\t/**\n\t * Performs the save pass.\n\t *\n\t * @param {WebGLRenderer} renderer - The renderer.\n\t * @param {WebGLRenderTarget} writeBuffer - The write buffer. This buffer is intended as the rendering\n\t * destination for the pass.\n\t * @param {WebGLRenderTarget} readBuffer - The read buffer. The pass can access the result from the\n\t * previous pass from this buffer.\n\t * @param {number} deltaTime - The delta time in seconds.\n\t * @param {boolean} maskActive - Whether masking is active or not.\n\t */\n\trender( renderer, writeBuffer, readBuffer/*, deltaTime, maskActive */ ) {\n\n\t\tthis.uniforms[ 'tDiffuse' ].value = readBuffer.texture;\n\n\t\trenderer.setRenderTarget( this.renderTarget );\n\t\tif ( this.clear ) renderer.clear();\n\t\tthis._fsQuad.render( renderer );\n\n\t}\n\n\t/**\n\t * Sets the size of the pass.\n\t *\n\t * @param {number} width - The width to set.\n\t * @param {number} height - The height to set.\n\t */\n\tsetSize( width, height ) {\n\n\t\tthis.renderTarget.setSize( width, height );\n\n\t}\n\n\t/**\n\t * Frees the GPU-related resources allocated by this instance. Call this\n\t * method whenever the pass is no longer used in your app.\n\t */\n\tdispose() {\n\n\t\tthis.renderTarget.dispose();\n\n\t\tthis.material.dispose();\n\n\t\tthis._fsQuad.dispose();\n\n\t}\n\n}\n\nexport { SavePass };\n"],"mappings":"OACCA,cACAC,WACAC,eACAC,cACAC,sBACM,eACEC,KAAMC,mBAAsB,mBAC5BC,eAAkB,2BAa3B,MAAMC,iBAAiBH,KAQtB,WAAAI,CAAaC,GAEZC,QAOAC,KAAKC,SAAWV,cAAcW,MAAOP,WAAWM,UAOhDD,KAAKG,SAAW,IAAIb,eAAgB,CAEnCW,SAAUD,KAAKC,SACfG,aAAcT,WAAWS,aACzBC,eAAgBV,WAAWU,eAC3BC,SAAUjB,aASXW,KAAKF,aAAeA,OAEOS,IAAtBP,KAAKF,eAETE,KAAKF,aAAe,IAAIN,kBAAmB,EAAG,EAAG,CAAEgB,KAAMpB,gBACzDY,KAAKF,aAAaW,QAAQC,KAAO,eAUlCV,KAAKW,WAAY,EAIjBX,KAAKY,QAAU,IAAIlB,eAAgBM,KAAKG,SAEzC,CAaA,MAAAU,CAAQC,EAAUC,EAAaC,GAE9BhB,KAAKC,SAAqB,SAAEgB,MAAQD,EAAWP,QAE/CK,EAASI,gBAAiBlB,KAAKF,cAC1BE,KAAKmB,OAAQL,EAASK,QAC3BnB,KAAKY,QAAQC,OAAQC,EAEtB,CAQA,OAAAM,CAASC,EAAOC,GAEftB,KAAKF,aAAasB,QAASC,EAAOC,EAEnC,CAMA,OAAAC,GAECvB,KAAKF,aAAayB,UAElBvB,KAAKG,SAASoB,UAEdvB,KAAKY,QAAQW,SAEd,SAIQ3B","ignoreList":[]}