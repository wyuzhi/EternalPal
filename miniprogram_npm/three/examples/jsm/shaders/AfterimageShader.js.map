{"version":3,"file":"node_modules/three/examples/jsm/shaders/AfterimageShader.js","names":["AfterimageShader","name","uniforms","damp","value","tOld","tNew","vertexShader","fragmentShader"],"sources":["node_modules/three/examples/jsm/shaders/AfterimageShader.js"],"sourcesContent":["/**\n * @module AfterimageShader\n * @three_import import { AfterimageShader } from 'three/addons/shaders/AfterimageShader.js';\n */\n\n/**\n * Inspired by [Three.js FBO motion trails]{@link https://codepen.io/brunoimbrizi/pen/MoRJaN?page=1&}.\n *\n * @constant\n * @type {ShaderMaterial~Shader}\n */\nconst AfterimageShader = {\n\n\tname: 'AfterimageShader',\n\n\tuniforms: {\n\n\t\t'damp': { value: 0.96 },\n\t\t'tOld': { value: null },\n\t\t'tNew': { value: null }\n\n\t},\n\n\tvertexShader: /* glsl */`\n\n\t\tvarying vec2 vUv;\n\n\t\tvoid main() {\n\n\t\t\tvUv = uv;\n\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\n\t\t}`,\n\n\tfragmentShader: /* glsl */`\n\n\t\tuniform float damp;\n\n\t\tuniform sampler2D tOld;\n\t\tuniform sampler2D tNew;\n\n\t\tvarying vec2 vUv;\n\n\t\tvec4 when_gt( vec4 x, float y ) {\n\n\t\t\treturn max( sign( x - y ), 0.0 );\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvec4 texelOld = texture2D( tOld, vUv );\n\t\t\tvec4 texelNew = texture2D( tNew, vUv );\n\n\t\t\ttexelOld *= damp * when_gt( texelOld, 0.1 );\n\n\t\t\tgl_FragColor = max(texelNew, texelOld);\n\n\t\t}`\n\n};\n\nexport { AfterimageShader };\n"],"mappings":"AAWA,MAAMA,iBAAmB,CAExBC,KAAM,mBAENC,SAAU,CAETC,KAAQ,CAAEC,MAAO,KACjBC,KAAQ,CAAED,MAAO,MACjBE,KAAQ,CAAEF,MAAO,OAIlBG,aAAwB,8JAWxBC,eAA0B,6bA4BlBR","ignoreList":[]}