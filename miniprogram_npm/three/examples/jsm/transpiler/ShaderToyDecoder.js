import{Return,VariableDeclaration,Accessor}from"./AST.js";import GLSLDecoder from"./GLSLDecoder.js";class ShaderToyDecoder extends GLSLDecoder{constructor(){super(),this.addPolyfill("iTime","float iTime = time;"),this.addPolyfill("iResolution","vec2 iResolution = screenSize;"),this.addPolyfill("fragCoord","vec3 fragCoord = vec3( screenCoordinate.x, screenSize.y - screenCoordinate.y, screenCoordinate.z );")}parseFunction(){const e=super.parseFunction();if("mainImage"===e.name){e.params=[],e.type="vec4",e.layout=!1;const o=new Accessor("fragColor");for(const r of e.body)r.isReturn&&(r.value=o);e.body.unshift(new VariableDeclaration("vec4","fragColor")),e.body.push(new Return(o))}return e}}export default ShaderToyDecoder;
//# sourceMappingURL=ShaderToyDecoder.js.map