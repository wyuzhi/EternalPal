{"version":3,"file":"node_modules/three/examples/jsm/transpiler/Transpiler.js","names":["Linker","Transpiler","constructor","decoder","encoder","this","linker","parse","source","ast","process","emit"],"sources":["node_modules/three/examples/jsm/transpiler/Transpiler.js"],"sourcesContent":["import Linker from './Linker.js';\n\n/**\n * A class that transpiles shader code from one language into another.\n *\n * `Transpiler` can only be used to convert GLSL into TSL right now. It is intended\n * to support developers when they want to migrate their custom materials from the\n * current to the new node-based material system.\n *\n * @three_import import Transpiler from 'three/addons/transpiler/Transpiler.js';\n */\nclass Transpiler {\n\n\t/**\n\t * Constructs a new transpiler.\n\t *\n\t * @param {GLSLDecoder} decoder - The GLSL decoder.\n\t * @param {TSLEncoder} encoder - The TSL encoder.\n\t */\n\tconstructor( decoder, encoder ) {\n\n\t\t/**\n\t\t * The GLSL decoder. This component parse GLSL and produces\n\t\t * a language-independent AST for further processing.\n\t\t *\n\t\t * @type {GLSLDecoder}\n\t\t */\n\t\tthis.decoder = decoder;\n\n\t\t/**\n\t\t * The TSL encoder. It takes the AST and emits TSL code.\n\t\t *\n\t\t * @type {TSLEncoder}\n\t\t */\n\t\tthis.encoder = encoder;\n\n\t\t/**\n\t\t * The linker. It processes the AST and resolves\n\t\t * variable and function references, ensuring that all\n\t\t * dependencies are properly linked.\n\t\t *\n\t\t * @type {Linker}\n\t\t */\n\t\tthis.linker = new Linker();\n\n\t}\n\n\t/**\n\t * Parses the given GLSL source and returns TSL syntax.\n\t *\n\t * @param {string} source - The GLSL source.\n\t * @return {string} The TSL code.\n\t */\n\tparse( source ) {\n\n\t\tconst ast = this.decoder.parse( source );\n\n\t\t// Process the AST to resolve variable and function references and optimizations.\n\t\tthis.linker.process( ast );\n\n\t\treturn this.encoder.emit( ast );\n\n\t}\n\n}\n\nexport default Transpiler;\n"],"mappings":"OAAOA,WAAY,cAWnB,MAAMC,WAQL,WAAAC,CAAaC,EAASC,GAQrBC,KAAKF,QAAUA,EAOfE,KAAKD,QAAUA,EASfC,KAAKC,OAAS,IAAIN,MAEnB,CAQA,KAAAO,CAAOC,GAEN,MAAMC,EAAMJ,KAAKF,QAAQI,MAAOC,GAKhC,OAFAH,KAAKC,OAAOI,QAASD,GAEdJ,KAAKD,QAAQO,KAAMF,EAE3B,iBAIcR","ignoreList":[]}