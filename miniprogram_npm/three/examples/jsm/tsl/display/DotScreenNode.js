import{TempNode}from"three/webgpu";import{nodeObject,Fn,uv,uniform,vec2,vec3,sin,cos,add,vec4,screenSize}from"three/tsl";class DotScreenNode extends TempNode{static get type(){return"DotScreenNode"}constructor(e,t=1.57,n=1){super("vec4"),this.inputNode=e,this.angle=uniform(t),this.scale=uniform(n)}setup(){const e=this.inputNode,t=Fn((()=>{const e=sin(this.angle),t=cos(this.angle),n=uv().mul(screenSize),o=vec2(t.mul(n.x).sub(e.mul(n.y)),e.mul(n.x).add(t.mul(n.y))).mul(this.scale);return sin(o.x).mul(sin(o.y)).mul(4)}));return Fn((()=>{const n=e,o=add(n.r,n.g,n.b).div(3);return vec4(vec3(o.mul(10).sub(5).add(t())),n.a)}))()}}export default DotScreenNode;export const dotScreen=(e,t,n)=>nodeObject(new DotScreenNode(nodeObject(e),t,n));
//# sourceMappingURL=DotScreenNode.js.map