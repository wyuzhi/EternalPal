class XRButton{static createButton(t,e={}){const n=document.createElement("button");function o(o){let s=null;async function i(e){e.addEventListener("end",r),await t.xr.setSession(e),n.textContent="STOP XR",s=e}function r(){s.removeEventListener("end",r),n.textContent="START XR",s=null}n.style.display="",n.style.cursor="pointer",n.style.left="calc(50% - 50px)",n.style.width="100px",n.textContent="START XR";const l={...e,optionalFeatures:["local-floor","bounded-floor","layers",...e.optionalFeatures||[]]};n.onmouseenter=function(){n.style.opacity="1.0"},n.onmouseleave=function(){n.style.opacity="0.5"},n.onclick=function(){null===s?navigator.xr.requestSession(o,l).then(i):(s.end(),void 0!==navigator.xr.offerSession&&navigator.xr.offerSession(o,l).then(i).catch((t=>{console.warn(t)})))},void 0!==navigator.xr.offerSession&&navigator.xr.offerSession(o,l).then(i).catch((t=>{console.warn(t)}))}function s(){n.style.display="",n.style.cursor="auto",n.style.left="calc(50% - 75px)",n.style.width="150px",n.onmouseenter=null,n.onmouseleave=null,n.onclick=null}function i(t){s(),console.warn("Exception when trying to call xr.isSessionSupported",t),n.textContent="XR NOT ALLOWED"}function r(t){t.style.position="absolute",t.style.bottom="20px",t.style.padding="12px 6px",t.style.border="1px solid #fff",t.style.borderRadius="4px",t.style.background="rgba(0,0,0,0.1)",t.style.color="#fff",t.style.font="normal 13px sans-serif",t.style.textAlign="center",t.style.opacity="0.5",t.style.outline="none",t.style.zIndex="999"}if("xr"in navigator)return n.id="XRButton",n.style.display="none",r(n),navigator.xr.isSessionSupported("immersive-ar").then((function(t){t?o("immersive-ar"):navigator.xr.isSessionSupported("immersive-vr").then((function(t){t?o("immersive-vr"):(s(),n.textContent="XR NOT SUPPORTED")})).catch(i)})).catch(i),n;{const t=document.createElement("a");return!1===window.isSecureContext?(t.href=document.location.href.replace(/^http:/,"https:"),t.innerHTML="WEBXR NEEDS HTTPS"):(t.href="https://immersiveweb.dev/",t.innerHTML="WEBXR NOT AVAILABLE"),t.style.left="calc(50% - 90px)",t.style.width="180px",t.style.textDecoration="none",r(t),t}}}export{XRButton};
//# sourceMappingURL=XRButton.js.map