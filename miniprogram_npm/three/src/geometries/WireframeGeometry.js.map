{"version":3,"file":"node_modules/three/src/geometries/WireframeGeometry.js","names":["BufferGeometry","Float32BufferAttribute","Vector3","WireframeGeometry","constructor","geometry","super","this","type","parameters","vertices","edges","Set","start","end","index","position","attributes","indices","groups","length","count","materialIndex","o","ol","group","groupStart","i","l","j","index1","getX","index2","fromBufferAttribute","isUniqueEdge","push","x","y","z","setAttribute","copy","source","Object","assign","hash1","hash2","has","add"],"sources":["node_modules/three/src/geometries/WireframeGeometry.js"],"sourcesContent":["import { BufferGeometry } from '../core/BufferGeometry.js';\nimport { Float32BufferAttribute } from '../core/BufferAttribute.js';\nimport { Vector3 } from '../math/Vector3.js';\n\n/**\n * Can be used as a helper object to visualize a geometry as a wireframe.\n *\n * ```js\n * const geometry = new THREE.SphereGeometry();\n *\n * const wireframe = new THREE.WireframeGeometry( geometry );\n *\n * const line = new THREE.LineSegments( wireframe );\n * line.material.depthWrite = false;\n * line.material.opacity = 0.25;\n * line.material.transparent = true;\n *\n * scene.add( line );\n * ```\n *\n * Note: It is not yet possible to serialize/deserialize instances of this class.\n *\n * @augments BufferGeometry\n */\nclass WireframeGeometry extends BufferGeometry {\n\n\t/**\n\t * Constructs a new wireframe geometry.\n\t *\n\t * @param {?BufferGeometry} [geometry=null] - The geometry.\n\t */\n\tconstructor( geometry = null ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'WireframeGeometry';\n\n\t\t/**\n\t\t * Holds the constructor parameters that have been\n\t\t * used to generate the geometry. Any modification\n\t\t * after instantiation does not change the geometry.\n\t\t *\n\t\t * @type {Object}\n\t\t */\n\t\tthis.parameters = {\n\t\t\tgeometry: geometry\n\t\t};\n\n\t\tif ( geometry !== null ) {\n\n\t\t\t// buffer\n\n\t\t\tconst vertices = [];\n\t\t\tconst edges = new Set();\n\n\t\t\t// helper variables\n\n\t\t\tconst start = new Vector3();\n\t\t\tconst end = new Vector3();\n\n\t\t\tif ( geometry.index !== null ) {\n\n\t\t\t\t// indexed BufferGeometry\n\n\t\t\t\tconst position = geometry.attributes.position;\n\t\t\t\tconst indices = geometry.index;\n\t\t\t\tlet groups = geometry.groups;\n\n\t\t\t\tif ( groups.length === 0 ) {\n\n\t\t\t\t\tgroups = [ { start: 0, count: indices.count, materialIndex: 0 } ];\n\n\t\t\t\t}\n\n\t\t\t\t// create a data structure that contains all edges without duplicates\n\n\t\t\t\tfor ( let o = 0, ol = groups.length; o < ol; ++ o ) {\n\n\t\t\t\t\tconst group = groups[ o ];\n\n\t\t\t\t\tconst groupStart = group.start;\n\t\t\t\t\tconst groupCount = group.count;\n\n\t\t\t\t\tfor ( let i = groupStart, l = ( groupStart + groupCount ); i < l; i += 3 ) {\n\n\t\t\t\t\t\tfor ( let j = 0; j < 3; j ++ ) {\n\n\t\t\t\t\t\t\tconst index1 = indices.getX( i + j );\n\t\t\t\t\t\t\tconst index2 = indices.getX( i + ( j + 1 ) % 3 );\n\n\t\t\t\t\t\t\tstart.fromBufferAttribute( position, index1 );\n\t\t\t\t\t\t\tend.fromBufferAttribute( position, index2 );\n\n\t\t\t\t\t\t\tif ( isUniqueEdge( start, end, edges ) === true ) {\n\n\t\t\t\t\t\t\t\tvertices.push( start.x, start.y, start.z );\n\t\t\t\t\t\t\t\tvertices.push( end.x, end.y, end.z );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\t// non-indexed BufferGeometry\n\n\t\t\t\tconst position = geometry.attributes.position;\n\n\t\t\t\tfor ( let i = 0, l = ( position.count / 3 ); i < l; i ++ ) {\n\n\t\t\t\t\tfor ( let j = 0; j < 3; j ++ ) {\n\n\t\t\t\t\t\t// three edges per triangle, an edge is represented as (index1, index2)\n\t\t\t\t\t\t// e.g. the first triangle has the following edges: (0,1),(1,2),(2,0)\n\n\t\t\t\t\t\tconst index1 = 3 * i + j;\n\t\t\t\t\t\tconst index2 = 3 * i + ( ( j + 1 ) % 3 );\n\n\t\t\t\t\t\tstart.fromBufferAttribute( position, index1 );\n\t\t\t\t\t\tend.fromBufferAttribute( position, index2 );\n\n\t\t\t\t\t\tif ( isUniqueEdge( start, end, edges ) === true ) {\n\n\t\t\t\t\t\t\tvertices.push( start.x, start.y, start.z );\n\t\t\t\t\t\t\tvertices.push( end.x, end.y, end.z );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// build geometry\n\n\t\t\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\n\t\t}\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.parameters = Object.assign( {}, source.parameters );\n\n\t\treturn this;\n\n\t}\n\n}\n\nfunction isUniqueEdge( start, end, edges ) {\n\n\tconst hash1 = `${start.x},${start.y},${start.z}-${end.x},${end.y},${end.z}`;\n\tconst hash2 = `${end.x},${end.y},${end.z}-${start.x},${start.y},${start.z}`; // coincident edge\n\n\tif ( edges.has( hash1 ) === true || edges.has( hash2 ) === true ) {\n\n\t\treturn false;\n\n\t} else {\n\n\t\tedges.add( hash1 );\n\t\tedges.add( hash2 );\n\t\treturn true;\n\n\t}\n\n}\n\n\nexport { WireframeGeometry };\n"],"mappings":"OAASA,mBAAsB,mCACtBC,2BAA8B,oCAC9BC,YAAe,qBAsBxB,MAAMC,0BAA0BH,eAO/B,WAAAI,CAAaC,EAAW,MAiBvB,GAfAC,QAEAC,KAAKC,KAAO,oBASZD,KAAKE,WAAa,CACjBJ,SAAUA,GAGO,OAAbA,EAAoB,CAIxB,MAAMK,EAAW,GACXC,EAAQ,IAAIC,IAIZC,EAAQ,IAAIX,QACZY,EAAM,IAAIZ,QAEhB,GAAwB,OAAnBG,EAASU,MAAiB,CAI9B,MAAMC,EAAWX,EAASY,WAAWD,SAC/BE,EAAUb,EAASU,MACzB,IAAII,EAASd,EAASc,OAEC,IAAlBA,EAAOC,SAEXD,EAAS,CAAE,CAAEN,MAAO,EAAGQ,MAAOH,EAAQG,MAAOC,cAAe,KAM7D,IAAM,IAAIC,EAAI,EAAGC,EAAKL,EAAOC,OAAQG,EAAIC,IAAOD,EAAI,CAEnD,MAAME,EAAQN,EAAQI,GAEhBG,EAAaD,EAAMZ,MAGzB,IAAM,IAAIc,EAAID,EAAYE,EAAMF,EAFbD,EAAMJ,MAEkCM,EAAIC,EAAGD,GAAK,EAEtE,IAAM,IAAIE,EAAI,EAAGA,EAAI,EAAGA,IAAO,CAE9B,MAAMC,EAASZ,EAAQa,KAAMJ,EAAIE,GAC3BG,EAASd,EAAQa,KAAMJ,GAAME,EAAI,GAAM,GAE7ChB,EAAMoB,oBAAqBjB,EAAUc,GACrChB,EAAImB,oBAAqBjB,EAAUgB,IAEQ,IAAtCE,aAAcrB,EAAOC,EAAKH,KAE9BD,EAASyB,KAAMtB,EAAMuB,EAAGvB,EAAMwB,EAAGxB,EAAMyB,GACvC5B,EAASyB,KAAMrB,EAAIsB,EAAGtB,EAAIuB,EAAGvB,EAAIwB,GAInC,CAIF,CAED,KAAO,CAIN,MAAMtB,EAAWX,EAASY,WAAWD,SAErC,IAAM,IAAIW,EAAI,EAAGC,EAAMZ,EAASK,MAAQ,EAAKM,EAAIC,EAAGD,IAEnD,IAAM,IAAIE,EAAI,EAAGA,EAAI,EAAGA,IAAO,CAK9B,MAAMC,EAAS,EAAIH,EAAIE,EACjBG,EAAS,EAAIL,GAAQE,EAAI,GAAM,EAErChB,EAAMoB,oBAAqBjB,EAAUc,GACrChB,EAAImB,oBAAqBjB,EAAUgB,IAEQ,IAAtCE,aAAcrB,EAAOC,EAAKH,KAE9BD,EAASyB,KAAMtB,EAAMuB,EAAGvB,EAAMwB,EAAGxB,EAAMyB,GACvC5B,EAASyB,KAAMrB,EAAIsB,EAAGtB,EAAIuB,EAAGvB,EAAIwB,GAInC,CAIF,CAIA/B,KAAKgC,aAAc,WAAY,IAAItC,uBAAwBS,EAAU,GAEtE,CAED,CAEA,IAAA8B,CAAMC,GAML,OAJAnC,MAAMkC,KAAMC,GAEZlC,KAAKE,WAAaiC,OAAOC,OAAQ,CAAC,EAAGF,EAAOhC,YAErCF,IAER,EAID,SAAS2B,aAAcrB,EAAOC,EAAKH,GAElC,MAAMiC,EAAQ,GAAG/B,EAAMuB,KAAKvB,EAAMwB,KAAKxB,EAAMyB,KAAKxB,EAAIsB,KAAKtB,EAAIuB,KAAKvB,EAAIwB,IAClEO,EAAQ,GAAG/B,EAAIsB,KAAKtB,EAAIuB,KAAKvB,EAAIwB,KAAKzB,EAAMuB,KAAKvB,EAAMwB,KAAKxB,EAAMyB,IAExE,OAA4B,IAAvB3B,EAAMmC,IAAKF,KAA2C,IAAvBjC,EAAMmC,IAAKD,KAM9ClC,EAAMoC,IAAKH,GACXjC,EAAMoC,IAAKF,IACJ,EAIT,QAGS1C","ignoreList":[]}