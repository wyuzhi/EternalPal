{"version":3,"file":"node_modules/three/src/lights/SpotLightShadow.js","names":["LightShadow","RAD2DEG","PerspectiveCamera","SpotLightShadow","constructor","super","this","isSpotLightShadow","focus","aspect","updateMatrices","light","camera","fov","angle","mapSize","width","height","far","distance","updateProjectionMatrix","copy","source"],"sources":["node_modules/three/src/lights/SpotLightShadow.js"],"sourcesContent":["import { LightShadow } from './LightShadow.js';\nimport { RAD2DEG } from '../math/MathUtils.js';\nimport { PerspectiveCamera } from '../cameras/PerspectiveCamera.js';\n\n/**\n * Represents the shadow configuration of directional lights.\n *\n * @augments LightShadow\n */\nclass SpotLightShadow extends LightShadow {\n\n\t/**\n\t * Constructs a new spot light shadow.\n\t */\n\tconstructor() {\n\n\t\tsuper( new PerspectiveCamera( 50, 1, 0.5, 500 ) );\n\n\t\t/**\n\t\t * This flag can be used for type testing.\n\t\t *\n\t\t * @type {boolean}\n\t\t * @readonly\n\t\t * @default true\n\t\t */\n\t\tthis.isSpotLightShadow = true;\n\n\t\t/**\n\t\t * Used to focus the shadow camera. The camera's field of view is set as a\n\t\t * percentage of the spotlight's field-of-view. Range is `[0, 1]`.\n\t\t *\n\t\t * @type {number}\n\t\t * @default 1\n\t\t */\n\t\tthis.focus = 1;\n\n\t\t/**\n\t\t * Texture aspect ratio.\n\t\t *\n\t\t * @type {number}\n\t\t * @default 1\n\t\t */\n\t\tthis.aspect = 1;\n\n\t}\n\n\tupdateMatrices( light ) {\n\n\t\tconst camera = this.camera;\n\n\t\tconst fov = RAD2DEG * 2 * light.angle * this.focus;\n\t\tconst aspect = ( this.mapSize.width / this.mapSize.height ) * this.aspect;\n\t\tconst far = light.distance || camera.far;\n\n\t\tif ( fov !== camera.fov || aspect !== camera.aspect || far !== camera.far ) {\n\n\t\t\tcamera.fov = fov;\n\t\t\tcamera.aspect = aspect;\n\t\t\tcamera.far = far;\n\t\t\tcamera.updateProjectionMatrix();\n\n\t\t}\n\n\t\tsuper.updateMatrices( light );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.focus = source.focus;\n\n\t\treturn this;\n\n\t}\n\n}\n\nexport { SpotLightShadow };\n"],"mappings":"OAASA,gBAAmB,0BACnBC,YAAe,8BACfC,sBAAyB,kCAOlC,MAAMC,wBAAwBH,YAK7B,WAAAI,GAECC,MAAO,IAAIH,kBAAmB,GAAI,EAAG,GAAK,MAS1CI,KAAKC,mBAAoB,EASzBD,KAAKE,MAAQ,EAQbF,KAAKG,OAAS,CAEf,CAEA,cAAAC,CAAgBC,GAEf,MAAMC,EAASN,KAAKM,OAEdC,EAAgB,EAAVZ,QAAcU,EAAMG,MAAQR,KAAKE,MACvCC,EAAWH,KAAKS,QAAQC,MAAQV,KAAKS,QAAQE,OAAWX,KAAKG,OAC7DS,EAAMP,EAAMQ,UAAYP,EAAOM,IAEhCL,IAAQD,EAAOC,KAAOJ,IAAWG,EAAOH,QAAUS,IAAQN,EAAOM,MAErEN,EAAOC,IAAMA,EACbD,EAAOH,OAASA,EAChBG,EAAOM,IAAMA,EACbN,EAAOQ,0BAIRf,MAAMK,eAAgBC,EAEvB,CAEA,IAAAU,CAAMC,GAML,OAJAjB,MAAMgB,KAAMC,GAEZhB,KAAKE,MAAQc,EAAOd,MAEbF,IAER,SAIQH","ignoreList":[]}