{"version":3,"file":"node_modules/three/src/loaders/nodes/NodeObjectLoader.js","names":["NodeLoader","NodeMaterialLoader","ObjectLoader","NodeObjectLoader","constructor","manager","super","this","nodes","nodeMaterials","_nodesJSON","setNodes","value","setNodeMaterials","parse","json","onLoad","data","parseNodes","textures","undefined","loader","setTextures","parseMaterials","materials","i","l","length","uuid"],"sources":["node_modules/three/src/loaders/nodes/NodeObjectLoader.js"],"sourcesContent":["import NodeLoader from './NodeLoader.js';\nimport NodeMaterialLoader from './NodeMaterialLoader.js';\n\nimport { ObjectLoader } from '../../loaders/ObjectLoader.js';\n\n/**\n * A special type of object loader for loading 3D objects using\n * node materials.\n *\n * @augments ObjectLoader\n */\nclass NodeObjectLoader extends ObjectLoader {\n\n\t/**\n\t * Constructs a new node object loader.\n\t *\n\t * @param {LoadingManager} [manager] - A reference to a loading manager.\n\t */\n\tconstructor( manager ) {\n\n\t\tsuper( manager );\n\n\t\t/**\n\t\t * Represents a dictionary of node types.\n\t\t *\n\t\t * @type {Object<string,Node.constructor>}\n\t\t */\n\t\tthis.nodes = {};\n\n\t\t/**\n\t\t * Represents a dictionary of node material types.\n\t\t *\n\t\t * @type {Object<string,NodeMaterial.constructor>}\n\t\t */\n\t\tthis.nodeMaterials = {};\n\n\t\t/**\n\t\t * A reference to hold the `nodes` JSON property.\n\t\t *\n\t\t * @private\n\t\t * @type {?Object[]}\n\t\t */\n\t\tthis._nodesJSON = null;\n\n\t}\n\n\t/**\n\t * Defines the dictionary of node types.\n\t *\n\t * @param {Object<string,Node.constructor>} value - The node library defined as `<classname,class>`.\n\t * @return {NodeObjectLoader} A reference to this loader.\n\t */\n\tsetNodes( value ) {\n\n\t\tthis.nodes = value;\n\t\treturn this;\n\n\t}\n\n\t/**\n\t * Defines the dictionary of node material types.\n\t *\n\t * @param {Object<string,NodeMaterial.constructor>} value - The node material library defined as `<classname,class>`.\n\t * @return {NodeObjectLoader} A reference to this loader.\n\t */\n\tsetNodeMaterials( value ) {\n\n\t\tthis.nodeMaterials = value;\n\t\treturn this;\n\n\t}\n\n\t/**\n\t * Parses the node objects from the given JSON.\n\t *\n\t * @param {Object} json - The JSON definition\n\t * @param {Function} onLoad - The onLoad callback function.\n\t * @return {Object3D}. The parsed 3D object.\n\t */\n\tparse( json, onLoad ) {\n\n\t\tthis._nodesJSON = json.nodes;\n\n\t\tconst data = super.parse( json, onLoad );\n\n\t\tthis._nodesJSON = null; // dispose\n\n\t\treturn data;\n\n\t}\n\n\t/**\n\t * Parses the node objects from the given JSON and textures.\n\t *\n\t * @param {Object[]} json - The JSON definition\n\t * @param {Object<string,Texture>} textures - The texture library.\n\t * @return {Object<string,Node>}. The parsed nodes.\n\t */\n\tparseNodes( json, textures ) {\n\n\t\tif ( json !== undefined ) {\n\n\t\t\tconst loader = new NodeLoader();\n\t\t\tloader.setNodes( this.nodes );\n\t\t\tloader.setTextures( textures );\n\n\t\t\treturn loader.parseNodes( json );\n\n\t\t}\n\n\t\treturn {};\n\n\t}\n\n\t/**\n\t * Parses the node objects from the given JSON and textures.\n\t *\n\t * @param {Object} json - The JSON definition\n\t * @param {Object<string,Texture>} textures - The texture library.\n\t * @return {Object<string,NodeMaterial>}. The parsed materials.\n\t */\n\tparseMaterials( json, textures ) {\n\n\t\tconst materials = {};\n\n\t\tif ( json !== undefined ) {\n\n\t\t\tconst nodes = this.parseNodes( this._nodesJSON, textures );\n\n\t\t\tconst loader = new NodeMaterialLoader();\n\t\t\tloader.setTextures( textures );\n\t\t\tloader.setNodes( nodes );\n\t\t\tloader.setNodeMaterials( this.nodeMaterials );\n\n\t\t\tfor ( let i = 0, l = json.length; i < l; i ++ ) {\n\n\t\t\t\tconst data = json[ i ];\n\n\t\t\t\tmaterials[ data.uuid ] = loader.parse( data );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn materials;\n\n\t}\n\n}\n\nexport default NodeObjectLoader;\n"],"mappings":"OAAOA,eAAgB,yBAChBC,uBAAwB,iCAEtBC,iBAAoB,gCAQ7B,MAAMC,yBAAyBD,aAO9B,WAAAE,CAAaC,GAEZC,MAAOD,GAOPE,KAAKC,MAAQ,CAAC,EAOdD,KAAKE,cAAgB,CAAC,EAQtBF,KAAKG,WAAa,IAEnB,CAQA,QAAAC,CAAUC,GAGT,OADAL,KAAKC,MAAQI,EACNL,IAER,CAQA,gBAAAM,CAAkBD,GAGjB,OADAL,KAAKE,cAAgBG,EACdL,IAER,CASA,KAAAO,CAAOC,EAAMC,GAEZT,KAAKG,WAAaK,EAAKP,MAEvB,MAAMS,EAAOX,MAAMQ,MAAOC,EAAMC,GAIhC,OAFAT,KAAKG,WAAa,KAEXO,CAER,CASA,UAAAC,CAAYH,EAAMI,GAEjB,QAAcC,IAATL,EAAqB,CAEzB,MAAMM,EAAS,IAAIrB,WAInB,OAHAqB,EAAOV,SAAUJ,KAAKC,OACtBa,EAAOC,YAAaH,GAEbE,EAAOH,WAAYH,EAE3B,CAEA,MAAO,CAAC,CAET,CASA,cAAAQ,CAAgBR,EAAMI,GAErB,MAAMK,EAAY,CAAC,EAEnB,QAAcJ,IAATL,EAAqB,CAEzB,MAAMP,EAAQD,KAAKW,WAAYX,KAAKG,WAAYS,GAE1CE,EAAS,IAAIpB,mBACnBoB,EAAOC,YAAaH,GACpBE,EAAOV,SAAUH,GACjBa,EAAOR,iBAAkBN,KAAKE,eAE9B,IAAM,IAAIgB,EAAI,EAAGC,EAAIX,EAAKY,OAAQF,EAAIC,EAAGD,IAAO,CAE/C,MAAMR,EAAOF,EAAMU,GAEnBD,EAAWP,EAAKW,MAASP,EAAOP,MAAOG,EAExC,CAED,CAEA,OAAOO,CAER,iBAIcrB","ignoreList":[]}