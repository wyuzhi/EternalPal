import{Quaternion}from"./Quaternion.js";import{Matrix4}from"./Matrix4.js";import{clamp}from"./MathUtils.js";const _matrix=new Matrix4,_quaternion=new Quaternion;class Euler{constructor(t=0,a=0,s=0,h=Euler.DEFAULT_ORDER){this.isEuler=!0,this._x=t,this._y=a,this._z=s,this._order=h}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback()}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback()}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback()}get order(){return this._order}set order(t){this._order=t,this._onChangeCallback()}set(t,a,s,h=this._order){return this._x=t,this._y=a,this._z=s,this._order=h,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(t){return this._x=t._x,this._y=t._y,this._z=t._z,this._order=t._order,this._onChangeCallback(),this}setFromRotationMatrix(t,a=this._order,s=!0){const h=t.elements,i=h[0],r=h[4],e=h[8],_=h[1],n=h[5],o=h[9],l=h[2],u=h[6],M=h[10];switch(a){case"XYZ":this._y=Math.asin(clamp(e,-1,1)),Math.abs(e)<.9999999?(this._x=Math.atan2(-o,M),this._z=Math.atan2(-r,i)):(this._x=Math.atan2(u,n),this._z=0);break;case"YXZ":this._x=Math.asin(-clamp(o,-1,1)),Math.abs(o)<.9999999?(this._y=Math.atan2(e,M),this._z=Math.atan2(_,n)):(this._y=Math.atan2(-l,i),this._z=0);break;case"ZXY":this._x=Math.asin(clamp(u,-1,1)),Math.abs(u)<.9999999?(this._y=Math.atan2(-l,M),this._z=Math.atan2(-r,n)):(this._y=0,this._z=Math.atan2(_,i));break;case"ZYX":this._y=Math.asin(-clamp(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(u,M),this._z=Math.atan2(_,i)):(this._x=0,this._z=Math.atan2(-r,n));break;case"YZX":this._z=Math.asin(clamp(_,-1,1)),Math.abs(_)<.9999999?(this._x=Math.atan2(-o,n),this._y=Math.atan2(-l,i)):(this._x=0,this._y=Math.atan2(e,M));break;case"XZY":this._z=Math.asin(-clamp(r,-1,1)),Math.abs(r)<.9999999?(this._x=Math.atan2(u,n),this._y=Math.atan2(e,i)):(this._x=Math.atan2(-o,M),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+a)}return this._order=a,!0===s&&this._onChangeCallback(),this}setFromQuaternion(t,a,s){return _matrix.makeRotationFromQuaternion(t),this.setFromRotationMatrix(_matrix,a,s)}setFromVector3(t,a=this._order){return this.set(t.x,t.y,t.z,a)}reorder(t){return _quaternion.setFromEuler(this),this.setFromQuaternion(_quaternion,t)}equals(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._order===this._order}fromArray(t){return this._x=t[0],this._y=t[1],this._z=t[2],void 0!==t[3]&&(this._order=t[3]),this._onChangeCallback(),this}toArray(t=[],a=0){return t[a]=this._x,t[a+1]=this._y,t[a+2]=this._z,t[a+3]=this._order,t}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}Euler.DEFAULT_ORDER="XYZ";export{Euler};
//# sourceMappingURL=Euler.js.map