import Node from"./Node.js";import{nodeImmutable,varying}from"../tsl/TSLBase.js";class IndexNode extends Node{static get type(){return"IndexNode"}constructor(e){super("uint"),this.scope=e,this.isIndexNode=!0}generate(e){const d=this.getNodeType(e),o=this.scope;let n,t;if(o===IndexNode.VERTEX)n=e.getVertexIndex();else if(o===IndexNode.INSTANCE)n=e.getInstanceIndex();else if(o===IndexNode.DRAW)n=e.getDrawIndex();else if(o===IndexNode.INVOCATION_LOCAL)n=e.getInvocationLocalIndex();else if(o===IndexNode.INVOCATION_SUBGROUP)n=e.getInvocationSubgroupIndex();else{if(o!==IndexNode.SUBGROUP)throw new Error("THREE.IndexNode: Unknown scope: "+o);n=e.getSubgroupIndex()}if("vertex"===e.shaderStage||"compute"===e.shaderStage)t=n;else{t=varying(this).build(e,d)}return t}}IndexNode.VERTEX="vertex",IndexNode.INSTANCE="instance",IndexNode.SUBGROUP="subgroup",IndexNode.INVOCATION_LOCAL="invocationLocal",IndexNode.INVOCATION_SUBGROUP="invocationSubgroup",IndexNode.DRAW="draw";export default IndexNode;export const vertexIndex=nodeImmutable(IndexNode,IndexNode.VERTEX);export const instanceIndex=nodeImmutable(IndexNode,IndexNode.INSTANCE);export const subgroupIndex=nodeImmutable(IndexNode,IndexNode.SUBGROUP);export const invocationSubgroupIndex=nodeImmutable(IndexNode,IndexNode.INVOCATION_SUBGROUP);export const invocationLocalIndex=nodeImmutable(IndexNode,IndexNode.INVOCATION_LOCAL);export const drawIndex=nodeImmutable(IndexNode,IndexNode.DRAW);
//# sourceMappingURL=IndexNode.js.map