import{positionView}from"../accessors/Position.js";import{smoothstep}from"../math/MathNode.js";import{Fn,output,vec4}from"../tsl/TSLBase.js";function getViewZNode(o){let t;const e=o.context.getViewZ;return void 0!==e&&(t=e(this)),(t||positionView.z).negate()}export const rangeFogFactor=Fn((([o,t],e)=>{const n=getViewZNode(e);return smoothstep(o,t,n)}));export const densityFogFactor=Fn((([o],t)=>{const e=getViewZNode(t);return o.mul(o,e,e).negate().exp().oneMinus()}));export const fog=Fn((([o,t])=>vec4(t.toFloat().mix(output.rgb,o.toVec3()),output.a)));export function rangeFog(o,t,e){return console.warn('THREE.TSL: "rangeFog( color, near, far )" is deprecated. Use "fog( color, rangeFogFactor( near, far ) )" instead.'),fog(o,rangeFogFactor(t,e))}export function densityFog(o,t){return console.warn('THREE.TSL: "densityFog( color, density )" is deprecated. Use "fog( color, densityFogFactor( density ) )" instead.'),fog(o,densityFogFactor(t))}
//# sourceMappingURL=Fog.js.map