import{normalView}from"../../accessors/Normal.js";import{positionViewDirection}from"../../accessors/Position.js";import{sheen,sheenRoughness}from"../../core/PropertyNode.js";import{Fn,float}from"../../tsl/TSLBase.js";const D_Charlie=Fn((({roughness:o,dotNH:e})=>{const t=o.pow2(),n=float(1).div(t),a=e.pow2().oneMinus().max(.0078125);return float(2).add(n).mul(a.pow(n.mul(.5))).div(2*Math.PI)})).setLayout({name:"D_Charlie",type:"float",inputs:[{name:"roughness",type:"float"},{name:"dotNH",type:"float"}]}),V_Neubelt=Fn((({dotNV:o,dotNL:e})=>float(1).div(float(4).mul(e.add(o).sub(e.mul(o)))))).setLayout({name:"V_Neubelt",type:"float",inputs:[{name:"dotNV",type:"float"},{name:"dotNL",type:"float"}]}),BRDF_Sheen=Fn((({lightDirection:o})=>{const e=o.add(positionViewDirection).normalize(),t=normalView.dot(o).clamp(),n=normalView.dot(positionViewDirection).clamp(),a=normalView.dot(e).clamp(),s=D_Charlie({roughness:sheenRoughness,dotNH:a}),i=V_Neubelt({dotNV:n,dotNL:t});return sheen.mul(s).mul(i)}));export default BRDF_Sheen;
//# sourceMappingURL=BRDF_Sheen.js.map