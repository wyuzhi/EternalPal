import{mx_perlin_noise_float,mx_perlin_noise_vec3,mx_worley_noise_float as worley_noise_float,mx_worley_noise_vec2 as worley_noise_vec2,mx_worley_noise_vec3 as worley_noise_vec3,mx_cell_noise_float as cell_noise_float,mx_unifiednoise2d as unifiednoise2d,mx_unifiednoise3d as unifiednoise3d,mx_fractal_noise_float as fractal_noise_float,mx_fractal_noise_vec2 as fractal_noise_vec2,mx_fractal_noise_vec3 as fractal_noise_vec3,mx_fractal_noise_vec4 as fractal_noise_vec4}from"./lib/mx_noise.js";import{mx_hsvtorgb,mx_rgbtohsv}from"./lib/mx_hsv.js";import{mx_srgb_texture_to_lin_rec709}from"./lib/mx_transform_color.js";import{float,vec2,vec3,vec4,int,add,sub,mul,div,mod,atan,mix,pow,smoothstep}from"../tsl/TSLBase.js";import{uv}from"../accessors/UV.js";import{bumpMap}from"../display/BumpMapNode.js";import{rotate}from"../utils/RotateNode.js";import{frameId,time}from"../utils/Timer.js";export const mx_aastep=(e,o)=>{e=float(e),o=float(o);const t=vec2(o.dFdx(),o.dFdy()).length().mul(.7071067811865476);return smoothstep(e.sub(t),e.add(t),o)};const _ramp=(e,o,t,r)=>mix(e,o,t[r].clamp());export const mx_ramplr=(e,o,t=uv())=>_ramp(e,o,t,"x");export const mx_ramptb=(e,o,t=uv())=>_ramp(e,o,t,"y");export const mx_ramp4=(e,o,t,r,s=uv())=>{const n=s.x.clamp(),_=s.y.clamp(),c=mix(e,o,n),a=mix(t,r,n);return mix(c,a,_)};const _split=(e,o,t,r,s)=>mix(e,o,mx_aastep(t,r[s]));export const mx_splitlr=(e,o,t,r=uv())=>_split(e,o,t,r,"x");export const mx_splittb=(e,o,t,r=uv())=>_split(e,o,t,r,"y");export const mx_transform_uv=(e=1,o=0,t=uv())=>t.mul(e).add(o);export const mx_safepower=(e,o=1)=>(e=float(e)).abs().pow(o).mul(e.sign());export const mx_contrast=(e,o=1,t=.5)=>float(e).sub(t).mul(o).add(t);export const mx_noise_float=(e=uv(),o=1,t=0)=>mx_perlin_noise_float(e.convert("vec2|vec3")).mul(o).add(t);export const mx_noise_vec3=(e=uv(),o=1,t=0)=>mx_perlin_noise_vec3(e.convert("vec2|vec3")).mul(o).add(t);export const mx_noise_vec4=(e=uv(),o=1,t=0)=>{e=e.convert("vec2|vec3");return vec4(mx_perlin_noise_vec3(e),mx_perlin_noise_float(e.add(vec2(19,73)))).mul(o).add(t)};export const mx_unifiednoise2d=(e,o=uv(),t=vec2(1,1),r=vec2(0,0),s=1,n=0,_=1,c=!1,a=1,m=2,l=.5)=>unifiednoise2d(e,o.convert("vec2|vec3"),t,r,s,n,_,c,a,m,l);export const mx_unifiednoise3d=(e,o=uv(),t=vec2(1,1),r=vec2(0,0),s=1,n=0,_=1,c=!1,a=1,m=2,l=.5)=>unifiednoise3d(e,o.convert("vec2|vec3"),t,r,s,n,_,c,a,m,l);export const mx_worley_noise_float=(e=uv(),o=1)=>worley_noise_float(e.convert("vec2|vec3"),o,int(1));export const mx_worley_noise_vec2=(e=uv(),o=1)=>worley_noise_vec2(e.convert("vec2|vec3"),o,int(1));export const mx_worley_noise_vec3=(e=uv(),o=1)=>worley_noise_vec3(e.convert("vec2|vec3"),o,int(1));export const mx_cell_noise_float=(e=uv())=>cell_noise_float(e.convert("vec2|vec3"));export const mx_fractal_noise_float=(e=uv(),o=3,t=2,r=.5,s=1)=>fractal_noise_float(e,int(o),t,r).mul(s);export const mx_fractal_noise_vec2=(e=uv(),o=3,t=2,r=.5,s=1)=>fractal_noise_vec2(e,int(o),t,r).mul(s);export const mx_fractal_noise_vec3=(e=uv(),o=3,t=2,r=.5,s=1)=>fractal_noise_vec3(e,int(o),t,r).mul(s);export const mx_fractal_noise_vec4=(e=uv(),o=3,t=2,r=.5,s=1)=>fractal_noise_vec4(e,int(o),t,r).mul(s);export{mx_hsvtorgb,mx_rgbtohsv,mx_srgb_texture_to_lin_rec709};export const mx_add=(e,o=float(0))=>add(e,o);export const mx_subtract=(e,o=float(0))=>sub(e,o);export const mx_multiply=(e,o=float(1))=>mul(e,o);export const mx_divide=(e,o=float(1))=>div(e,o);export const mx_modulo=(e,o=float(1))=>mod(e,o);export const mx_power=(e,o=float(1))=>pow(e,o);export const mx_atan2=(e=float(0),o=float(1))=>atan(e,o);export const mx_timer=()=>time;export const mx_frame=()=>frameId;export const mx_invert=(e,o=float(1))=>sub(o,e);export const mx_ifgreater=(e,o,t,r)=>e.greaterThan(o).mix(t,r);export const mx_ifgreatereq=(e,o,t,r)=>e.greaterThanEqual(o).mix(t,r);export const mx_ifequal=(e,o,t,r)=>e.equal(o).mix(t,r);export const mx_separate=(e,o=null)=>{if("string"==typeof o){const t={x:0,r:0,y:1,g:1,z:2,b:2,w:3,a:3},r=o.replace(/^out/,"").toLowerCase();if(void 0!==t[r])return e.element(t[r])}if("number"==typeof o)return e.element(o);if("string"==typeof o&&1===o.length){const t={x:0,r:0,y:1,g:1,z:2,b:2,w:3,a:3};if(void 0!==t[o])return e.element(t[o])}return e};export const mx_place2d=(e,o=vec2(.5,.5),t=vec2(1,1),r=float(0),s=vec2(0,0))=>{let n=e;if(o&&(n=n.sub(o)),t&&(n=n.mul(t)),r){const e=r.mul(Math.PI/180),o=e.cos(),t=e.sin();n=vec2(n.x.mul(o).sub(n.y.mul(t)),n.x.mul(t).add(n.y.mul(o)))}return o&&(n=n.add(o)),s&&(n=n.add(s)),n};export const mx_rotate2d=(e,o)=>{e=vec2(e);const t=(o=float(o)).mul(Math.PI/180);return rotate(e,t)};export const mx_rotate3d=(e,o,t)=>{e=vec3(e),o=float(o),t=vec3(t);const r=o.mul(Math.PI/180),s=t.normalize(),n=r.cos(),_=r.sin(),c=float(1).sub(n);return e.mul(n).add(s.cross(e).mul(_)).add(s.mul(s.dot(e)).mul(c))};export const mx_heighttonormal=(e,o)=>(e=vec3(e),o=float(o),bumpMap(e,o));
//# sourceMappingURL=MaterialXNodes.js.map