import{int,uint,float,vec3,bool,uvec3,vec2,vec4,If,Fn}from"../../tsl/TSLBase.js";import{select}from"../../math/ConditionalNode.js";import{sub,mul}from"../../math/OperatorNode.js";import{floor,abs,max,dot,min,sqrt,clamp}from"../../math/MathNode.js";import{overloadingFn}from"../../utils/FunctionOverloadingNode.js";import{Loop}from"../../utils/LoopNode.js";export const mx_select=Fn((([t,a,n])=>{const e=float(n).toVar(),o=float(a).toVar(),i=bool(t).toVar();return select(i,o,e)})).setLayout({name:"mx_select",type:"float",inputs:[{name:"b",type:"bool"},{name:"t",type:"float"},{name:"f",type:"float"}]});export const mx_negate_if=Fn((([t,a])=>{const n=bool(a).toVar(),e=float(t).toVar();return select(n,e.negate(),e)})).setLayout({name:"mx_negate_if",type:"float",inputs:[{name:"val",type:"float"},{name:"b",type:"bool"}]});export const mx_floor=Fn((([t])=>{const a=float(t).toVar();return int(floor(a))})).setLayout({name:"mx_floor",type:"int",inputs:[{name:"x",type:"float"}]});export const mx_floorfrac=Fn((([t,a])=>{const n=float(t).toVar();return a.assign(mx_floor(n)),n.sub(float(a))}));export const mx_bilerp_0=Fn((([t,a,n,e,o,i])=>{const s=float(i).toVar(),_=float(o).toVar(),r=float(e).toVar(),m=float(n).toVar(),l=float(a).toVar(),c=float(t).toVar(),x=float(sub(1,_)).toVar();return sub(1,s).mul(c.mul(x).add(l.mul(_))).add(s.mul(m.mul(x).add(r.mul(_))))})).setLayout({name:"mx_bilerp_0",type:"float",inputs:[{name:"v0",type:"float"},{name:"v1",type:"float"},{name:"v2",type:"float"},{name:"v3",type:"float"},{name:"s",type:"float"},{name:"t",type:"float"}]});export const mx_bilerp_1=Fn((([t,a,n,e,o,i])=>{const s=float(i).toVar(),_=float(o).toVar(),r=vec3(e).toVar(),m=vec3(n).toVar(),l=vec3(a).toVar(),c=vec3(t).toVar(),x=float(sub(1,_)).toVar();return sub(1,s).mul(c.mul(x).add(l.mul(_))).add(s.mul(m.mul(x).add(r.mul(_))))})).setLayout({name:"mx_bilerp_1",type:"vec3",inputs:[{name:"v0",type:"vec3"},{name:"v1",type:"vec3"},{name:"v2",type:"vec3"},{name:"v3",type:"vec3"},{name:"s",type:"float"},{name:"t",type:"float"}]});export const mx_bilerp=overloadingFn([mx_bilerp_0,mx_bilerp_1]);export const mx_trilerp_0=Fn((([t,a,n,e,o,i,s,_,r,m,l])=>{const c=float(l).toVar(),x=float(m).toVar(),f=float(r).toVar(),p=float(_).toVar(),u=float(s).toVar(),d=float(i).toVar(),y=float(o).toVar(),V=float(e).toVar(),v=float(n).toVar(),g=float(a).toVar(),h=float(t).toVar(),b=float(sub(1,f)).toVar(),L=float(sub(1,x)).toVar();return float(sub(1,c)).toVar().mul(L.mul(h.mul(b).add(g.mul(f))).add(x.mul(v.mul(b).add(V.mul(f))))).add(c.mul(L.mul(y.mul(b).add(d.mul(f))).add(x.mul(u.mul(b).add(p.mul(f))))))})).setLayout({name:"mx_trilerp_0",type:"float",inputs:[{name:"v0",type:"float"},{name:"v1",type:"float"},{name:"v2",type:"float"},{name:"v3",type:"float"},{name:"v4",type:"float"},{name:"v5",type:"float"},{name:"v6",type:"float"},{name:"v7",type:"float"},{name:"s",type:"float"},{name:"t",type:"float"},{name:"r",type:"float"}]});export const mx_trilerp_1=Fn((([t,a,n,e,o,i,s,_,r,m,l])=>{const c=float(l).toVar(),x=float(m).toVar(),f=float(r).toVar(),p=vec3(_).toVar(),u=vec3(s).toVar(),d=vec3(i).toVar(),y=vec3(o).toVar(),V=vec3(e).toVar(),v=vec3(n).toVar(),g=vec3(a).toVar(),h=vec3(t).toVar(),b=float(sub(1,f)).toVar(),L=float(sub(1,x)).toVar();return float(sub(1,c)).toVar().mul(L.mul(h.mul(b).add(g.mul(f))).add(x.mul(v.mul(b).add(V.mul(f))))).add(c.mul(L.mul(y.mul(b).add(d.mul(f))).add(x.mul(u.mul(b).add(p.mul(f))))))})).setLayout({name:"mx_trilerp_1",type:"vec3",inputs:[{name:"v0",type:"vec3"},{name:"v1",type:"vec3"},{name:"v2",type:"vec3"},{name:"v3",type:"vec3"},{name:"v4",type:"vec3"},{name:"v5",type:"vec3"},{name:"v6",type:"vec3"},{name:"v7",type:"vec3"},{name:"s",type:"float"},{name:"t",type:"float"},{name:"r",type:"float"}]});export const mx_trilerp=overloadingFn([mx_trilerp_0,mx_trilerp_1]);export const mx_gradient_float_0=Fn((([t,a,n])=>{const e=float(n).toVar(),o=float(a).toVar(),i=uint(t).toVar(),s=uint(i.bitAnd(uint(7))).toVar(),_=float(mx_select(s.lessThan(uint(4)),o,e)).toVar(),r=float(mul(2,mx_select(s.lessThan(uint(4)),e,o))).toVar();return mx_negate_if(_,bool(s.bitAnd(uint(1)))).add(mx_negate_if(r,bool(s.bitAnd(uint(2)))))})).setLayout({name:"mx_gradient_float_0",type:"float",inputs:[{name:"hash",type:"uint"},{name:"x",type:"float"},{name:"y",type:"float"}]});export const mx_gradient_float_1=Fn((([t,a,n,e])=>{const o=float(e).toVar(),i=float(n).toVar(),s=float(a).toVar(),_=uint(t).toVar(),r=uint(_.bitAnd(uint(15))).toVar(),m=float(mx_select(r.lessThan(uint(8)),s,i)).toVar(),l=float(mx_select(r.lessThan(uint(4)),i,mx_select(r.equal(uint(12)).or(r.equal(uint(14))),s,o))).toVar();return mx_negate_if(m,bool(r.bitAnd(uint(1)))).add(mx_negate_if(l,bool(r.bitAnd(uint(2)))))})).setLayout({name:"mx_gradient_float_1",type:"float",inputs:[{name:"hash",type:"uint"},{name:"x",type:"float"},{name:"y",type:"float"},{name:"z",type:"float"}]});export const mx_gradient_float=overloadingFn([mx_gradient_float_0,mx_gradient_float_1]);export const mx_gradient_vec3_0=Fn((([t,a,n])=>{const e=float(n).toVar(),o=float(a).toVar(),i=uvec3(t).toVar();return vec3(mx_gradient_float(i.x,o,e),mx_gradient_float(i.y,o,e),mx_gradient_float(i.z,o,e))})).setLayout({name:"mx_gradient_vec3_0",type:"vec3",inputs:[{name:"hash",type:"uvec3"},{name:"x",type:"float"},{name:"y",type:"float"}]});export const mx_gradient_vec3_1=Fn((([t,a,n,e])=>{const o=float(e).toVar(),i=float(n).toVar(),s=float(a).toVar(),_=uvec3(t).toVar();return vec3(mx_gradient_float(_.x,s,i,o),mx_gradient_float(_.y,s,i,o),mx_gradient_float(_.z,s,i,o))})).setLayout({name:"mx_gradient_vec3_1",type:"vec3",inputs:[{name:"hash",type:"uvec3"},{name:"x",type:"float"},{name:"y",type:"float"},{name:"z",type:"float"}]});export const mx_gradient_vec3=overloadingFn([mx_gradient_vec3_0,mx_gradient_vec3_1]);export const mx_gradient_scale2d_0=Fn((([t])=>{const a=float(t).toVar();return mul(.6616,a)})).setLayout({name:"mx_gradient_scale2d_0",type:"float",inputs:[{name:"v",type:"float"}]});export const mx_gradient_scale3d_0=Fn((([t])=>{const a=float(t).toVar();return mul(.982,a)})).setLayout({name:"mx_gradient_scale3d_0",type:"float",inputs:[{name:"v",type:"float"}]});export const mx_gradient_scale2d_1=Fn((([t])=>{const a=vec3(t).toVar();return mul(.6616,a)})).setLayout({name:"mx_gradient_scale2d_1",type:"vec3",inputs:[{name:"v",type:"vec3"}]});export const mx_gradient_scale2d=overloadingFn([mx_gradient_scale2d_0,mx_gradient_scale2d_1]);export const mx_gradient_scale3d_1=Fn((([t])=>{const a=vec3(t).toVar();return mul(.982,a)})).setLayout({name:"mx_gradient_scale3d_1",type:"vec3",inputs:[{name:"v",type:"vec3"}]});export const mx_gradient_scale3d=overloadingFn([mx_gradient_scale3d_0,mx_gradient_scale3d_1]);export const mx_rotl32=Fn((([t,a])=>{const n=int(a).toVar(),e=uint(t).toVar();return e.shiftLeft(n).bitOr(e.shiftRight(int(32).sub(n)))})).setLayout({name:"mx_rotl32",type:"uint",inputs:[{name:"x",type:"uint"},{name:"k",type:"int"}]});export const mx_bjmix=Fn((([t,a,n])=>{t.subAssign(n),t.bitXorAssign(mx_rotl32(n,int(4))),n.addAssign(a),a.subAssign(t),a.bitXorAssign(mx_rotl32(t,int(6))),t.addAssign(n),n.subAssign(a),n.bitXorAssign(mx_rotl32(a,int(8))),a.addAssign(t),t.subAssign(n),t.bitXorAssign(mx_rotl32(n,int(16))),n.addAssign(a),a.subAssign(t),a.bitXorAssign(mx_rotl32(t,int(19))),t.addAssign(n),n.subAssign(a),n.bitXorAssign(mx_rotl32(a,int(4))),a.addAssign(t)}));export const mx_bjfinal=Fn((([t,a,n])=>{const e=uint(n).toVar(),o=uint(a).toVar(),i=uint(t).toVar();return e.bitXorAssign(o),e.subAssign(mx_rotl32(o,int(14))),i.bitXorAssign(e),i.subAssign(mx_rotl32(e,int(11))),o.bitXorAssign(i),o.subAssign(mx_rotl32(i,int(25))),e.bitXorAssign(o),e.subAssign(mx_rotl32(o,int(16))),i.bitXorAssign(e),i.subAssign(mx_rotl32(e,int(4))),o.bitXorAssign(i),o.subAssign(mx_rotl32(i,int(14))),e.bitXorAssign(o),e.subAssign(mx_rotl32(o,int(24))),e})).setLayout({name:"mx_bjfinal",type:"uint",inputs:[{name:"a",type:"uint"},{name:"b",type:"uint"},{name:"c",type:"uint"}]});export const mx_bits_to_01=Fn((([t])=>{const a=uint(t).toVar();return float(a).div(float(uint(int(4294967295))))})).setLayout({name:"mx_bits_to_01",type:"float",inputs:[{name:"bits",type:"uint"}]});export const mx_fade=Fn((([t])=>{const a=float(t).toVar();return a.mul(a).mul(a).mul(a.mul(a.mul(6).sub(15)).add(10))})).setLayout({name:"mx_fade",type:"float",inputs:[{name:"t",type:"float"}]});export const mx_hash_int_0=Fn((([t])=>{const a=int(t).toVar(),n=uint(uint(1)).toVar(),e=uint(uint(int(3735928559)).add(n.shiftLeft(uint(2))).add(uint(13))).toVar();return mx_bjfinal(e.add(uint(a)),e,e)})).setLayout({name:"mx_hash_int_0",type:"uint",inputs:[{name:"x",type:"int"}]});export const mx_hash_int_1=Fn((([t,a])=>{const n=int(a).toVar(),e=int(t).toVar(),o=uint(uint(2)).toVar(),i=uint().toVar(),s=uint().toVar(),_=uint().toVar();return i.assign(s.assign(_.assign(uint(int(3735928559)).add(o.shiftLeft(uint(2))).add(uint(13))))),i.addAssign(uint(e)),s.addAssign(uint(n)),mx_bjfinal(i,s,_)})).setLayout({name:"mx_hash_int_1",type:"uint",inputs:[{name:"x",type:"int"},{name:"y",type:"int"}]});export const mx_hash_int_2=Fn((([t,a,n])=>{const e=int(n).toVar(),o=int(a).toVar(),i=int(t).toVar(),s=uint(uint(3)).toVar(),_=uint().toVar(),r=uint().toVar(),m=uint().toVar();return _.assign(r.assign(m.assign(uint(int(3735928559)).add(s.shiftLeft(uint(2))).add(uint(13))))),_.addAssign(uint(i)),r.addAssign(uint(o)),m.addAssign(uint(e)),mx_bjfinal(_,r,m)})).setLayout({name:"mx_hash_int_2",type:"uint",inputs:[{name:"x",type:"int"},{name:"y",type:"int"},{name:"z",type:"int"}]});export const mx_hash_int_3=Fn((([t,a,n,e])=>{const o=int(e).toVar(),i=int(n).toVar(),s=int(a).toVar(),_=int(t).toVar(),r=uint(uint(4)).toVar(),m=uint().toVar(),l=uint().toVar(),c=uint().toVar();return m.assign(l.assign(c.assign(uint(int(3735928559)).add(r.shiftLeft(uint(2))).add(uint(13))))),m.addAssign(uint(_)),l.addAssign(uint(s)),c.addAssign(uint(i)),mx_bjmix(m,l,c),m.addAssign(uint(o)),mx_bjfinal(m,l,c)})).setLayout({name:"mx_hash_int_3",type:"uint",inputs:[{name:"x",type:"int"},{name:"y",type:"int"},{name:"z",type:"int"},{name:"xx",type:"int"}]});export const mx_hash_int_4=Fn((([t,a,n,e,o])=>{const i=int(o).toVar(),s=int(e).toVar(),_=int(n).toVar(),r=int(a).toVar(),m=int(t).toVar(),l=uint(uint(5)).toVar(),c=uint().toVar(),x=uint().toVar(),f=uint().toVar();return c.assign(x.assign(f.assign(uint(int(3735928559)).add(l.shiftLeft(uint(2))).add(uint(13))))),c.addAssign(uint(m)),x.addAssign(uint(r)),f.addAssign(uint(_)),mx_bjmix(c,x,f),c.addAssign(uint(s)),x.addAssign(uint(i)),mx_bjfinal(c,x,f)})).setLayout({name:"mx_hash_int_4",type:"uint",inputs:[{name:"x",type:"int"},{name:"y",type:"int"},{name:"z",type:"int"},{name:"xx",type:"int"},{name:"yy",type:"int"}]});export const mx_hash_int=overloadingFn([mx_hash_int_0,mx_hash_int_1,mx_hash_int_2,mx_hash_int_3,mx_hash_int_4]);export const mx_hash_vec3_0=Fn((([t,a])=>{const n=int(a).toVar(),e=int(t).toVar(),o=uint(mx_hash_int(e,n)).toVar(),i=uvec3().toVar();return i.x.assign(o.bitAnd(int(255))),i.y.assign(o.shiftRight(int(8)).bitAnd(int(255))),i.z.assign(o.shiftRight(int(16)).bitAnd(int(255))),i})).setLayout({name:"mx_hash_vec3_0",type:"uvec3",inputs:[{name:"x",type:"int"},{name:"y",type:"int"}]});export const mx_hash_vec3_1=Fn((([t,a,n])=>{const e=int(n).toVar(),o=int(a).toVar(),i=int(t).toVar(),s=uint(mx_hash_int(i,o,e)).toVar(),_=uvec3().toVar();return _.x.assign(s.bitAnd(int(255))),_.y.assign(s.shiftRight(int(8)).bitAnd(int(255))),_.z.assign(s.shiftRight(int(16)).bitAnd(int(255))),_})).setLayout({name:"mx_hash_vec3_1",type:"uvec3",inputs:[{name:"x",type:"int"},{name:"y",type:"int"},{name:"z",type:"int"}]});export const mx_hash_vec3=overloadingFn([mx_hash_vec3_0,mx_hash_vec3_1]);export const mx_perlin_noise_float_0=Fn((([t])=>{const a=vec2(t).toVar(),n=int().toVar(),e=int().toVar(),o=float(mx_floorfrac(a.x,n)).toVar(),i=float(mx_floorfrac(a.y,e)).toVar(),s=float(mx_fade(o)).toVar(),_=float(mx_fade(i)).toVar(),r=float(mx_bilerp(mx_gradient_float(mx_hash_int(n,e),o,i),mx_gradient_float(mx_hash_int(n.add(int(1)),e),o.sub(1),i),mx_gradient_float(mx_hash_int(n,e.add(int(1))),o,i.sub(1)),mx_gradient_float(mx_hash_int(n.add(int(1)),e.add(int(1))),o.sub(1),i.sub(1)),s,_)).toVar();return mx_gradient_scale2d(r)})).setLayout({name:"mx_perlin_noise_float_0",type:"float",inputs:[{name:"p",type:"vec2"}]});export const mx_perlin_noise_float_1=Fn((([t])=>{const a=vec3(t).toVar(),n=int().toVar(),e=int().toVar(),o=int().toVar(),i=float(mx_floorfrac(a.x,n)).toVar(),s=float(mx_floorfrac(a.y,e)).toVar(),_=float(mx_floorfrac(a.z,o)).toVar(),r=float(mx_fade(i)).toVar(),m=float(mx_fade(s)).toVar(),l=float(mx_fade(_)).toVar(),c=float(mx_trilerp(mx_gradient_float(mx_hash_int(n,e,o),i,s,_),mx_gradient_float(mx_hash_int(n.add(int(1)),e,o),i.sub(1),s,_),mx_gradient_float(mx_hash_int(n,e.add(int(1)),o),i,s.sub(1),_),mx_gradient_float(mx_hash_int(n.add(int(1)),e.add(int(1)),o),i.sub(1),s.sub(1),_),mx_gradient_float(mx_hash_int(n,e,o.add(int(1))),i,s,_.sub(1)),mx_gradient_float(mx_hash_int(n.add(int(1)),e,o.add(int(1))),i.sub(1),s,_.sub(1)),mx_gradient_float(mx_hash_int(n,e.add(int(1)),o.add(int(1))),i,s.sub(1),_.sub(1)),mx_gradient_float(mx_hash_int(n.add(int(1)),e.add(int(1)),o.add(int(1))),i.sub(1),s.sub(1),_.sub(1)),r,m,l)).toVar();return mx_gradient_scale3d(c)})).setLayout({name:"mx_perlin_noise_float_1",type:"float",inputs:[{name:"p",type:"vec3"}]});export const mx_perlin_noise_float=overloadingFn([mx_perlin_noise_float_0,mx_perlin_noise_float_1]);export const mx_perlin_noise_vec3_0=Fn((([t])=>{const a=vec2(t).toVar(),n=int().toVar(),e=int().toVar(),o=float(mx_floorfrac(a.x,n)).toVar(),i=float(mx_floorfrac(a.y,e)).toVar(),s=float(mx_fade(o)).toVar(),_=float(mx_fade(i)).toVar(),r=vec3(mx_bilerp(mx_gradient_vec3(mx_hash_vec3(n,e),o,i),mx_gradient_vec3(mx_hash_vec3(n.add(int(1)),e),o.sub(1),i),mx_gradient_vec3(mx_hash_vec3(n,e.add(int(1))),o,i.sub(1)),mx_gradient_vec3(mx_hash_vec3(n.add(int(1)),e.add(int(1))),o.sub(1),i.sub(1)),s,_)).toVar();return mx_gradient_scale2d(r)})).setLayout({name:"mx_perlin_noise_vec3_0",type:"vec3",inputs:[{name:"p",type:"vec2"}]});export const mx_perlin_noise_vec3_1=Fn((([t])=>{const a=vec3(t).toVar(),n=int().toVar(),e=int().toVar(),o=int().toVar(),i=float(mx_floorfrac(a.x,n)).toVar(),s=float(mx_floorfrac(a.y,e)).toVar(),_=float(mx_floorfrac(a.z,o)).toVar(),r=float(mx_fade(i)).toVar(),m=float(mx_fade(s)).toVar(),l=float(mx_fade(_)).toVar(),c=vec3(mx_trilerp(mx_gradient_vec3(mx_hash_vec3(n,e,o),i,s,_),mx_gradient_vec3(mx_hash_vec3(n.add(int(1)),e,o),i.sub(1),s,_),mx_gradient_vec3(mx_hash_vec3(n,e.add(int(1)),o),i,s.sub(1),_),mx_gradient_vec3(mx_hash_vec3(n.add(int(1)),e.add(int(1)),o),i.sub(1),s.sub(1),_),mx_gradient_vec3(mx_hash_vec3(n,e,o.add(int(1))),i,s,_.sub(1)),mx_gradient_vec3(mx_hash_vec3(n.add(int(1)),e,o.add(int(1))),i.sub(1),s,_.sub(1)),mx_gradient_vec3(mx_hash_vec3(n,e.add(int(1)),o.add(int(1))),i,s.sub(1),_.sub(1)),mx_gradient_vec3(mx_hash_vec3(n.add(int(1)),e.add(int(1)),o.add(int(1))),i.sub(1),s.sub(1),_.sub(1)),r,m,l)).toVar();return mx_gradient_scale3d(c)})).setLayout({name:"mx_perlin_noise_vec3_1",type:"vec3",inputs:[{name:"p",type:"vec3"}]});export const mx_perlin_noise_vec3=overloadingFn([mx_perlin_noise_vec3_0,mx_perlin_noise_vec3_1]);export const mx_cell_noise_float_0=Fn((([t])=>{const a=float(t).toVar(),n=int(mx_floor(a)).toVar();return mx_bits_to_01(mx_hash_int(n))})).setLayout({name:"mx_cell_noise_float_0",type:"float",inputs:[{name:"p",type:"float"}]});export const mx_cell_noise_float_1=Fn((([t])=>{const a=vec2(t).toVar(),n=int(mx_floor(a.x)).toVar(),e=int(mx_floor(a.y)).toVar();return mx_bits_to_01(mx_hash_int(n,e))})).setLayout({name:"mx_cell_noise_float_1",type:"float",inputs:[{name:"p",type:"vec2"}]});export const mx_cell_noise_float_2=Fn((([t])=>{const a=vec3(t).toVar(),n=int(mx_floor(a.x)).toVar(),e=int(mx_floor(a.y)).toVar(),o=int(mx_floor(a.z)).toVar();return mx_bits_to_01(mx_hash_int(n,e,o))})).setLayout({name:"mx_cell_noise_float_2",type:"float",inputs:[{name:"p",type:"vec3"}]});export const mx_cell_noise_float_3=Fn((([t])=>{const a=vec4(t).toVar(),n=int(mx_floor(a.x)).toVar(),e=int(mx_floor(a.y)).toVar(),o=int(mx_floor(a.z)).toVar(),i=int(mx_floor(a.w)).toVar();return mx_bits_to_01(mx_hash_int(n,e,o,i))})).setLayout({name:"mx_cell_noise_float_3",type:"float",inputs:[{name:"p",type:"vec4"}]});export const mx_cell_noise_float=overloadingFn([mx_cell_noise_float_0,mx_cell_noise_float_1,mx_cell_noise_float_2,mx_cell_noise_float_3]);export const mx_cell_noise_vec3_0=Fn((([t])=>{const a=float(t).toVar(),n=int(mx_floor(a)).toVar();return vec3(mx_bits_to_01(mx_hash_int(n,int(0))),mx_bits_to_01(mx_hash_int(n,int(1))),mx_bits_to_01(mx_hash_int(n,int(2))))})).setLayout({name:"mx_cell_noise_vec3_0",type:"vec3",inputs:[{name:"p",type:"float"}]});export const mx_cell_noise_vec3_1=Fn((([t])=>{const a=vec2(t).toVar(),n=int(mx_floor(a.x)).toVar(),e=int(mx_floor(a.y)).toVar();return vec3(mx_bits_to_01(mx_hash_int(n,e,int(0))),mx_bits_to_01(mx_hash_int(n,e,int(1))),mx_bits_to_01(mx_hash_int(n,e,int(2))))})).setLayout({name:"mx_cell_noise_vec3_1",type:"vec3",inputs:[{name:"p",type:"vec2"}]});export const mx_cell_noise_vec3_2=Fn((([t])=>{const a=vec3(t).toVar(),n=int(mx_floor(a.x)).toVar(),e=int(mx_floor(a.y)).toVar(),o=int(mx_floor(a.z)).toVar();return vec3(mx_bits_to_01(mx_hash_int(n,e,o,int(0))),mx_bits_to_01(mx_hash_int(n,e,o,int(1))),mx_bits_to_01(mx_hash_int(n,e,o,int(2))))})).setLayout({name:"mx_cell_noise_vec3_2",type:"vec3",inputs:[{name:"p",type:"vec3"}]});export const mx_cell_noise_vec3_3=Fn((([t])=>{const a=vec4(t).toVar(),n=int(mx_floor(a.x)).toVar(),e=int(mx_floor(a.y)).toVar(),o=int(mx_floor(a.z)).toVar(),i=int(mx_floor(a.w)).toVar();return vec3(mx_bits_to_01(mx_hash_int(n,e,o,i,int(0))),mx_bits_to_01(mx_hash_int(n,e,o,i,int(1))),mx_bits_to_01(mx_hash_int(n,e,o,i,int(2))))})).setLayout({name:"mx_cell_noise_vec3_3",type:"vec3",inputs:[{name:"p",type:"vec4"}]});export const mx_cell_noise_vec3=overloadingFn([mx_cell_noise_vec3_0,mx_cell_noise_vec3_1,mx_cell_noise_vec3_2,mx_cell_noise_vec3_3]);export const mx_fractal_noise_float=Fn((([t,a,n,e])=>{const o=float(e).toVar(),i=float(n).toVar(),s=int(a).toVar(),_=vec3(t).toVar(),r=float(0).toVar(),m=float(1).toVar();return Loop(s,(()=>{r.addAssign(m.mul(mx_perlin_noise_float(_))),m.mulAssign(o),_.mulAssign(i)})),r})).setLayout({name:"mx_fractal_noise_float",type:"float",inputs:[{name:"p",type:"vec3"},{name:"octaves",type:"int"},{name:"lacunarity",type:"float"},{name:"diminish",type:"float"}]});export const mx_fractal_noise_vec3=Fn((([t,a,n,e])=>{const o=float(e).toVar(),i=float(n).toVar(),s=int(a).toVar(),_=vec3(t).toVar(),r=vec3(0).toVar(),m=float(1).toVar();return Loop(s,(()=>{r.addAssign(m.mul(mx_perlin_noise_vec3(_))),m.mulAssign(o),_.mulAssign(i)})),r})).setLayout({name:"mx_fractal_noise_vec3",type:"vec3",inputs:[{name:"p",type:"vec3"},{name:"octaves",type:"int"},{name:"lacunarity",type:"float"},{name:"diminish",type:"float"}]});export const mx_fractal_noise_vec2=Fn((([t,a,n,e])=>{const o=float(e).toVar(),i=float(n).toVar(),s=int(a).toVar(),_=vec3(t).toVar();return vec2(mx_fractal_noise_float(_,s,i,o),mx_fractal_noise_float(_.add(vec3(int(19),int(193),int(17))),s,i,o))})).setLayout({name:"mx_fractal_noise_vec2",type:"vec2",inputs:[{name:"p",type:"vec3"},{name:"octaves",type:"int"},{name:"lacunarity",type:"float"},{name:"diminish",type:"float"}]});export const mx_fractal_noise_vec4=Fn((([t,a,n,e])=>{const o=float(e).toVar(),i=float(n).toVar(),s=int(a).toVar(),_=vec3(t).toVar(),r=vec3(mx_fractal_noise_vec3(_,s,i,o)).toVar(),m=float(mx_fractal_noise_float(_.add(vec3(int(19),int(193),int(17))),s,i,o)).toVar();return vec4(r,m)})).setLayout({name:"mx_fractal_noise_vec4",type:"vec4",inputs:[{name:"p",type:"vec3"},{name:"octaves",type:"int"},{name:"lacunarity",type:"float"},{name:"diminish",type:"float"}]});export const mx_worley_distance_0=Fn((([t,a,n,e,o,i,s])=>{const _=int(s).toVar(),r=float(i).toVar(),m=int(o).toVar(),l=int(e).toVar(),c=int(n).toVar(),x=int(a).toVar(),f=vec2(t).toVar(),p=vec3(mx_cell_noise_vec3(vec2(x.add(l),c.add(m)))).toVar(),u=vec2(p.x,p.y).toVar();u.subAssign(.5),u.mulAssign(r),u.addAssign(.5);const d=vec2(vec2(float(x),float(c)).add(u)).toVar(),y=vec2(d.sub(f)).toVar();return If(_.equal(int(2)),(()=>abs(y.x).add(abs(y.y)))),If(_.equal(int(3)),(()=>max(abs(y.x),abs(y.y)))),dot(y,y)})).setLayout({name:"mx_worley_distance_0",type:"float",inputs:[{name:"p",type:"vec2"},{name:"x",type:"int"},{name:"y",type:"int"},{name:"xoff",type:"int"},{name:"yoff",type:"int"},{name:"jitter",type:"float"},{name:"metric",type:"int"}]});export const mx_worley_distance_1=Fn((([t,a,n,e,o,i,s,_,r])=>{const m=int(r).toVar(),l=float(_).toVar(),c=int(s).toVar(),x=int(i).toVar(),f=int(o).toVar(),p=int(e).toVar(),u=int(n).toVar(),d=int(a).toVar(),y=vec3(t).toVar(),V=vec3(mx_cell_noise_vec3(vec3(d.add(f),u.add(x),p.add(c)))).toVar();V.subAssign(.5),V.mulAssign(l),V.addAssign(.5);const v=vec3(vec3(float(d),float(u),float(p)).add(V)).toVar(),g=vec3(v.sub(y)).toVar();return If(m.equal(int(2)),(()=>abs(g.x).add(abs(g.y)).add(abs(g.z)))),If(m.equal(int(3)),(()=>max(abs(g.x),abs(g.y),abs(g.z)))),dot(g,g)})).setLayout({name:"mx_worley_distance_1",type:"float",inputs:[{name:"p",type:"vec3"},{name:"x",type:"int"},{name:"y",type:"int"},{name:"z",type:"int"},{name:"xoff",type:"int"},{name:"yoff",type:"int"},{name:"zoff",type:"int"},{name:"jitter",type:"float"},{name:"metric",type:"int"}]});export const mx_worley_distance=overloadingFn([mx_worley_distance_0,mx_worley_distance_1]);export const mx_worley_noise_float_0=Fn((([t,a,n])=>{const e=int(n).toVar(),o=float(a).toVar(),i=vec2(t).toVar(),s=int().toVar(),_=int().toVar(),r=vec2(mx_floorfrac(i.x,s),mx_floorfrac(i.y,_)).toVar(),m=float(1e6).toVar();return Loop({start:-1,end:int(1),name:"x",condition:"<="},(({x:t})=>{Loop({start:-1,end:int(1),name:"y",condition:"<="},(({y:a})=>{const n=float(mx_worley_distance(r,t,a,s,_,o,e)).toVar();m.assign(min(m,n))}))})),If(e.equal(int(0)),(()=>{m.assign(sqrt(m))})),m})).setLayout({name:"mx_worley_noise_float_0",type:"float",inputs:[{name:"p",type:"vec2"},{name:"jitter",type:"float"},{name:"metric",type:"int"}]});export const mx_worley_noise_vec2_0=Fn((([t,a,n])=>{const e=int(n).toVar(),o=float(a).toVar(),i=vec2(t).toVar(),s=int().toVar(),_=int().toVar(),r=vec2(mx_floorfrac(i.x,s),mx_floorfrac(i.y,_)).toVar(),m=vec2(1e6,1e6).toVar();return Loop({start:-1,end:int(1),name:"x",condition:"<="},(({x:t})=>{Loop({start:-1,end:int(1),name:"y",condition:"<="},(({y:a})=>{const n=float(mx_worley_distance(r,t,a,s,_,o,e)).toVar();If(n.lessThan(m.x),(()=>{m.y.assign(m.x),m.x.assign(n)})).ElseIf(n.lessThan(m.y),(()=>{m.y.assign(n)}))}))})),If(e.equal(int(0)),(()=>{m.assign(sqrt(m))})),m})).setLayout({name:"mx_worley_noise_vec2_0",type:"vec2",inputs:[{name:"p",type:"vec2"},{name:"jitter",type:"float"},{name:"metric",type:"int"}]});export const mx_worley_noise_vec3_0=Fn((([t,a,n])=>{const e=int(n).toVar(),o=float(a).toVar(),i=vec2(t).toVar(),s=int().toVar(),_=int().toVar(),r=vec2(mx_floorfrac(i.x,s),mx_floorfrac(i.y,_)).toVar(),m=vec3(1e6,1e6,1e6).toVar();return Loop({start:-1,end:int(1),name:"x",condition:"<="},(({x:t})=>{Loop({start:-1,end:int(1),name:"y",condition:"<="},(({y:a})=>{const n=float(mx_worley_distance(r,t,a,s,_,o,e)).toVar();If(n.lessThan(m.x),(()=>{m.z.assign(m.y),m.y.assign(m.x),m.x.assign(n)})).ElseIf(n.lessThan(m.y),(()=>{m.z.assign(m.y),m.y.assign(n)})).ElseIf(n.lessThan(m.z),(()=>{m.z.assign(n)}))}))})),If(e.equal(int(0)),(()=>{m.assign(sqrt(m))})),m})).setLayout({name:"mx_worley_noise_vec3_0",type:"vec3",inputs:[{name:"p",type:"vec2"},{name:"jitter",type:"float"},{name:"metric",type:"int"}]});export const mx_worley_noise_float_1=Fn((([t,a,n])=>{const e=int(n).toVar(),o=float(a).toVar(),i=vec3(t).toVar(),s=int().toVar(),_=int().toVar(),r=int().toVar(),m=vec3(mx_floorfrac(i.x,s),mx_floorfrac(i.y,_),mx_floorfrac(i.z,r)).toVar(),l=float(1e6).toVar();return Loop({start:-1,end:int(1),name:"x",condition:"<="},(({x:t})=>{Loop({start:-1,end:int(1),name:"y",condition:"<="},(({y:a})=>{Loop({start:-1,end:int(1),name:"z",condition:"<="},(({z:n})=>{const i=float(mx_worley_distance(m,t,a,n,s,_,r,o,e)).toVar();l.assign(min(l,i))}))}))})),If(e.equal(int(0)),(()=>{l.assign(sqrt(l))})),l})).setLayout({name:"mx_worley_noise_float_1",type:"float",inputs:[{name:"p",type:"vec3"},{name:"jitter",type:"float"},{name:"metric",type:"int"}]});export const mx_worley_noise_float=overloadingFn([mx_worley_noise_float_0,mx_worley_noise_float_1]);export const mx_worley_noise_vec2_1=Fn((([t,a,n])=>{const e=int(n).toVar(),o=float(a).toVar(),i=vec3(t).toVar(),s=int().toVar(),_=int().toVar(),r=int().toVar(),m=vec3(mx_floorfrac(i.x,s),mx_floorfrac(i.y,_),mx_floorfrac(i.z,r)).toVar(),l=vec2(1e6,1e6).toVar();return Loop({start:-1,end:int(1),name:"x",condition:"<="},(({x:t})=>{Loop({start:-1,end:int(1),name:"y",condition:"<="},(({y:a})=>{Loop({start:-1,end:int(1),name:"z",condition:"<="},(({z:n})=>{const i=float(mx_worley_distance(m,t,a,n,s,_,r,o,e)).toVar();If(i.lessThan(l.x),(()=>{l.y.assign(l.x),l.x.assign(i)})).ElseIf(i.lessThan(l.y),(()=>{l.y.assign(i)}))}))}))})),If(e.equal(int(0)),(()=>{l.assign(sqrt(l))})),l})).setLayout({name:"mx_worley_noise_vec2_1",type:"vec2",inputs:[{name:"p",type:"vec3"},{name:"jitter",type:"float"},{name:"metric",type:"int"}]});export const mx_worley_noise_vec2=overloadingFn([mx_worley_noise_vec2_0,mx_worley_noise_vec2_1]);export const mx_worley_noise_vec3_1=Fn((([t,a,n])=>{const e=int(n).toVar(),o=float(a).toVar(),i=vec3(t).toVar(),s=int().toVar(),_=int().toVar(),r=int().toVar(),m=vec3(mx_floorfrac(i.x,s),mx_floorfrac(i.y,_),mx_floorfrac(i.z,r)).toVar(),l=vec3(1e6,1e6,1e6).toVar();return Loop({start:-1,end:int(1),name:"x",condition:"<="},(({x:t})=>{Loop({start:-1,end:int(1),name:"y",condition:"<="},(({y:a})=>{Loop({start:-1,end:int(1),name:"z",condition:"<="},(({z:n})=>{const i=float(mx_worley_distance(m,t,a,n,s,_,r,o,e)).toVar();If(i.lessThan(l.x),(()=>{l.z.assign(l.y),l.y.assign(l.x),l.x.assign(i)})).ElseIf(i.lessThan(l.y),(()=>{l.z.assign(l.y),l.y.assign(i)})).ElseIf(i.lessThan(l.z),(()=>{l.z.assign(i)}))}))}))})),If(e.equal(int(0)),(()=>{l.assign(sqrt(l))})),l})).setLayout({name:"mx_worley_noise_vec3_1",type:"vec3",inputs:[{name:"p",type:"vec3"},{name:"jitter",type:"float"},{name:"metric",type:"int"}]});export const mx_worley_noise_vec3=overloadingFn([mx_worley_noise_vec3_0,mx_worley_noise_vec3_1]);export const mx_unifiednoise2d=Fn((([t,a,n,e,o,i,s,_,r,m,l])=>{const c=int(t).toVar(),x=vec2(a).toVar(),f=vec2(n).toVar(),p=vec2(e).toVar(),u=float(o).toVar(),d=float(i).toVar(),y=float(s).toVar(),V=bool(_).toVar(),v=int(r).toVar(),g=float(m).toVar(),h=float(l).toVar(),b=x.mul(f).add(p),L=float(0).toVar();return If(c.equal(int(0)),(()=>{L.assign(mx_perlin_noise_vec3(b))})),If(c.equal(int(1)),(()=>{L.assign(mx_cell_noise_vec3(b))})),If(c.equal(int(2)),(()=>{L.assign(mx_worley_noise_vec3(b,u,int(0)))})),If(c.equal(int(3)),(()=>{L.assign(mx_fractal_noise_vec3(vec3(b,0),v,g,h))})),L.assign(L.mul(y.sub(d)).add(d)),If(V,(()=>{L.assign(clamp(L,d,y))})),L})).setLayout({name:"mx_unifiednoise2d",type:"float",inputs:[{name:"noiseType",type:"int"},{name:"texcoord",type:"vec2"},{name:"freq",type:"vec2"},{name:"offset",type:"vec2"},{name:"jitter",type:"float"},{name:"outmin",type:"float"},{name:"outmax",type:"float"},{name:"clampoutput",type:"bool"},{name:"octaves",type:"int"},{name:"lacunarity",type:"float"},{name:"diminish",type:"float"}]});export const mx_unifiednoise3d=Fn((([t,a,n,e,o,i,s,_,r,m,l])=>{const c=int(t).toVar(),x=vec3(a).toVar(),f=vec3(n).toVar(),p=vec3(e).toVar(),u=float(o).toVar(),d=float(i).toVar(),y=float(s).toVar(),V=bool(_).toVar(),v=int(r).toVar(),g=float(m).toVar(),h=float(l).toVar(),b=x.mul(f).add(p),L=float(0).toVar();return If(c.equal(int(0)),(()=>{L.assign(mx_perlin_noise_vec3(b))})),If(c.equal(int(1)),(()=>{L.assign(mx_cell_noise_vec3(b))})),If(c.equal(int(2)),(()=>{L.assign(mx_worley_noise_vec3(b,u,int(0)))})),If(c.equal(int(3)),(()=>{L.assign(mx_fractal_noise_vec3(b,v,g,h))})),L.assign(L.mul(y.sub(d)).add(d)),If(V,(()=>{L.assign(clamp(L,d,y))})),L})).setLayout({name:"mx_unifiednoise3d",type:"float",inputs:[{name:"noiseType",type:"int"},{name:"position",type:"vec3"},{name:"freq",type:"vec3"},{name:"offset",type:"vec3"},{name:"jitter",type:"float"},{name:"outmin",type:"float"},{name:"outmax",type:"float"},{name:"clampoutput",type:"bool"},{name:"octaves",type:"int"},{name:"lacunarity",type:"float"},{name:"diminish",type:"float"}]});
//# sourceMappingURL=mx_noise.js.map