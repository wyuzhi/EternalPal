import{modelWorldMatrix}from"../accessors/ModelNode.js";import{cameraViewMatrix,cameraProjectionMatrix}from"../accessors/Camera.js";import{positionLocal}from"../accessors/Position.js";import{Fn,defined}from"../tsl/TSLBase.js";export const billboarding=Fn((({position:o=null,horizontal:r=!0,vertical:e=!1})=>{let i;null!==o?(i=modelWorldMatrix.toVar(),i[3][0]=o.x,i[3][1]=o.y,i[3][2]=o.z):i=modelWorldMatrix;const t=cameraViewMatrix.mul(i);return defined(r)&&(t[0][0]=modelWorldMatrix[0].length(),t[0][1]=0,t[0][2]=0),defined(e)&&(t[1][0]=0,t[1][1]=modelWorldMatrix[1].length(),t[1][2]=0),t[2][0]=0,t[2][1]=0,t[2][2]=1,cameraProjectionMatrix.mul(t).mul(positionLocal)}));
//# sourceMappingURL=SpriteUtils.js.map