{"version":3,"file":"node_modules/three/src/renderers/common/ChainMap.js","names":["ChainMap","constructor","this","weakMap","WeakMap","get","keys","map","i","length","undefined","set","value","key","has","delete"],"sources":["node_modules/three/src/renderers/common/ChainMap.js"],"sourcesContent":["/**\n * Data structure for the renderer. It allows defining values\n * with chained, hierarchical keys. Keys are meant to be\n * objects since the module internally works with Weak Maps\n * for performance reasons.\n *\n * @private\n */\nclass ChainMap {\n\n\t/**\n\t * Constructs a new Chain Map.\n\t */\n\tconstructor() {\n\n\t\t/**\n\t\t * The root Weak Map.\n\t\t *\n\t\t * @type {WeakMap}\n\t\t */\n\t\tthis.weakMap = new WeakMap();\n\n\t}\n\n\t/**\n\t * Returns the value for the given array of keys.\n\t *\n\t * @param {Array<Object>} keys - List of keys.\n\t * @return {any} The value. Returns `undefined` if no value was found.\n\t */\n\tget( keys ) {\n\n\t\tlet map = this.weakMap;\n\n\t\tfor ( let i = 0; i < keys.length - 1; i ++ ) {\n\n\t\t\tmap = map.get( keys[ i ] );\n\n\t\t\tif ( map === undefined ) return undefined;\n\n\t\t}\n\n\t\treturn map.get( keys[ keys.length - 1 ] );\n\n\t}\n\n\t/**\n\t * Sets the value for the given keys.\n\t *\n\t * @param {Array<Object>} keys - List of keys.\n\t * @param {any} value - The value to set.\n\t * @return {ChainMap} A reference to this Chain Map.\n\t */\n\tset( keys, value ) {\n\n\t\tlet map = this.weakMap;\n\n\t\tfor ( let i = 0; i < keys.length - 1; i ++ ) {\n\n\t\t\tconst key = keys[ i ];\n\n\t\t\tif ( map.has( key ) === false ) map.set( key, new WeakMap() );\n\n\t\t\tmap = map.get( key );\n\n\t\t}\n\n\t\tmap.set( keys[ keys.length - 1 ], value );\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t * Deletes a value for the given keys.\n\t *\n\t * @param {Array<Object>} keys - The keys.\n\t * @return {boolean} Returns `true` if the value has been removed successfully and `false` if the value has not be found.\n\t */\n\tdelete( keys ) {\n\n\t\tlet map = this.weakMap;\n\n\t\tfor ( let i = 0; i < keys.length - 1; i ++ ) {\n\n\t\t\tmap = map.get( keys[ i ] );\n\n\t\t\tif ( map === undefined ) return false;\n\n\t\t}\n\n\t\treturn map.delete( keys[ keys.length - 1 ] );\n\n\t}\n\n}\n\nexport default ChainMap;\n"],"mappings":"AAQA,MAAMA,SAKL,WAAAC,GAOCC,KAAKC,QAAU,IAAIC,OAEpB,CAQA,GAAAC,CAAKC,GAEJ,IAAIC,EAAML,KAAKC,QAEf,IAAM,IAAIK,EAAI,EAAGA,EAAIF,EAAKG,OAAS,EAAGD,IAIrC,GAFAD,EAAMA,EAAIF,IAAKC,EAAME,SAERE,IAARH,EAAoB,OAI1B,OAAOA,EAAIF,IAAKC,EAAMA,EAAKG,OAAS,GAErC,CASA,GAAAE,CAAKL,EAAMM,GAEV,IAAIL,EAAML,KAAKC,QAEf,IAAM,IAAIK,EAAI,EAAGA,EAAIF,EAAKG,OAAS,EAAGD,IAAO,CAE5C,MAAMK,EAAMP,EAAME,IAEM,IAAnBD,EAAIO,IAAKD,IAAkBN,EAAII,IAAKE,EAAK,IAAIT,SAElDG,EAAMA,EAAIF,IAAKQ,EAEhB,CAIA,OAFAN,EAAII,IAAKL,EAAMA,EAAKG,OAAS,GAAKG,GAE3BV,IAER,CAQA,OAAQI,GAEP,IAAIC,EAAML,KAAKC,QAEf,IAAM,IAAIK,EAAI,EAAGA,EAAIF,EAAKG,OAAS,EAAGD,IAIrC,GAFAD,EAAMA,EAAIF,IAAKC,EAAME,SAERE,IAARH,EAAoB,OAAO,EAIjC,OAAOA,EAAIQ,OAAQT,EAAMA,EAAKG,OAAS,GAExC,iBAIcT","ignoreList":[]}