{"version":3,"file":"node_modules/three/src/renderers/common/Lighting.js","names":["LightsNode","ChainMap","_defaultLights","_chainKeys","Lighting","constructor","super","createNode","lights","setLights","getNode","scene","camera","isQuadMesh","node","this","get","undefined","set","length"],"sources":["node_modules/three/src/renderers/common/Lighting.js"],"sourcesContent":["import { LightsNode } from '../../nodes/Nodes.js';\nimport ChainMap from './ChainMap.js';\n\nconst _defaultLights = /*@__PURE__*/ new LightsNode();\nconst _chainKeys = [];\n\n/**\n * This renderer module manages the lights nodes which are unique\n * per scene and camera combination.\n *\n * The lights node itself is later configured in the render list\n * with the actual lights from the scene.\n *\n * @private\n * @augments ChainMap\n */\nclass Lighting extends ChainMap {\n\n\t/**\n\t * Constructs a lighting management component.\n\t */\n\tconstructor() {\n\n\t\tsuper();\n\n\t}\n\n\t/**\n\t * Creates a new lights node for the given array of lights.\n\t *\n\t * @param {Array<Light>} lights - The render object.\n\t * @return {LightsNode} The lights node.\n\t */\n\tcreateNode( lights = [] ) {\n\n\t\treturn new LightsNode().setLights( lights );\n\n\t}\n\n\t/**\n\t * Returns a lights node for the given scene and camera.\n\t *\n\t * @param {Scene} scene - The scene.\n\t * @param {Camera} camera - The camera.\n\t * @return {LightsNode} The lights node.\n\t */\n\tgetNode( scene, camera ) {\n\n\t\t// ignore post-processing\n\n\t\tif ( scene.isQuadMesh ) return _defaultLights;\n\n\t\t_chainKeys[ 0 ] = scene;\n\t\t_chainKeys[ 1 ] = camera;\n\n\t\tlet node = this.get( _chainKeys );\n\n\t\tif ( node === undefined ) {\n\n\t\t\tnode = this.createNode();\n\t\t\tthis.set( _chainKeys, node );\n\n\t\t}\n\n\t\t_chainKeys.length = 0;\n\n\t\treturn node;\n\n\t}\n\n}\n\nexport default Lighting;\n"],"mappings":"OAASA,eAAkB,8BACpBC,aAAc,gBAErB,MAAMC,eAA+B,IAAIF,WACnCG,WAAa,GAYnB,MAAMC,iBAAiBH,SAKtB,WAAAI,GAECC,OAED,CAQA,UAAAC,CAAYC,EAAS,IAEpB,OAAO,IAAIR,YAAaS,UAAWD,EAEpC,CASA,OAAAE,CAASC,EAAOC,GAIf,GAAKD,EAAME,WAAa,OAAOX,eAE/BC,WAAY,GAAMQ,EAClBR,WAAY,GAAMS,EAElB,IAAIE,EAAOC,KAAKC,IAAKb,YAWrB,YATcc,IAATH,IAEJA,EAAOC,KAAKR,aACZQ,KAAKG,IAAKf,WAAYW,IAIvBX,WAAWgB,OAAS,EAEbL,CAER,iBAIcV","ignoreList":[]}