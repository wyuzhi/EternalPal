{"version":3,"file":"node_modules/three/src/renderers/shaders/UniformsUtils.js","names":["ColorManagement","cloneUniforms","src","dst","u","p","property","isColor","isMatrix3","isMatrix4","isVector2","isVector3","isVector4","isTexture","isQuaternion","isRenderTargetTexture","console","warn","clone","Array","isArray","slice","mergeUniforms","uniforms","merged","length","tmp","cloneUniformsGroups","push","getUnlitUniformColorSpace","renderer","currentRenderTarget","getRenderTarget","outputColorSpace","isXRRenderTarget","texture","colorSpace","workingColorSpace","UniformsUtils","merge"],"sources":["node_modules/three/src/renderers/shaders/UniformsUtils.js"],"sourcesContent":["import { ColorManagement } from '../../math/ColorManagement.js';\n\n// Uniform Utilities\n\nexport function cloneUniforms( src ) {\n\n\tconst dst = {};\n\n\tfor ( const u in src ) {\n\n\t\tdst[ u ] = {};\n\n\t\tfor ( const p in src[ u ] ) {\n\n\t\t\tconst property = src[ u ][ p ];\n\n\t\t\tif ( property && ( property.isColor ||\n\t\t\t\tproperty.isMatrix3 || property.isMatrix4 ||\n\t\t\t\tproperty.isVector2 || property.isVector3 || property.isVector4 ||\n\t\t\t\tproperty.isTexture || property.isQuaternion ) ) {\n\n\t\t\t\tif ( property.isRenderTargetTexture ) {\n\n\t\t\t\t\tconsole.warn( 'UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms().' );\n\t\t\t\t\tdst[ u ][ p ] = null;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tdst[ u ][ p ] = property.clone();\n\n\t\t\t\t}\n\n\t\t\t} else if ( Array.isArray( property ) ) {\n\n\t\t\t\tdst[ u ][ p ] = property.slice();\n\n\t\t\t} else {\n\n\t\t\t\tdst[ u ][ p ] = property;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\treturn dst;\n\n}\n\nexport function mergeUniforms( uniforms ) {\n\n\tconst merged = {};\n\n\tfor ( let u = 0; u < uniforms.length; u ++ ) {\n\n\t\tconst tmp = cloneUniforms( uniforms[ u ] );\n\n\t\tfor ( const p in tmp ) {\n\n\t\t\tmerged[ p ] = tmp[ p ];\n\n\t\t}\n\n\t}\n\n\treturn merged;\n\n}\n\nexport function cloneUniformsGroups( src ) {\n\n\tconst dst = [];\n\n\tfor ( let u = 0; u < src.length; u ++ ) {\n\n\t\tdst.push( src[ u ].clone() );\n\n\t}\n\n\treturn dst;\n\n}\n\nexport function getUnlitUniformColorSpace( renderer ) {\n\n\tconst currentRenderTarget = renderer.getRenderTarget();\n\n\tif ( currentRenderTarget === null ) {\n\n\t\t// https://github.com/mrdoob/three.js/pull/23937#issuecomment-1111067398\n\t\treturn renderer.outputColorSpace;\n\n\t}\n\n\t// https://github.com/mrdoob/three.js/issues/27868\n\tif ( currentRenderTarget.isXRRenderTarget === true ) {\n\n\t\treturn currentRenderTarget.texture.colorSpace;\n\n\t}\n\n\treturn ColorManagement.workingColorSpace;\n\n}\n\n// Legacy\n\nconst UniformsUtils = { clone: cloneUniforms, merge: mergeUniforms };\n\nexport { UniformsUtils };\n"],"mappings":"OAASA,oBAAuB,uCAIzB,SAASC,cAAeC,GAE9B,MAAMC,EAAM,CAAC,EAEb,IAAM,MAAMC,KAAKF,EAAM,CAEtBC,EAAKC,GAAM,CAAC,EAEZ,IAAM,MAAMC,KAAKH,EAAKE,GAAM,CAE3B,MAAME,EAAWJ,EAAKE,GAAKC,GAEtBC,IAAcA,EAASC,SAC3BD,EAASE,WAAaF,EAASG,WAC/BH,EAASI,WAAaJ,EAASK,WAAaL,EAASM,WACrDN,EAASO,WAAaP,EAASQ,cAE1BR,EAASS,uBAEbC,QAAQC,KAAM,sGACdd,EAAKC,GAAKC,GAAM,MAIhBF,EAAKC,GAAKC,GAAMC,EAASY,QAIfC,MAAMC,QAASd,GAE1BH,EAAKC,GAAKC,GAAMC,EAASe,QAIzBlB,EAAKC,GAAKC,GAAMC,CAIlB,CAED,CAEA,OAAOH,CAER,QAEO,SAASmB,cAAeC,GAE9B,MAAMC,EAAS,CAAC,EAEhB,IAAM,IAAIpB,EAAI,EAAGA,EAAImB,EAASE,OAAQrB,IAAO,CAE5C,MAAMsB,EAAMzB,cAAesB,EAAUnB,IAErC,IAAM,MAAMC,KAAKqB,EAEhBF,EAAQnB,GAAMqB,EAAKrB,EAIrB,CAEA,OAAOmB,CAER,QAEO,SAASG,oBAAqBzB,GAEpC,MAAMC,EAAM,GAEZ,IAAM,IAAIC,EAAI,EAAGA,EAAIF,EAAIuB,OAAQrB,IAEhCD,EAAIyB,KAAM1B,EAAKE,GAAIc,SAIpB,OAAOf,CAER,QAEO,SAAS0B,0BAA2BC,GAE1C,MAAMC,EAAsBD,EAASE,kBAErC,OAA6B,OAAxBD,EAGGD,EAASG,kBAK6B,IAAzCF,EAAoBG,iBAEjBH,EAAoBI,QAAQC,WAI7BpC,gBAAgBqC,iBAExB,CAIA,MAAMC,cAAgB,CAAEpB,MAAOjB,cAAesC,MAAOjB,sBAE5CgB","ignoreList":[]}