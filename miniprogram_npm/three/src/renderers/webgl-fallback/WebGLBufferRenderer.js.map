{"version":3,"file":"node_modules/three/src/renderers/webgl-fallback/WebGLBufferRenderer.js","names":["WebGLBufferRenderer","constructor","backend","this","gl","extensions","info","renderer","mode","index","type","object","render","start","count","drawElements","drawArrays","update","renderInstances","primcount","drawElementsInstanced","drawArraysInstanced","renderMultiDraw","starts","counts","drawCount","extension","get","i","multiDrawElementsWEBGL","multiDrawArraysWEBGL","elementCount","renderMultiDrawInstances","multiDrawElementsInstancedWEBGL","multiDrawArraysInstancedWEBGL"],"sources":["node_modules/three/src/renderers/webgl-fallback/WebGLBufferRenderer.js"],"sourcesContent":["class WebGLBufferRenderer {\n\n\tconstructor( backend ) {\n\n\t\tthis.gl = backend.gl;\n\t\tthis.extensions = backend.extensions;\n\t\tthis.info = backend.renderer.info;\n\t\tthis.mode = null;\n\t\tthis.index = 0;\n\t\tthis.type = null;\n\t\tthis.object = null;\n\n\t}\n\n\trender( start, count ) {\n\n\t\tconst { gl, mode, object, type, info, index } = this;\n\n\t\tif ( index !== 0 ) {\n\n\t\t\tgl.drawElements( mode, count, type, start );\n\n\t\t} else {\n\n\t\t\tgl.drawArrays( mode, start, count );\n\n\t\t}\n\n\t\tinfo.update( object, count, 1 );\n\n\t}\n\n\trenderInstances( start, count, primcount ) {\n\n\t\tconst { gl, mode, type, index, object, info } = this;\n\n\t\tif ( primcount === 0 ) return;\n\n\t\tif ( index !== 0 ) {\n\n\t\t\tgl.drawElementsInstanced( mode, count, type, start, primcount );\n\n\t\t} else {\n\n\t\t\tgl.drawArraysInstanced( mode, start, count, primcount );\n\n\t\t}\n\n\t\tinfo.update( object, count, primcount );\n\n\t}\n\n\trenderMultiDraw( starts, counts, drawCount ) {\n\n\t\tconst { extensions, mode, object, info } = this;\n\n\t\tif ( drawCount === 0 ) return;\n\n\t\tconst extension = extensions.get( 'WEBGL_multi_draw' );\n\n\t\tif ( extension === null ) {\n\n\t\t\tfor ( let i = 0; i < drawCount; i ++ ) {\n\n\t\t\t\tthis.render( starts[ i ], counts[ i ] );\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tif ( this.index !== 0 ) {\n\n\t\t\t\textension.multiDrawElementsWEBGL( mode, counts, 0, this.type, starts, 0, drawCount );\n\n\t\t\t} else {\n\n\t\t\t\textension.multiDrawArraysWEBGL( mode, starts, 0, counts, 0, drawCount );\n\n\t\t\t}\n\n\t\t\tlet elementCount = 0;\n\t\t\tfor ( let i = 0; i < drawCount; i ++ ) {\n\n\t\t\t\telementCount += counts[ i ];\n\n\t\t\t}\n\n\t\t\tinfo.update( object, elementCount, 1 );\n\n\t\t}\n\n\t}\n\n\trenderMultiDrawInstances( starts, counts, drawCount, primcount ) {\n\n\t\tconst { extensions, mode, object, info } = this;\n\n\t\tif ( drawCount === 0 ) return;\n\n\t\tconst extension = extensions.get( 'WEBGL_multi_draw' );\n\n\t\tif ( extension === null ) {\n\n\t\t\tfor ( let i = 0; i < drawCount; i ++ ) {\n\n\t\t\t\tthis.renderInstances( starts[ i ], counts[ i ], primcount[ i ] );\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tif ( this.index !== 0 ) {\n\n\t\t\t\textension.multiDrawElementsInstancedWEBGL( mode, counts, 0, this.type, starts, 0, primcount, 0, drawCount );\n\n\t\t\t} else {\n\n\t\t\t\textension.multiDrawArraysInstancedWEBGL( mode, starts, 0, counts, 0, primcount, 0, drawCount );\n\n\t\t\t}\n\n\t\t\tlet elementCount = 0;\n\t\t\tfor ( let i = 0; i < drawCount; i ++ ) {\n\n\t\t\t\telementCount += counts[ i ] * primcount[ i ];\n\n\t\t\t}\n\n\t\t\tinfo.update( object, elementCount, 1 );\n\n\t\t}\n\n\t}\n\n\t//\n\n}\n\n\nexport { WebGLBufferRenderer };\n"],"mappings":"AAAA,MAAMA,oBAEL,WAAAC,CAAaC,GAEZC,KAAKC,GAAKF,EAAQE,GAClBD,KAAKE,WAAaH,EAAQG,WAC1BF,KAAKG,KAAOJ,EAAQK,SAASD,KAC7BH,KAAKK,KAAO,KACZL,KAAKM,MAAQ,EACbN,KAAKO,KAAO,KACZP,KAAKQ,OAAS,IAEf,CAEA,MAAAC,CAAQC,EAAOC,GAEd,MAAMV,GAAEA,EAAEI,KAAEA,EAAIG,OAAEA,EAAMD,KAAEA,EAAIJ,KAAEA,EAAIG,MAAEA,GAAUN,KAEjC,IAAVM,EAEJL,EAAGW,aAAcP,EAAMM,EAAOJ,EAAMG,GAIpCT,EAAGY,WAAYR,EAAMK,EAAOC,GAI7BR,EAAKW,OAAQN,EAAQG,EAAO,EAE7B,CAEA,eAAAI,CAAiBL,EAAOC,EAAOK,GAE9B,MAAMf,GAAEA,EAAEI,KAAEA,EAAIE,KAAEA,EAAID,MAAEA,EAAKE,OAAEA,EAAML,KAAEA,GAASH,KAE7B,IAAdgB,IAEU,IAAVV,EAEJL,EAAGgB,sBAAuBZ,EAAMM,EAAOJ,EAAMG,EAAOM,GAIpDf,EAAGiB,oBAAqBb,EAAMK,EAAOC,EAAOK,GAI7Cb,EAAKW,OAAQN,EAAQG,EAAOK,GAE7B,CAEA,eAAAG,CAAiBC,EAAQC,EAAQC,GAEhC,MAAMpB,WAAEA,EAAUG,KAAEA,EAAIG,OAAEA,EAAML,KAAEA,GAASH,KAE3C,GAAmB,IAAdsB,EAAkB,OAEvB,MAAMC,EAAYrB,EAAWsB,IAAK,oBAElC,GAAmB,OAAdD,EAEJ,IAAM,IAAIE,EAAI,EAAGA,EAAIH,EAAWG,IAE/BzB,KAAKS,OAAQW,EAAQK,GAAKJ,EAAQI,QAI7B,CAEc,IAAfzB,KAAKM,MAETiB,EAAUG,uBAAwBrB,EAAMgB,EAAQ,EAAGrB,KAAKO,KAAMa,EAAQ,EAAGE,GAIzEC,EAAUI,qBAAsBtB,EAAMe,EAAQ,EAAGC,EAAQ,EAAGC,GAI7D,IAAIM,EAAe,EACnB,IAAM,IAAIH,EAAI,EAAGA,EAAIH,EAAWG,IAE/BG,GAAgBP,EAAQI,GAIzBtB,EAAKW,OAAQN,EAAQoB,EAAc,EAEpC,CAED,CAEA,wBAAAC,CAA0BT,EAAQC,EAAQC,EAAWN,GAEpD,MAAMd,WAAEA,EAAUG,KAAEA,EAAIG,OAAEA,EAAML,KAAEA,GAASH,KAE3C,GAAmB,IAAdsB,EAAkB,OAEvB,MAAMC,EAAYrB,EAAWsB,IAAK,oBAElC,GAAmB,OAAdD,EAEJ,IAAM,IAAIE,EAAI,EAAGA,EAAIH,EAAWG,IAE/BzB,KAAKe,gBAAiBK,EAAQK,GAAKJ,EAAQI,GAAKT,EAAWS,QAItD,CAEc,IAAfzB,KAAKM,MAETiB,EAAUO,gCAAiCzB,EAAMgB,EAAQ,EAAGrB,KAAKO,KAAMa,EAAQ,EAAGJ,EAAW,EAAGM,GAIhGC,EAAUQ,8BAA+B1B,EAAMe,EAAQ,EAAGC,EAAQ,EAAGL,EAAW,EAAGM,GAIpF,IAAIM,EAAe,EACnB,IAAM,IAAIH,EAAI,EAAGA,EAAIH,EAAWG,IAE/BG,GAAgBP,EAAQI,GAAMT,EAAWS,GAI1CtB,EAAKW,OAAQN,EAAQoB,EAAc,EAEpC,CAED,SAOQ/B","ignoreList":[]}