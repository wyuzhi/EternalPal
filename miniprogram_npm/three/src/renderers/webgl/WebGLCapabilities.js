import{FloatType,HalfFloatType,RGBAFormat,UnsignedByteType}from"../../constants.js";function WebGLCapabilities(e,r,t,a){let i;function o(r){if("highp"===r){if(e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.HIGH_FLOAT).precision>0&&e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_FLOAT).precision>0)return"highp";r="mediump"}return"mediump"===r&&e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.MEDIUM_FLOAT).precision>0&&e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let _=void 0!==t.precision?t.precision:"highp";const n=o(_);n!==_&&(console.warn("THREE.WebGLRenderer:",_,"not supported, using",n,"instead."),_=n);const T=!0===t.logarithmicDepthBuffer,E=!0===t.reversedDepthBuffer&&r.has("EXT_clip_control"),s=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),m=e.getParameter(e.MAX_VERTEX_TEXTURE_IMAGE_UNITS);return{isWebGL2:!0,getMaxAnisotropy:function(){if(void 0!==i)return i;if(!0===r.has("EXT_texture_filter_anisotropic")){const t=r.get("EXT_texture_filter_anisotropic");i=e.getParameter(t.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else i=0;return i},getMaxPrecision:o,textureFormatReadable:function(r){return r===RGBAFormat||a.convert(r)===e.getParameter(e.IMPLEMENTATION_COLOR_READ_FORMAT)},textureTypeReadable:function(t){const i=t===HalfFloatType&&(r.has("EXT_color_buffer_half_float")||r.has("EXT_color_buffer_float"));return!(t!==UnsignedByteType&&a.convert(t)!==e.getParameter(e.IMPLEMENTATION_COLOR_READ_TYPE)&&t!==FloatType&&!i)},precision:_,logarithmicDepthBuffer:T,reversedDepthBuffer:E,maxTextures:s,maxVertexTextures:m,maxTextureSize:e.getParameter(e.MAX_TEXTURE_SIZE),maxCubemapSize:e.getParameter(e.MAX_CUBE_MAP_TEXTURE_SIZE),maxAttributes:e.getParameter(e.MAX_VERTEX_ATTRIBS),maxVertexUniforms:e.getParameter(e.MAX_VERTEX_UNIFORM_VECTORS),maxVaryings:e.getParameter(e.MAX_VARYING_VECTORS),maxFragmentUniforms:e.getParameter(e.MAX_FRAGMENT_UNIFORM_VECTORS),vertexTextures:m>0,maxSamples:e.getParameter(e.MAX_SAMPLES)}}export{WebGLCapabilities};
//# sourceMappingURL=WebGLCapabilities.js.map