function WebGLObjects(e,t,n,s){let o=new WeakMap;function i(e){const t=e.target;t.removeEventListener("dispose",i),n.remove(t.instanceMatrix),null!==t.instanceColor&&n.remove(t.instanceColor)}return{update:function(a){const r=s.render.frame,c=a.geometry,d=t.get(a,c);if(o.get(d)!==r&&(t.update(d),o.set(d,r)),a.isInstancedMesh&&(!1===a.hasEventListener("dispose",i)&&a.addEventListener("dispose",i),o.get(a)!==r&&(n.update(a.instanceMatrix,e.ARRAY_BUFFER),null!==a.instanceColor&&n.update(a.instanceColor,e.ARRAY_BUFFER),o.set(a,r))),a.isSkinnedMesh){const e=a.skeleton;o.get(e)!==r&&(e.update(),o.set(e,r))}return d},dispose:function(){o=new WeakMap}}}export{WebGLObjects};
//# sourceMappingURL=WebGLObjects.js.map