function painterSortStable(r,e){return r.groupOrder!==e.groupOrder?r.groupOrder-e.groupOrder:r.renderOrder!==e.renderOrder?r.renderOrder-e.renderOrder:r.material.id!==e.material.id?r.material.id-e.material.id:r.z!==e.z?r.z-e.z:r.id-e.id}function reversePainterSortStable(r,e){return r.groupOrder!==e.groupOrder?r.groupOrder-e.groupOrder:r.renderOrder!==e.renderOrder?r.renderOrder-e.renderOrder:r.z!==e.z?e.z-r.z:r.id-e.id}function WebGLRenderList(){const r=[];let e=0;const n=[],t=[],i=[];function d(n,t,i,d,o,u){let s=r[e];return void 0===s?(s={id:n.id,object:n,geometry:t,material:i,groupOrder:d,renderOrder:n.renderOrder,z:o,group:u},r[e]=s):(s.id=n.id,s.object=n,s.geometry=t,s.material=i,s.groupOrder=d,s.renderOrder=n.renderOrder,s.z=o,s.group=u),e++,s}return{opaque:n,transmissive:t,transparent:i,init:function(){e=0,n.length=0,t.length=0,i.length=0},push:function(r,e,o,u,s,a){const l=d(r,e,o,u,s,a);o.transmission>0?t.push(l):!0===o.transparent?i.push(l):n.push(l)},unshift:function(r,e,o,u,s,a){const l=d(r,e,o,u,s,a);o.transmission>0?t.unshift(l):!0===o.transparent?i.unshift(l):n.unshift(l)},finish:function(){for(let n=e,t=r.length;n<t;n++){const e=r[n];if(null===e.id)break;e.id=null,e.object=null,e.geometry=null,e.material=null,e.group=null}},sort:function(r,e){n.length>1&&n.sort(r||painterSortStable),t.length>1&&t.sort(e||reversePainterSortStable),i.length>1&&i.sort(e||reversePainterSortStable)}}}function WebGLRenderLists(){let r=new WeakMap;return{get:function(e,n){const t=r.get(e);let i;return void 0===t?(i=new WebGLRenderList,r.set(e,[i])):n>=t.length?(i=new WebGLRenderList,t.push(i)):i=t[n],i},dispose:function(){r=new WeakMap}}}export{WebGLRenderLists,WebGLRenderList};
//# sourceMappingURL=WebGLRenderLists.js.map