import{LinearFilter}from"../constants.js";import{Texture}from"./Texture.js";class VideoTexture extends Texture{constructor(e,t,a,r,s=LinearFilter,i=LinearFilter,o,d,l){super(e,t,a,r,s,i,o,d,l),this.isVideoTexture=!0,this.generateMipmaps=!1,this._requestVideoFrameCallbackId=0;const c=this;"requestVideoFrameCallback"in e&&(this._requestVideoFrameCallbackId=e.requestVideoFrameCallback((function t(){c.needsUpdate=!0,c._requestVideoFrameCallbackId=e.requestVideoFrameCallback(t)})))}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;!1==="requestVideoFrameCallback"in e&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}dispose(){0!==this._requestVideoFrameCallbackId&&this.source.data.cancelVideoFrameCallback(this._requestVideoFrameCallbackId),super.dispose()}}export{VideoTexture};
//# sourceMappingURL=VideoTexture.js.map